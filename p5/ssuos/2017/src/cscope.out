cscope 15 /media/jahn/External1/os/p5/ssuos/2017/src               0000255452
	@boot/i386/boot1.asm

1 
	gÜg
 0x9000

3 
IDT
 
	gequ
 0x40000

5 [
BITS
 16]

7 
	gşi
 ; 
CË¬
 
IÁ”ru±
 
FÏg


9 
mov
 
	gax
, 0xb800

10 
mov
 
	ges
, 
ax


11 
mov
 
	gax
, 0x00

12 
mov
 
	gbx
, 0

13 
mov
 
	gcx
, 80*25*2

14 
	gCLS
:

15 
mov
 [
es
:
bx
], 
ax


16 
add
 
	gbx
, 1

17 
loİ
 
CLS


19 
	gIn™Ÿlize_PIC
:

20 ;
	gICW1
 - ë‘ ê°œì˜ 
	gPIC
ë¥¼ ì´ˆê¸°í™”

21 
mov
 
	g®
, 0x11

22 
	gout
 0x20, 
®


23 
	gout
 0xa0, 
	g®


25 ;
	gICW2
 - ë°œìƒëœ ì¸í„°ëŸ½íŠ¸ ë²ˆí˜¸ì— ì–¼ë§ˆë¥¼ ë”í• ì§€ ê²°ì •

26 
mov
 
	g®
, 0x20

27 
	gout
 0x21, 
®


28 
mov
 
	g®
, 0x28

29 
	gout
 0xa1, 
	g®


31 ;
	gICW3
 - ë§ˆìŠ¤í„°/ìŠ¬ë ˆì´ë¸Œ ì—°ê²° í•€ ì •ë³´ ì „ë‹¬

32 
mov
 
	g®
, 0x04

33 
	gout
 0x21, 
®


34 
mov
 
	g®
, 0x02

35 
	gout
 0xa1, 
	g®


37 ;
	gICW4
 - ê¸°íƒ€ ì˜µì…˜

38 
mov
 
	g®
, 0x01

39 
	gout
 0x21, 
®


40 
	gout
 0xa1, 
®


42 
mov
 
	g®
, 0xFF

43 ;
	gout
 0x21, 
®


44 
	gout
 0xa1, 
®


46 
	gIn™Ÿlize_S”Ÿl_pÜt
:

47 
xÜ
 
ax
,‡x

48 
xÜ
 
	gdx
, 
dx


49 
mov
 
	g®
, 0xe3

52 
	gREADY_TO_PRINT
:

53 
xÜ
 
si
, si

54 
xÜ
 
	gbh
, 
bh


55 
	gPRINT_TO_SERIAL
:

56 
mov
 
®
, [
msgRMode
+
si
]

57 
mov
 
	gah
, 0x01

59 
add
 
	gsi
, 1

60 
cmp
 
	g®
, 0

61 
jÃ
 
PRINT_TO_SERIAL


62 
	gPRINT_NEW_LINE
:

63 
mov
 
®
, 0x0a

64 
mov
 
	gah
, 0x01

66 
mov
 
	g®
, 0x0d

67 
mov
 
	gah
, 0x01

70 ;
¡i


72 
	gAùiv©e_A20G©e
:

73 
mov
 
ax
, 0x2401

76 ;
	gD‘eùšg_MemÜy
:

77 ; 
mov
 
	gax
, 0xe801

80 
	gPROTECTED
:

81 
xÜ
 
ax
,‡x

82 
mov
 
	gds
, 
ax


84 
ÿÎ
 
SETUP_GDT


86 
mov
 
	g—x
, 
ü0


87 
Ü
 
	g—x
, 1

88 
mov
 
	gü0
, 
—x


90 
jmp
 
	g$
+2

91 
nİ


92 
nİ


93 
jmp
 
	gCODEDESCRIPTOR
:
ENTRY32


95 
SETUP_GDT
:

96 
lgdt
 [
GDT_DESC
]

97 
»t


99 [
BITS
 32]

101 
ENTRY32
:

102 
mov
 
ax
, 0x10

103 
mov
 
	gds
, 
ax


104 
mov
 
	ges
, 
ax


105 
mov
 
	gfs
, 
ax


106 
mov
 
	ggs
, 
ax


108 
mov
 
	gss
, 
ax


109 
mov
 
	ge¥
, 0xFFFE

110 
mov
 
	gebp
, 0xFFFE

112 
mov
 
	gedi
, 80*2

113 
Ëa
 
	gesi
, [
msgPMode
]

114 
ÿÎ
 
	gPRINT


116 ;
IDT
 
TABLE


117 
şd


118 
mov
 
	gax
, 
IDTDESCRIPTOR


119 
mov
 
	ges
, 
ax


120 
xÜ
 
	g—x
, 
—x


121 
xÜ
 
	gecx
, 
ecx


122 
mov
 
	gax
, 256

123 
mov
 
	gedi
, 0

125 
	gIDT_LOOP
:

126 
Ëa
 
esi
, [
IDT_IGNORE
]

127 
mov
 
	gcx
, 8

128 
»p
 
movsb


129 
dec
 
ax


130 
jnz
 
IDT_LOOP


132 
	glidt
 [
IDTR
]

134 
¡i


135 
jmp
 
	gCODEDESCRIPTOR
:0x10000

138 
PRINT
:

139 
push
 
—x


140 
push
 
ebx


141 
push
 
edx


142 
push
 
es


143 
mov
 
ax
, 
VIDEODESCRIPTOR


144 
mov
 
	ges
, 
ax


145 
	gPRINT_LOOP
:

146 
Ü
 
®
,‡l

147 
jz
 
PRINT_END


148 
mov
 
	g®
, 
	gby‹
[
esi
]

149 
mov
 
	gby‹
 [
es
:
edi
], 
®


150 
šc
 
edi


151 
mov
 
	gby‹
 [
es
:
edi
], 0x07

153 
	gOUT_TO_SERIAL
:

154 
mov
 
bl
, 
®


155 
mov
 
	gdx
, 0x3fd

156 
	gCHECK_LINE_STATUS
:

157 
š
 
®
, 
dx


158 
ªd
 
	g®
, 0x20

159 
cmp
 
	g®
, 0

160 
jz
 
CHECK_LINE_STATUS


161 
mov
 
	gdx
, 0x3f8

162 
mov
 
	g®
, 
bl


163 
out
 
	gdx
, 
®


165 
šc
 
esi


166 
šc
 
edi


167 
jmp
 
PRINT_LOOP


168 
	gPRINT_END
:

169 
LINE_FEED
:

170 
mov
 
dx
, 0x3fd

171 
š
 
	g®
, 
dx


172 
ªd
 
	g®
, 0x20

173 
cmp
 
	g®
, 0

174 
jz
 
LINE_FEED


175 
mov
 
	gdx
, 0x3f8

176 
mov
 
	g®
, 0x0a

177 
out
 
	gdx
, 
®


178 
	gCARRIAGE_RETURN
:

179 
mov
 
dx
, 0x3fd

180 
š
 
	g®
, 
dx


181 
ªd
 
	g®
, 0x20

182 
cmp
 
	g®
, 0

183 
jz
 
CARRIAGE_RETURN


184 
mov
 
	gdx
, 0x3f8

185 
mov
 
	g®
, 0x0d

186 
out
 
	gdx
, 
®


188 
pİ
 
es


189 
pİ
 
edx


190 
pİ
 
ebx


191 
pİ
 
—x


192 
»t


194 
	gGDT_DESC
:

195 
dw
 
GDT_END
 - 
GDT
 - 1

196 
dd
 
GDT


197 
GDT
:

198 
NULLDESCRIPTOR
 
equ
 0x00

199 
dw
 0

200 
dw
 0

201 
db
 0

202 
db
 0

203 
db
 0

204 
db
 0

205 
CODEDESCRIPTOR
 
equ
 0x08

206 
dw
 0xffff

207 
dw
 0x0000

208 
db
 0x00

209 
db
 0x9a

210 
db
 0xcf

211 
db
 0x00

212 
DATADESCRIPTOR
 
equ
 0x10

213 
dw
 0xffff

214 
dw
 0x0000

215 
db
 0x00

216 
db
 0x92

217 
db
 0xcf

218 
db
 0x00

219 
VIDEODESCRIPTOR
 
equ
 0x18

220 
dw
 0xffff

221 
dw
 0x8000

222 
db
 0x0b

223 
db
 0x92

224 
db
 0x40

225 ;
	gdb
 0xcf

226 
	gdb
 0x00

227 
IDTDESCRIPTOR
 
	gequ
 0x20

228 
	gdw
 0xffff

229 
	gdw
 0x0000

230 
	gdb
 0x02

231 
	gdb
 0x92

232 
	gdb
 0xcf

233 
	gdb
 0x00

234 
	gGDT_END
:

235 
IDTR
:

236 
dw
 256*8-1

237 
dd
 
IDT


239 
IDT_IGNORE
:

240 
dw
 
ISR_IGNORE


241 
dw
 
CODEDESCRIPTOR


242 
db
 0

243 
db
 0x8E

244 
dw
 0x0000

245 
ISR_IGNORE
:

246 
push
 
gs


247 
push
 
fs


248 
push
 
es


249 
push
 
ds


250 
pushad


251 
pushfd


252 
şi


253 
nİ


254 
¡i


255 
pİfd


256 
pİad


257 
pİ
 
ds


258 
pİ
 
es


259 
pİ
 
fs


260 
pİ
 
gs


261 
œ‘


263 
msgRMode
 
db
 "Real Mode", 0

264 
msgPMode
 
	gdb
 "Protected Mode", 0

266 
	gtimes
 2048-(
	g$
-
	g$$
è
	gdb
 0x00

	@boot/i386/bootloader.asm

1 
	gÜg
 0x7c00Â Â 

3 
KER_SIZ
 
	gequ
 0x80

5 [
BITS
 16]

7 
	gSTART
:

8 
jmp
 
BOOT1_LOAD
 ;
	gBOOT1_LOAD
ë¡œ ì í”„

10 
	gBOOT1_LOAD
:

11 
mov
 
ax
, 0x0900

12 
mov
 
	ges
, 
ax


13 
mov
 
	gbx
, 0x0

15 ;0x13 ì¸í„°ëŸ½íŠ¸ëŠ” 
DISK
 
	gI
/
	gO
, 64ë¹„íŠ¸ì±… 
	gp136
 ì°¸ì¡°

16 
mov
 
	gah
, 2 ;0x13 ì¸í„°ëŸ½íŠ¸ í˜¸ì¶œì‹œ‡hì— ì €ì¥ëœ ê°’ì— ë”°ë¼ ìˆ˜í–‰ë˜ëŠ” ê²°ê³¼ê°€ ë‹¤ë¦„. 2ëŠ” ì„¹í„° ì½ê¸°

17 
mov
 
	g®
, 0x4 ;al ì½ì„ ì„¹í„° ìˆ˜ë¥¼ ì§€ì • 1~128 ì‚¬ì´ì˜ ê°’ì„ ì§€ì • ê°€ëŠ¥

18 
mov
 
	gch
, 0 ;ì‹¤ë¦°ë” ë²ˆí˜¸ 
	gş
ì˜ ìƒìœ„ 2ë¹„íŠ¸ê¹Œì§€ ì‚¬ìš©ê°€ëŠ¥ í•˜ì—¬ í‘œí˜„

19 
mov
 
	gş
, 2 ;ì½ê¸° ì‹œì‘í•  ì„¹í„°ì˜ ë²ˆí˜¸ 1~18 ì‚¬ì´ì˜ ê°’, 1ì—ëŠ” ë¶€íŠ¸ë¡œë”ê°€ ìˆìœ¼ë‹ˆ 2ì´ìƒë¶€í„°

20 
mov
 
	gdh
, 0 ;ì½ê¸° ì‹œì‘í•  í—¤ë“œ ë²ˆí˜¸ 1~15 ê°’

21 
mov
 
	gdl
, 0x80 ;ë“œë¼ì´ë¸Œ ë²ˆí˜¸. 0x00 - í”Œë¡œí”¼; 0x80 - ì²« ë²ˆì§¸ í•˜ë“œ, 0x81 - ë‘ ë²ˆì§¸ í•˜ë“œ

24 
jc
 
	gBOOT1_LOAD
 ;
	gC¬ry
 í”Œë˜ê·¸ ë°œìƒì‹œ(=
E¼Ü
) ë‹¤ì‹œ ì‹œë„

26 
KERNEL_LOAD
:

27 
mov
 
ax
, 0x1000 ; ë””ìŠ¤í¬ì— ìˆëŠ” ì»¤ë„ ì´ë¯¸ì§€ë¥¼ 0X10000 ë²ˆì§€ì— ì˜¬ë¦¬ê¸° ìœ„í•´ 
	gax
ì— 0x1000 ì €ì¥(
	g£gm’t
 ë ˆì§€ìŠ¤í„°ëŠ” ì£¼ì†Œ ì—°ì‚°ì‹œ 16ë¹„íŠ¸ ë”í•´ì§)

28 
mov
 
	ges
, 
	gax
 ; ì„¸ê·¸ë¨¼íŠ¸ ë ˆì§€ìŠ¤í„°ì—ëŠ” ì§ì ‘ ì£¼ì†Œ ê°’ì„ ëŒ€ì… ëª» í•˜ê³  ë²”ìš© ë ˆì§€ìŠ¤í„°ë¥¼ í†µí•´ì„œë§Œ ì…ë ¥ ê°€ëŠ¥(ì¸í…” ì„¤ê³„, 
	gıu
 íšŒë¡œì™€ ê´€ë ¨)

29 
mov
 
	gbx
, 0x0 ; bx ì´ˆê¸°í™”

31 
mov
 
	gah
, 2 ;
READ


32 
mov
 
	g®
, 
	gKER_SIZ
 ;
SECTOR
 
COUNT


33 
mov
 
	gch
, 0 ;
CYLINDER
 
NUMBER


34 
mov
 
	gş
, 0x6 ;
SECTOR
 
SEEK


35 
mov
 
	gdh
, 0 ;
HEAD


36 
mov
 
	gdl
, 0x80 ;
HARD
 
DRIVE


39 
jc
 
KERNEL_LOAD


41 
	gjmp
 0x0900:0x0000

43 
times
 510-(
$
-
$$
è
db
 0x00

44 
dw
 0xaa55

	@kernel/arch/Main.c

1 
	~<š‹¼u±.h
>

2 
	~<deviû/cÚsŞe.h
>

3 
	~<deviû/block.h
>

4 
	~<ty³.h
>

5 
	~<deviû/kbd.h
>

6 
	~<deviû/io.h
>

7 
	~<deviû/p™.h
>

8 
	~<¡d¬g.h
>

9 
	~<ssulib.h
>

10 
	~<mem/·gšg.h
>

11 
	~<´oc/´oc.h
>

12 
	~<mem/mm.h
>

13 
	~<sysÿÎ.h
>

14 
	~<deviû/kbd.h
>

16 
	~<synch.h
>

17 
	~<mem/·Îoc.h
>

19 
maš_š™
();

20 
´št_cÚŒibutÜs
();

22 cÚ¡ * 
	gVERSION
 = "0.1.02";

23 cÚ¡ * 
	gAUTHOR
 = "OSLAB";

24 cÚ¡ * 
	gMODIFIER
 = "You";

26 
	$ssuos_maš
()

28 
	`maš_š™
();

30 
	`idË
(
NULL
);

33 
	}
}

35 
	$maš_š™
()

37 
	`šŒ_di§bË
();

40 
	`š™_cÚsŞe
();

42 
	`´št_cÚŒibutÜs
();

44 
	`d‘eù_mem
();

45 
	`´štk
("%s", "Memory Detecting\n");

46 
	`´štk
("-MemÜy sizğ%u Kby‹s\n", 
	`mem_size
()/1024);

48 
	`š™_p™
();

49 
	`´štk
("%s", "PIT Intialization\n");

51 
	`š™_sysÿÎ
();

52 
	`´štk
("%s", "System call Intialization\n");

54 
	`š™_šŒ
();

55 
	`´štk
("%s", "Interrupt Initialization\n");

57 
	`š™_kbd
();

59 
	`š™_·Îoc
();

60 
	`´štk
("%s" "Palloc Initialization\n");

62 
	`š™_·gšg
();

63 
	`´štk
("%s", "Paging Initialization\n");

65 
	`š™_´oc
();

66 
	`´štk
("%s", "Process Intialization\n");

68 
	`šŒ_’abË
();

70 
	`·Îoc_pf_‹¡
();

71 #ifdeà
SCREEN_SCROLL


72 
	`»äeshSü“n
();

75 
	`£ma_£lf_‹¡
();

76 
	`´štk
("========== initialization complete ==========\n\n");

79 #ifdeà
SCREEN_SCROLL


80 
	`»äeshSü“n
();

83 
	}
}

85 
	$´št_cÚŒibutÜs
()

87 
	`´štk
("%s", "SSUOS main start!!!!\n");

88 
	`´štk
(" ______ ______ __ __ ______ ______ \n");

89 
	`´štk
(" / \\ / \\ / | / | / \\ / \\ \n");

90 
	`´štk
(" /$$$$$$ |/$$$$$$ |$$ | $$ | /$$$$$$ |/$$$$$$ |\n");

91 
	`´štk
(" $$ \\__$$/ $$ \\__$$/ $$ | $$ | $$ | $$ |$$ \\__$$/ \n");

92 
	`´štk
(" $$ \\ $$ \\ $$ | $$ | $$ | $$ |$$ \\ \n");

93 
	`´štk
(" $$$$$$ | $$$$$$ |$$ | $$ | $$ | $$ | $$$$$$ |\n");

94 
	`´štk
(" / \\__$$ |/ \\__$$ |$$ \\__$$ | $$ \\__$$ |/ \\__$$ |\n");

95 
	`´štk
(" $$ $$/ $$ $$/ $$ $$/ $$ $$/ $$ $$/ \n");

96 
	`´štk
(" $$$$$$/ $$$$$$/ $$$$$$/ $$$$$$/ $$$$$$/ \n");

97 
	`´štk
("\n");

98 
	`´štk
("****************Made by OSLAB in SoongSil University*********************\n");

99 
	`´štk
("\n");

100 
	`´štk
("contributors : Yunkyu Lee , Minwoo Jang , Sanghun Choi , Eunseok Choi\n");

101 
	`´štk
(" Hyunho Ji , Giwook Kang , Kisu Kim , Seonguk Lee \n");

102 
	`´štk
(" Gibeom Byeon, Jeonghwan Lee, Kyoungmin Kim, Myungjoon Shon\n");

103 
	`´štk
(" Jinwoo Lee , Hansol Lee , Mhanwoo Heo\n");

104 
	`´štk
("\n");

105 
	`´štk
("************************ Professor. Jiman Hong ************************\n");

106 
	`´štk
(" \n");

107 
	}
}

	@kernel/arch/do_syscall.c

1 
	~<´oc/sched.h
>

2 
	~<´oc/´oc.h
>

3 
	~<deviû/deviû.h
>

4 
	~<š‹¼u±.h
>

5 
	~<deviû/kbd.h
>

7 
pid_t
 
	$do_fÜk
(
´oc_func
 
func
, * 
aux
)

9 
pid_t
 
pid
;

10 
´oc_İtiÚ
 
İt
;

12 
İt
.
´iÜ™y
 = 
cur_´oûss
->…riority;

13 
pid
 = 
	`´oc_ü—‹
(
func
, &
İt
, 
aux
);

15  
pid
;

16 
	}
}

18 
	$do_ex™
(
¡©us
)

20 
cur_´oûss
->
ex™_¡©us
 = 
¡©us
;

21 
	`´oc_ä“
();

22 
	`do_sched_Ú_»tuº
();

23 
	}
}

25 
pid_t
 
	$do_wa™
(*
¡©us
)

27 
cur_´oûss
->
chd_pid
 != -1)

28 
	`scheduË
();

30 
pid
 = 
cur_´oûss
->
chd_pid
;

31 
cur_´oûss
->
chd_pid
 = -1;

33 
´oûss
 
´ocs
[];

34 
´ocs
[
pid
].
¡©e
 = 
PROC_UNUSED
;

36 if(!
¡©us
)

37 *
¡©us
 = 
´ocs
[
pid
].
ex™_¡©us
;

39  
pid
;

40 
	}
}

42 
	$do_shutdown
()

44 
	`dev_shutdown
();

46 
	}
}

48 
	$do_ssu»ad
()

50  
	`kbd_»ad_ch¬
();

51 
	}
}

	@kernel/arch/i386/crset.asm

1 [
SECTION
 .
‹xt
]

3 [
GLOBAL
 
»ad_ü0
]

4 
	g»ad_ü0
:

5 
push
 
ebp


6 
mov
 
ebp
, 
e¥


7 
mov
 
	g—x
, 
ü0


8 
pİ
 
ebp


9 
	g»Š


11 [
GLOBAL
 
wr™e_ü0
]

12 
	gwr™e_ü0
:

13 
push
 
ebp


14 
mov
 
ebp
, 
e¥


15 
mov
 
	g—x
, 
	gdwÜd
[
ebp
+8]

16 
mov
 
	gü0
, 
—x


17 
pİ
 
ebp


18 
	g»Š


20 [
GLOBAL
 
»ad_ü3
]

21 
	g»ad_ü3
:

22 
push
 
ebp


23 
mov
 
ebp
, 
e¥


24 
mov
 
	g—x
, 
ü3


25 
pİ
 
ebp


26 
	g»Š


28 [
GLOBAL
 
wr™e_ü3
]

29 
	gwr™e_ü3
:

30 
push
 
ebp


31 
mov
 
ebp
, 
e¥


32 
mov
 
	g—x
, 
	gdwÜd
[
ebp
+8]

33 
mov
 
	gü3
, 
—x


34 
pİ
 
ebp


35 
	g»Š


	@kernel/arch/i386/intr-stubs.S

2 .
func
 
šŒ_’Œy


3 
	gšŒ_’Œy
:

6 
pushl
 %
ds


7 
pushl
 %
es


8 
pushl
 %
fs


9 
pushl
 %
gs


10 
push®


13 
şd


15 
Ë®
 56(%
e¥
), %
ebp


18 
	gpushl
 %
	ge¥


19 .
globl
 
šŒ_commÚ


20 
ÿÎ
 
šŒ_commÚ


21 
addl
 
	g$4
, %
	ge¥


22 .
	g’dfunc


32 .
globl
 
	gšŒ_ex™


33 .
func
 
šŒ_ex™


34 
	gšŒ_ex™
:

36 
pİ®


37 
pİl
 %
gs


38 
pİl
 %
fs


39 
pİl
 %
es


40 
pİl
 %
ds


44 
addl
 
$12
, %
e¥


47 
	gœ‘


48 .
	g’dfunc


76 .
	gd©a


77 .
globl
 
šŒ_¡ubs


78 
	gšŒ_¡ubs
:

83 
	#z”o
 \

84 
pushl
 %
ebp
; \

85 
pushl
 
$0


	)

90 
	#REAL
 \

91 
	`pushl
 (%
e¥
); \

92 
movl
 %
ebp
, 4(%
e¥
)

	)

98 
	#STUB
(
NUMBER
, 
TYPE
) \

99 .
‹xt
; \

100 .
func
 
šŒ
##
NUMBER
##
_¡ub
; \

101 
šŒ
##
NUMBER
##
_¡ub
: \

102 
TYPE
; \

103 
push
 
$0x
##
NUMBER
; \

104 
jmp
 
šŒ_’Œy
; \

105 .
’dfunc
; \

107 .
d©a
; \

108 .
šŒ
##
NUMBER
##
_¡ub
;

	)

112 
	$STUB
(00, 
z”o
è
	$STUB
(01, 
z”o
è
	$STUB
(02, 
z”o
è
	$STUB
(03, 
z”o
)

113 
	$STUB
(04, 
z”o
è
	$STUB
(05, 
z”o
è
	$STUB
(06, 
z”o
è
	$STUB
(07, 
z”o
)

114 
	$STUB
(08, 
REAL
è
	$STUB
(09, 
z”o
è
	$STUB
(0a, 
REAL
è
	$STUB
(0b, 
REAL
)

115 
	$STUB
(0c, 
z”o
è
	$STUB
(0d, 
REAL
è
	$STUB
(0e, 
REAL
è
	$STUB
(0f, 
z”o
)

117 
	$STUB
(10, 
z”o
è
	$STUB
(11, 
REAL
è
	$STUB
(12, 
z”o
è
	$STUB
(13, 
z”o
)

118 
	$STUB
(14, 
z”o
è
	$STUB
(15, 
z”o
è
	$STUB
(16, 
z”o
è
	$STUB
(17, 
z”o
)

119 
	$STUB
(18, 
REAL
è
	$STUB
(19, 
z”o
è
	$STUB
(1a, 
REAL
è
	$STUB
(1b, 
REAL
)

120 
	$STUB
(1c, 
z”o
è
	$STUB
(1d, 
REAL
è
	$STUB
(1e, 
REAL
è
	$STUB
(1f, 
z”o
)

122 
	$STUB
(20, 
z”o
è
	$STUB
(21, 
z”o
è
	$STUB
(22, 
z”o
è
	$STUB
(23, 
z”o
)

123 
	$STUB
(24, 
z”o
è
	$STUB
(25, 
z”o
è
	$STUB
(26, 
z”o
è
	$STUB
(27, 
z”o
)

124 
	$STUB
(28, 
z”o
è
	$STUB
(29, 
z”o
è
	$STUB
(2a, 
z”o
è
	$STUB
(2b, 
z”o
)

125 
	$STUB
(2c, 
z”o
è
	$STUB
(2d, 
z”o
è
	$STUB
(2e, 
z”o
è
	$STUB
(2f, 
z”o
)

127 
	$STUB
(30, 
z”o
è
	$STUB
(31, 
z”o
è
	$STUB
(32, 
z”o
è
	$STUB
(33, 
z”o
)

128 
	$STUB
(34, 
z”o
è
	$STUB
(35, 
z”o
è
	$STUB
(36, 
z”o
è
	$STUB
(37, 
z”o
)

129 
	$STUB
(38, 
z”o
è
	$STUB
(39, 
z”o
è
	$STUB
(3a, 
z”o
è
	$STUB
(3b, 
z”o
)

130 
	$STUB
(3c, 
z”o
è
	$STUB
(3d, 
z”o
è
	$STUB
(3e, 
z”o
è
	$STUB
(3f, 
z”o
)

132 
	$STUB
(40, 
z”o
è
	$STUB
(41, 
z”o
è
	$STUB
(42, 
z”o
è
	$STUB
(43, 
z”o
)

133 
	$STUB
(44, 
z”o
è
	$STUB
(45, 
z”o
è
	$STUB
(46, 
z”o
è
	$STUB
(47, 
z”o
)

134 
	$STUB
(48, 
z”o
è
	$STUB
(49, 
z”o
è
	$STUB
(4a, 
z”o
è
	$STUB
(4b, 
z”o
)

135 
	$STUB
(4c, 
z”o
è
	$STUB
(4d, 
z”o
è
	$STUB
(4e, 
z”o
è
	$STUB
(4f, 
z”o
)

137 
	$STUB
(50, 
z”o
è
	$STUB
(51, 
z”o
è
	$STUB
(52, 
z”o
è
	$STUB
(53, 
z”o
)

138 
	$STUB
(54, 
z”o
è
	$STUB
(55, 
z”o
è
	$STUB
(56, 
z”o
è
	$STUB
(57, 
z”o
)

139 
	$STUB
(58, 
z”o
è
	$STUB
(59, 
z”o
è
	$STUB
(5a, 
z”o
è
	$STUB
(5b, 
z”o
)

140 
	$STUB
(5c, 
z”o
è
	$STUB
(5d, 
z”o
è
	$STUB
(5e, 
z”o
è
	$STUB
(5f, 
z”o
)

142 
	$STUB
(60, 
z”o
è
	$STUB
(61, 
z”o
è
	$STUB
(62, 
z”o
è
	$STUB
(63, 
z”o
)

143 
	$STUB
(64, 
z”o
è
	$STUB
(65, 
z”o
è
	$STUB
(66, 
z”o
è
	$STUB
(67, 
z”o
)

144 
	$STUB
(68, 
z”o
è
	$STUB
(69, 
z”o
è
	$STUB
(6a, 
z”o
è
	$STUB
(6b, 
z”o
)

145 
	$STUB
(6c, 
z”o
è
	$STUB
(6d, 
z”o
è
	$STUB
(6e, 
z”o
è
	$STUB
(6f, 
z”o
)

147 
	$STUB
(70, 
z”o
è
	$STUB
(71, 
z”o
è
	$STUB
(72, 
z”o
è
	$STUB
(73, 
z”o
)

148 
	$STUB
(74, 
z”o
è
	$STUB
(75, 
z”o
è
	$STUB
(76, 
z”o
è
	$STUB
(77, 
z”o
)

149 
	$STUB
(78, 
z”o
è
	$STUB
(79, 
z”o
è
	$STUB
(7a, 
z”o
è
	$STUB
(7b, 
z”o
)

150 
	$STUB
(7c, 
z”o
è
	$STUB
(7d, 
z”o
è
	$STUB
(7e, 
z”o
è
	`STUB
(7f, zero)

	@kernel/arch/i386/io.asm

1 [
SECTION
 .
‹xt
]

2 [
GLOBAL
 
šb
]

3 
	gšb
:

4 
push
 
ebp


5 
mov
 
ebp
, 
e¥


7 
xÜ
 
	g—x
, 
—x


8 
mov
 
	gdx
, 
	gwÜd
[
ebp
+8]

9 
š
 
	g®
, 
dx


11 
pİ
 
ebp


12 
	g»t


14 [
GLOBAL
 
outb
]

15 
	goutb
:

16 
push
 
ebp


17 
mov
 
ebp
, 
e¥


19 
mov
 
	g®
, 
	gby‹
 [
ebp
+12]

20 
mov
 
	gdx
, 
	gwÜd
 [
ebp
+8]

21 
out
 
	gdx
, 
®


23 
pİ
 
ebp


24 
	g»t


26 [
GLOBAL
 
šl
]

27 
	gšl
:

28 
push
 
ebp


29 
mov
 
ebp
, 
e¥


30 
push
 
edx


32 
mov
 
	gdx
, 
	gwÜd
 [
ebp
+8]

33 
xÜ
 
	g—x
, 
—x


35 
š
 
	g—x
, 
dx


36 
pİ
 
edx


37 
mov
 
	ge¥
, 
ebp


38 
pİ
 
ebp


39 
	g»t


41 [
GLOBAL
 
ou
]

42 
	gou
:

43 
push
 
ebp


44 
mov
 
ebp
, 
e¥


45 
push
 
edx


46 
push
 
—x


48 
mov
 
	gdx
, 
	gwÜd
 [
ebp
+8]

49 
mov
 
	g—x
, 
	gdwÜd
 [
ebp
+12]

50 
out
 
	gdx
, 
—x


52 
pİ
 
—x


53 
pİ
 
edx


54 
mov
 
	ge¥
, 
ebp


55 
pİ
 
ebp


56 
	g»t


58 [
GLOBAL
 
iowa™
]

59 
	giowa™
:

60 
push
 
ax


62 
xÜ
 
ax
,‡x

63 
	gout
 0x80, 
®


65 
pİ
 
ax


66 
	g»t


	@kernel/arch/i386/mem.asm

1 [
SECTION
 .
‹xt
]

3 [
GLOBAL
 
g‘MemSize
]

4 
	gg‘MemSize
:

5 
push
 
ecx


6 
push
 
edx


7 
xÜ
 
ecx
, 
	gecx
 ;
ş—r
 
®l
 
	g»gi¡”s
. 
This
 
is
 
Ãeded
 
‹¡šg
 
Ï‹r


8 
xÜ
 
	gedx
, 
edx


9 
mov
 
	gax
, 0xe801

11 
	gjc
 .
”rÜ


12 
cmp
 
	gah
, 0x86 ;
unsuµÜ‹d
 
funùiÚ


13 
	gje
 .
”rÜ


14 
cmp
 
	gah
, 0x80 ;
šv®id
 
commªd


15 
	gje
 .
”rÜ


16 
	gjcxz
 .
	gu£_ax
 ;
bios
 
may
 
have
 
¡Üed
 
™
 
š
 
	gax
,
bx
 
Ü
 
	gcx
,
	gdx
. 
‹¡
 
cx
 
	gis
 0

17 
pİ
 
edx


18 
pİ
 
ecx


19 
»t


21 
mov
 
	gax
, 
	gcx
 ;
™s
 
	gnÙ
, 
so
 
™
 
should
 
cÚš
 
mem
 
	gsize
; 
¡Üe
 it

22 
mov
 
	gbx
, 
	gdx


24 .
	gu£_ax
:

25 
mov
 
ax
, 
bx


26 
pİ
 
	gedx
 ;
mem
 
size
 
is
 
š
 
ax
 
ªd
 
bx
 
	g®»ady
,  
™


27 
pİ
 
ecx


28 
	g»t


30 .
	g”rÜ
:

31 
mov
 
ax
, -1

32 
mov
 
	gbx
, 0

33 
pİ
 
edx


34 
pİ
 
ecx


35 
	g»t


	@kernel/arch/i386/switch.S

2 .
£t
 
	gARG_CUR
, 8

3 .
£t
 
	gARG_NEXT
, 12

5 .
glob®
 
	gsw™ch_´oûss


7 .
func
 
sw™ch_´oûss


8 
	gsw™ch_´oûss
:

10 
pushl
 %
ebp


11 
movl
 %
e¥
, %
ebp


13 
	gpushl
 %
—x


14 
	gpushl
 %
ebx


15 
	gpushl
 %
ecx


16 
	gpushl
 %
edx


17 
	gpushl
 %
esi


18 
	gpushl
 %
	gedi


20 .
glob®
 
´oûss_¡ack_ofs


21 
mov
 
	g´oûss_¡ack_ofs
, %
edx


22 
mov
 
	g´oûss_¡ack_ofs
, %
ebx


23 
addl
 
	g$4
, %
ebx


25 
movl
 
ARG_CUR
(%
ebp
), %
—x


26 
	gmovl
 %
	ge¥
, (%
	g—x
, %
	gedx
, 1)

28 
movl
 
ARG_NEXT
(%
ebp
), %
—x


30 
movl
 (%
—x
, %
edx
, 1), %
e¥


31 
movl
 (%
—x
, %
ebx
, 1), %
ecx


32 
	gmovl
 %
	gecx
, %
ü3


34 
	gpİl
 %
edi


35 
	gpİl
 %
esi


36 
	gpİl
 %
edx


37 
	gpİl
 %
ecx


38 
	gpİl
 %
ebx


39 
	gpİl
 %
—x


41 
	gpİl
 %
ebp


43 
	g»t


	@kernel/arch/interrupt.c

1 
	~<š‹¼u±.h
>

2 
	~<deviû/cÚsŞe.h
>

3 
	~<ty³.h
>

4 
	~<deviû/p™.h
>

5 
	~<´oc/sched.h
>

6 
	~<deviû/io.h
>

7 
	~<deviû/kbd.h
>

8 
	~<´oc/´oc.h
>

9 
	~<ssulib.h
>

10 
	~<´oc/sw™ch.h
>

11 
	~<sysÿÎ.h
>

12 
	~<šŒ-¡ubs.h
>

14 
	#TIMER_MAX
 10

	)

15 
	#REFRESH_FPS
 20

	)

16 
	#CODE_SEGMENT
 0x08

	)

18 #´agm¨
·ck
(
push
, 1)

20 
	s_ID


22 
	mLowOff£t
;

23 
	mCodeS–eùÜ
;

24 
	mTy³
;

25 
	mHighOff£t
;

26 } 
	t_ID
;

28 
	s_IDTR


30 
	mSize
;

31 
	mAdd»ss
;

32 } 
	t_IDTR
;

33 #´agm¨
·ck
(
pİ
)

35 
_ID
 *
	gidt
;

37 #iâdeà
ASSERT


38 
	#ASSERT
(
CONDITION
èĞ(*è0)

	)

41 
	gticks
;

43 
šŒ_hªdËr_func
 *
	ghªdËrs
[
INTR_MAX
];

44 
boŞ
 
	gsched_Ú_»tuº
;

46 
boŞ
 
	gš_ex‹º®_šŒ
;

48 
deçuÉ_hªdËr
(
šŒ_äame
 *
iäame
);

49 
tim”_hªdËr
(
šŒ_äame
 *
iäame
);

50 
sysÿÎ_hªdËr
(
šŒ_äame
 *
iäame
);

52 
	$š™_šŒ
()

54 
i
;

56 
ticks
 = 0;

57 
š_ex‹º®_šŒ
 = 
çl£
;

58 
sched_Ú_»tuº
 = 
çl£
;

60 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
();

62 
_IDTR
 
IDTR
;

64 
__asm__
 
	`__vŞ©e
("sidˆ%0"::"m" (
IDTR
));

65 
	`´štk
("idŒ siz: %d‡dd»s : 0x%x\n", 
IDTR
.
Size
, IDTR.
Add»ss
);

66 
idt
 = (
_ID
 *)
IDTR
.
Add»ss
;

68 
i
 = 0; i<
INTR_MAX
; i++)

70 
idt
[
i
].
LowOff£t
 = ()(()
šŒ_¡ubs
[i] & 0xffff);

71 
idt
[
i
].
CodeS–eùÜ
 = ()
CODE_SEGMENT
;

72 
idt
[
i
].
Ty³
 = ()0x8e00;

73 
idt
[
i
].
HighOff£t
 = ()((()
šŒ_¡ubs
[i] >> 16) & 0xffff);

75 
hªdËrs
[
i
] = 
deçuÉ_hªdËr
;

78 
	`»g_hªdËr
(32, 
tim”_hªdËr
);

79 
	`´štk
("%s", "Timer Handler Registration\n");

81 
	`´štk
("%s", "Keyboard Handler Registeration\n");

84 
	`»g_hªdËr
(0x30, 
sysÿÎ_hªdËr
);

85 
	`´štk
("%s", "System Call Handler Registeration\n");

87 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

89 
	}
}

92 
	$šŒ_commÚ
(
šŒ_äame
 *
iäame
)

94 
š_ex‹º®_šŒ
 = 
iäame
->
vec_no
 >= 0x20 && iframe->vec_no < 0x30;

96 if(
š_ex‹º®_šŒ
)

98 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

99 
sched_Ú_»tuº
 = 
çl£
;

102 if(
hªdËrs
[
iäame
->
vec_no
] !ğ
NULL
)

103 
hªdËrs
[
iäame
->
vec_no
](iframe);

105 
	`deçuÉ_hªdËr
(
iäame
);

107 if(
š_ex‹º®_šŒ
)

109 
	`ASSERT
 (
iäame
->
vec_no
 >= 0x20 && iframe->vec_no < 0x30);

111 
š_ex‹º®_šŒ
 = 
çl£
;

113 
	`outb
(0x20, 0x20);

115 if(
iäame
->
vec_no
 >= 0x28)

116 
	`outb
(0xa0, 0x20);

118 if(
sched_Ú_»tuº
)

119 
	`scheduË
();

121 
	}
}

123 
	$do_sched_Ú_»tuº
()

125 
	`ASSERT
 (
	`šŒ_cÚ‹xt
 ());

126 
sched_Ú_»tuº
 = 
Œue
;

127 
	}
}

129 
	$»g_hªdËr
(
idx
, 
šŒ_hªdËr_func
 *
hªdËr
)

131 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
();

133 
hªdËrs
[
idx
] = 
hªdËr
;

135 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

137 
	}
}

139 
	#FLAG_MBS
 0x00000002

	)

140 
	#FLAG_IF
 0x00000200

	)

142 
šŒ_Ëv–
 
	$šŒ_g‘_Ëv–
 ()

144 
ušt32_t
 
æags
;

146 
asm
 vŞ©("pushæ;…İÈ%0" : "=g" (
æags
));

148  
æags
 & 
FLAG_IF
 ? 
INTR_ON
 : 
INTR_OFF
;

149 
	}
}

151 
šŒ_Ëv–
 
	$šŒ_£t_Ëv–
 (
šŒ_Ëv–
 
Ëv–
)

153  
Ëv–
 =ğ
INTR_ON
 ? 
	`šŒ_’abË
 (è: 
	`šŒ_di§bË
 ();

154 
	}
}

156 
šŒ_Ëv–
 
	$šŒ_’abË
 ()

158 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_g‘_Ëv–
 ();

159 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

161 
asm
 volatile ("sti");

163  
Şd_Ëv–
;

164 
	}
}

166 
šŒ_Ëv–
 
	$šŒ_di§bË
 ()

168 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_g‘_Ëv–
 ();

170 
asm
 volatile ("cli" : : : "memory");

172  
Şd_Ëv–
;

173 
	}
}

175 
boŞ
 
	$šŒ_cÚ‹xt
 ()

177  
š_ex‹º®_šŒ
;

178 
	}
}

180 
	$g‘_ticks
()

182  
ticks
;

183 
	}
}

185 
	$deçuÉ_hªdËr
(
šŒ_äame
 *
iäame
)

187 
	`´štk
("\n\nšˆšŒ %d\n\n", 
iäame
->
vec_no
);

188 
	}
}

190 
	$tim”_hªdËr
(
šŒ_äame
 *
iäame
)

192 
ticks
++;

193 
cur_´oûss
->
time_u£d
++;

194 
cur_´oûss
->
time_¦iû
++;

196 if(
cur_´oûss
->
time_¦iû
 >ğ
TIMER_MAX
)

197 
	`do_sched_Ú_»tuº
();

199 #ifdeà
SCREEN_SCROLL


200 
»äesh_ticks
 = 0;

201 if(++
»äesh_ticks
 >ğ(
PIT_FRQ_HZ
/
REFRESH_FPS
)) {

202 
»äesh_ticks
 = 0;

203 
	`»äeshSü“n
();

206 
	}
}

208 
	$sysÿÎ_hªdËr
(
šŒ_äame
 *
iäame
)

210 
sys_num
, 
¬g_num
, 
»t
;

211 *
±
;

212 
i
;

214 
	#SYSCALL_ARG_MAX
 3

	)

215 
¬g
[
SYSCALL_ARG_MAX
];

217 
±
 = (*è((()&
iäame
->
ss
) - 4);

218 
sys_num
 = *
±
++;

219 
¬g_num
 = 
sysÿÎ_tbl
[
sys_num
][1];

221 
i
 = 0; i<
¬g_num
; i++)

222 
¬g
[
i
] = *
±
++;

224 
¬g_num
)

227 
»t
 = (((*)())
sysÿÎ_tbl
[
sys_num
][0])();

230 
»t
 = (((*)())
sysÿÎ_tbl
[
sys_num
][0])(
¬g
[0]);

233 
»t
 = (((*)(, ))
sysÿÎ_tbl
[
sys_num
][0])(
¬g
[0],‡rg[1]);

236 
»t
 = (((*)(, , ))
sysÿÎ_tbl
[
sys_num
][0]è(
¬g
[0],‡rg[1],‡rg[2]);

240 *(
±
 + 3èğ
»t
;

241 
	}
}

	@kernel/arch/syscall.c

1 
	~<sysÿÎ.h
>

2 
	~<do_sysÿÎ.h
>

3 
	~<´oc/´oc.h
>

5 
	#sysÿÎ0
(
SYS_NUM
) ({ \

6 
»t
; \

7 
__asm__
 
	`__vŞ©e
( \

12 : [
num
] "g" (
SYS_NUM
) \

14 
»t
; \

15 })

	)

17 
	#sysÿÎ1
(
SYS_NUM
, 
ARG0
) ({ \

18 
»t
; \

19 
__asm__
 
	`__vŞ©e
( \

25 : [
num
] "g" (
SYS_NUM
), \

26 [
¬g0
] "g" (
ARG0
) \

28 
»t
; \

29 })

	)

31 
	#sysÿÎ2
(
SYS_NUM
, 
ARG0
, 
ARG1
) ({ \

32 
»t
; \

33 
__asm__
 
	`__vŞ©e
( \

40 : [
num
] "g" (
SYS_NUM
), \

41 [
¬g0
] "g" (
ARG0
), \

42 [
¬g1
] "g" (
ARG1
) \

44 
»t
; \

45 })

	)

47 
	#sysÿÎ3
(
SYS_NUM
, 
ARG0
, 
ARG1
, 
ARG2
) ({ \

48 
»t
; \

49 
__asm__
 
	`__vŞ©e
( \

57 : [
num
] "g" (
SYS_NUM
), \

58 [
¬g0
] "g" (
ARG0
), \

59 [
¬g1
] "g" (
ARG1
), \

60 [
¬g2
] "g" (
ARG2
) \

62 
»t
; \

63 })

	)

65 
	gsysÿÎ_tbl
[
SYS_NUM
][2];

67 
	#REGSYS
(
NUM
, 
FUNC
, 
ARG
) \

68 
sysÿÎ_tbl
[
NUM
][0] = ()
FUNC
; \

69 
sysÿÎ_tbl
[
NUM
][1] = 
ARG
;

	)

72 
	$š™_sysÿÎ
()

74 
	`REGSYS
(
SYS_FORK
, 
do_fÜk
, 2);

75 
	`REGSYS
(
SYS_EXIT
, 
do_ex™
, 1);

76 
	`REGSYS
(
SYS_WAIT
, 
do_wa™
, 1);

77 
	`REGSYS
(
SYS_SSUREAD
, 
do_ssu»ad
, 0);

78 
	`REGSYS
(
SYS_SHUTDOWN
, 
do_shutdown
, 0);

79 
	}
}

81 
	$ex™
(
¡©us
)

83 
	`sysÿÎ1
(
SYS_EXIT
, 
¡©us
);

84 
	}
}

86 
pid_t
 
	$fÜk
(
´oc_func
 
func
, * 
aux
)

88  
	`sysÿÎ2
(
SYS_FORK
, 
func
, 
aux
);

89 
	}
}

91 
pid_t
 
	$wa™
(*
¡©us
)

93  
	`sysÿÎ1
(
SYS_WAIT
, 
¡©us
);

94 
	}
}

96 
	$ssu»ad
()

98  
	`sysÿÎ0
(
SYS_SSUREAD
);

99 
	}
}

101 
	$shutdown
()

103 
	`sysÿÎ0
(
SYS_SHUTDOWN
);

104 
	}
}

	@kernel/bitmap.c

1 
	~<b™m­.h
>

2 
	~<lim™s.h
>

3 
	~<round.h
>

7 #ifdeà
FILESYS


8 
	~<fe.h
>

11 #iâdeà
ASSERT


12 
	#ASSERT
(
COND
è;

	)

23 
	t–em_ty³
;

26 
	#ELEM_BITS
 ( (
–em_ty³
è* 
CHAR_BIT
)

	)

31 
	sb™m­


33 
size_t
 
	mb™_út
;

34 
–em_ty³
 *
	mb™s
;

39 
šlše
 
size_t


40 
	$–em_idx
 (
size_t
 
b™_idx
)

42  
b™_idx
 / 
ELEM_BITS
;

43 
	}
}

47 
šlše
 
–em_ty³


48 
	$b™_mask
 (
size_t
 
b™_idx
)

50  (
–em_ty³
è1 << (
b™_idx
 % 
ELEM_BITS
);

51 
	}
}

54 
šlše
 
size_t


55 
	$–em_út
 (
size_t
 
b™_út
)

57  
	`DIV_ROUND_UP
 (
b™_út
, 
ELEM_BITS
);

58 
	}
}

61 
šlše
 
size_t


62 
	$by‹_út
 (
size_t
 
b™_út
)

64   (
–em_ty³
è* 
	`–em_út
 (
b™_út
);

65 
	}
}

69 
šlše
 
–em_ty³


70 
	$Ï¡_mask
 (cÚ¡ 
b™m­
 *
b
)

72 
Ï¡_b™s
 = 
b
->
b™_út
 % 
ELEM_BITS
;

73  
Ï¡_b™s
 ? ((
–em_ty³
) 1 <<†ast_bits) - 1 : (elem_type) -1;

74 
	}
}

107 
b™m­
 *

108 
	$b™m­_ü—‹_š_buf
 (
size_t
 
b™_út
, *
block
, size_ˆ
block_size
)

110 
b™m­
 *
b
 = 
block
;

112 
	`ASSERT
 (
block_size
 >ğ
	`b™m­_buf_size
 (
b™_út
));

114 
b
->
b™_út
 = bit_cnt;

115 
b
->
b™s
 = (
–em_ty³
 *) (b + 1);

116 
	`b™m­_£t_®l
 (
b
, 
çl£
);

117  
b
;

118 
	}
}

122 
size_t


123 
	$b™m­_buf_size
 (
size_t
 
b™_út
)

125   (
b™m­
è+ 
	`by‹_út
 (
b™_út
);

126 
	}
}

145 
size_t


146 
	$b™m­_size
 (cÚ¡ 
b™m­
 *
b
)

148  
b
->
b™_út
;

149 
	}
}

154 
	$b™m­_£t
 (
b™m­
 *
b
, 
size_t
 
idx
, 
boŞ
 
v®ue
)

156 
	`ASSERT
 (
b
 !ğ
NULL
);

157 
	`ASSERT
 (
idx
 < 
b
->
b™_út
);

158 ià(
v®ue
)

159 
	`b™m­_m¬k
 (
b
, 
idx
);

161 
	`b™m­_»£t
 (
b
, 
idx
);

162 
	}
}

166 
	$b™m­_m¬k
 (
b™m­
 *
b
, 
size_t
 
b™_idx
)

168 
size_t
 
idx
 = 
	`–em_idx
 (
b™_idx
);

169 
–em_ty³
 
mask
 = 
	`b™_mask
 (
b™_idx
);

175 
b
->
b™s
[
idx
] |ğ
mask
;

176 
	}
}

180 
	$b™m­_»£t
 (
b™m­
 *
b
, 
size_t
 
b™_idx
)

182 
size_t
 
idx
 = 
	`–em_idx
 (
b™_idx
);

183 
–em_ty³
 
mask
 = 
	`b™_mask
 (
b™_idx
);

189 
b
->
b™s
[
idx
] &ğ~
mask
;

190 
	}
}

196 
	$b™m­_æ
 (
b™m­
 *
b
, 
size_t
 
b™_idx
)

198 
size_t
 
idx
 = 
	`–em_idx
 (
b™_idx
);

199 
–em_ty³
 
mask
 = 
	`b™_mask
 (
b™_idx
);

205 
b
->
b™s
[
idx
] ^ğ
mask
;

206 
	}
}

209 
boŞ


210 
	$b™m­_‹¡
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
idx
)

212 
	`ASSERT
 (
b
 !ğ
NULL
);

213 
	`ASSERT
 (
idx
 < 
b
->
b™_út
);

214  (
b
->
b™s
[
	`–em_idx
 (
idx
)] & 
	`b™_mask
 (idx)) != 0;

215 
	}
}

221 
	$b™m­_£t_®l
 (
b™m­
 *
b
, 
boŞ
 
v®ue
)

223 
	`ASSERT
 (
b
 !ğ
NULL
);

225 
	`b™m­_£t_muÉË
 (
b
, 0, 
	`b™m­_size
 (b), 
v®ue
);

226 
	}
}

230 
	$b™m­_£t_muÉË
 (
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
 
v®ue
)

232 
size_t
 
i
;

234 
	`ASSERT
 (
b
 !ğ
NULL
);

235 
	`ASSERT
 (
¡¬t
 <ğ
b
->
b™_út
);

236 
	`ASSERT
 (
¡¬t
 + 
út
 <ğ
b
->
b™_út
);

238 
i
 = 0; i < 
út
; i++)

239 
	`b™m­_£t
 (
b
, 
¡¬t
 + 
i
, 
v®ue
);

240 
	}
}

244 
size_t


245 
	$b™m­_couÁ
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
 
v®ue
)

247 
size_t
 
i
, 
v®ue_út
;

249 
	`ASSERT
 (
b
 !ğ
NULL
);

250 
	`ASSERT
 (
¡¬t
 <ğ
b
->
b™_út
);

251 
	`ASSERT
 (
¡¬t
 + 
út
 <ğ
b
->
b™_út
);

253 
v®ue_út
 = 0;

254 
i
 = 0; i < 
út
; i++)

255 ià(
	`b™m­_‹¡
 (
b
, 
¡¬t
 + 
i
è=ğ
v®ue
)

256 
v®ue_út
++;

257  
v®ue_út
;

258 
	}
}

262 
boŞ


263 
	$b™m­_cÚšs
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
 
v®ue
)

265 
size_t
 
i
;

267 
	`ASSERT
 (
b
 !ğ
NULL
);

268 
	`ASSERT
 (
¡¬t
 <ğ
b
->
b™_út
);

269 
	`ASSERT
 (
¡¬t
 + 
út
 <ğ
b
->
b™_út
);

271 
i
 = 0; i < 
út
; i++)

272 ià(
	`b™m­_‹¡
 (
b
, 
¡¬t
 + 
i
è=ğ
v®ue
)

273  
Œue
;

274  
çl£
;

275 
	}
}

279 
boŞ


280 
	$b™m­_ªy
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
)

282  
	`b™m­_cÚšs
 (
b
, 
¡¬t
, 
út
, 
Œue
);

283 
	}
}

287 
boŞ


288 
	$b™m­_nÚe
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
)

290  !
	`b™m­_cÚšs
 (
b
, 
¡¬t
, 
út
, 
Œue
);

291 
	}
}

295 
boŞ


296 
	$b™m­_®l
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
)

298  !
	`b™m­_cÚšs
 (
b
, 
¡¬t
, 
út
, 
çl£
);

299 
	}
}

307 
size_t


308 
	$b™m­_sÿn
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
 
v®ue
)

310 
	`ASSERT
 (
b
 !ğ
NULL
);

311 
	`ASSERT
 (
¡¬t
 <ğ
b
->
b™_út
);

313 ià(
út
 <ğ
b
->
b™_út
)

315 
size_t
 
Ï¡
 = 
b
->
b™_út
 - 
út
;

316 
size_t
 
i
;

317 
i
 = 
¡¬t
; i <ğ
Ï¡
; i++)

318 ià(!
	`b™m­_cÚšs
 (
b
, 
i
, 
út
, !
v®ue
))

319  
i
;

321  
BITMAP_ERROR
;

322 
	}
}

331 
size_t


332 
	$b™m­_sÿn_ªd_æ
 (
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
 
v®ue
)

334 
size_t
 
idx
 = 
	`b™m­_sÿn
 (
b
, 
¡¬t
, 
út
, 
v®ue
);

335 ià(
idx
 !ğ
BITMAP_ERROR
)

336 
	`b™m­_£t_muÉË
 (
b
, 
idx
, 
út
, !
v®ue
);

337  
idx
;

338 
	}
}

342 #ifdeà
FILESYS


344 
size_t


345 
	$b™m­_fe_size
 (cÚ¡ 
b™m­
 *
b
)

347  
	`by‹_út
 (
b
->
b™_út
);

348 
	}
}

352 
boŞ


353 
	$b™m­_»ad
 (
b™m­
 *
b
, 
fe
 *file)

355 
boŞ
 
sucûss
 = 
Œue
;

356 ià(
b
->
b™_út
 > 0)

358 
off_t
 
size
 = 
	`by‹_út
 (
b
->
b™_út
);

359 
sucûss
 = 
	`fe_»ad_©
 (
fe
, 
b
->
b™s
, 
size
, 0) == size;

360 
b
->
b™s
[
	`–em_út
 (b->
b™_út
è- 1] &ğ
	`Ï¡_mask
 (b);

362  
sucûss
;

363 
	}
}

367 
boŞ


368 
	$b™m­_wr™e
 (cÚ¡ 
b™m­
 *
b
, 
fe
 *file)

370 
off_t
 
size
 = 
	`by‹_út
 (
b
->
b™_út
);

371  
	`fe_wr™e_©
 (
fe
, 
b
->
b™s
, 
size
, 0) == size;

372 
	}
}

	@kernel/device/block.c

1 
	~<deviû/block.h
>

2 
	~<li¡.h
>

3 
	~<¡ršg.h
>

4 
	~<¡dio.h
>

5 
	~<deviû/ide.h
>

6 
	~<mem/m®loc.h
>

9 
	sblock


11 
li¡_–em
 
	mli¡_–em
;

13 
	mÇme
[16];

14 
block_ty³
 
	mty³
;

15 
block_£ùÜ_t
 
	msize
;

17 cÚ¡ 
block_İ”©iÚs
 *
	mİs
;

18 *
	maux
;

20 
	m»ad_út
;

21 
	mwr™e_út
;

25 
li¡
 
	g®l_blocks
 = 
LIST_INITIALIZER
 (
®l_blocks
);

28 
block
 *
	gblock_by_rŞe
[
BLOCK_ROLE_CNT
];

30 
block
 *
li¡_–em_to_block
 (
li¡_–em
 *);

35 
	$block_ty³_Çme
 (
block_ty³
 
ty³
)

37 cÚ¡ *
block_ty³_Çmes
[
BLOCK_CNT
] =

48  
block_ty³_Çmes
[
ty³
];

49 
	}
}

53 
block
 *

54 
	$block_g‘_rŞe
 (
block_ty³
 
rŞe
)

57  
block_by_rŞe
[
rŞe
];

58 
	}
}

62 
	$block_£t_rŞe
 (
block_ty³
 
rŞe
, 
block
 *block)

65 
block_by_rŞe
[
rŞe
] = 
block
;

66 
	}
}

70 
block
 *

71 
	$block_fœ¡
 ()

73  
	`li¡_–em_to_block
 (
	`li¡_begš
 (&
®l_blocks
));

74 
	}
}

78 
block
 *

79 
	$block_Ãxt
 (
block
 *block)

81  
	`li¡_–em_to_block
 (
	`li¡_Ãxt
 (&
block
->
li¡_–em
));

82 
	}
}

86 
block
 *

87 
	$block_g‘_by_Çme
 (cÚ¡ *
Çme
)

89 
li¡_–em
 *
e
;

91 
e
 = 
	`li¡_begš
 (&
®l_blocks
);ƒ !ğ
	`li¡_’d
 (&all_blocks);

92 
e
 = 
	`li¡_Ãxt
 (e))

94 
block
 *block = 
	`li¡_’Œy
 (
e
, block, 
li¡_–em
);

95 ià(!
	`¡rcmp
 (
Çme
, 
block
->name))

96  
block
;

99  
NULL
;

100 
	}
}

105 
	$check_£ùÜ
 (
block
 *block, 
block_£ùÜ_t
 
£ùÜ
)

107 ià(
£ùÜ
 >ğ
block
->
size
)

111 ; ("Acûs ·¡ƒnd oàdeviû % (£ùÜ=%"
PRDSNu
", "

112 "size=%"
PRDSNu
")\n", 
	`block_Çme
 (
block
), 
£ùÜ
, block->
size
);

114 
	}
}

121 
	$block_»ad
 (
block
 *block, 
block_£ùÜ_t
 
£ùÜ
, *
bufãr
)

123 
	`check_£ùÜ
 (
block
, 
£ùÜ
);

124 
block
->
İs
->
	`»ad
 (block->
aux
, 
£ùÜ
, 
bufãr
);

125 
block
->
»ad_út
++;

126 
	}
}

134 
	$block_wr™e
 (
block
 *block, 
block_£ùÜ_t
 
£ùÜ
, cÚ¡ *
bufãr
)

136 
	`check_£ùÜ
 (
block
, 
£ùÜ
);

138 
block
->
İs
->
	`wr™e
 (block->
aux
, 
£ùÜ
, 
bufãr
);

139 
block
->
wr™e_út
++;

140 
	}
}

143 
block_£ùÜ_t


144 
	$block_size
 (
block
 *block)

146  
block
->
size
;

147 
	}
}

151 
	$block_Çme
 (
block
 *block)

153  
block
->
Çme
;

154 
	}
}

157 
block_ty³


158 
	$block_ty³
 (
block
 *block)

160  
block
->
ty³
;

161 
	}
}

165 
	$block_´št_¡©s
 ()

167 
i
;

169 
i
 = 0; i < 
BLOCK_ROLE_CNT
; i++)

171 
block
 *block = 
block_by_rŞe
[
i
];

172 ià(
block
 !ğ
NULL
)

174 
	`´štf
 ("%s (%s): %llu„eads, %llu writes\n",

175 
block
->
Çme
, 
	`block_ty³_Çme
 (block->
ty³
),

176 
block
->
»ad_út
, block->
wr™e_út
);

179 
	}
}

186 
block
 *

187 
	$block_»gi¡”
 (cÚ¡ *
Çme
, 
block_ty³
 
ty³
,

188 cÚ¡ *
exŒa_šfo
, 
block_£ùÜ_t
 
size
,

189 cÚ¡ 
block_İ”©iÚs
 *
İs
, *
aux
)

191 
block
 *block = 
	`m®loc
 ( *block);

192 ià(
block
 =ğ
NULL
)

195 
	`li¡_push_back
 (&
®l_blocks
, &
block
->
li¡_–em
);

196 
	`¡¾ıy
 (
block
->
Çme
,‚ame,  block->name);

197 
block
->
ty³
 =ype;

198 
block
->
size
 = size;

199 
block
->
İs
 = ops;

200 
block
->
aux
 =‡ux;

201 
block
->
»ad_út
 = 0;

202 
block
->
wr™e_út
 = 0;

204 
	`´štf
 ("%s: %'"
PRDSNu
" seùÜ (", 
block
->
Çme
, block->
size
);

205 
	`´št_humª_»adabË_size
 ((
ušt64_t
è
block
->
size
 * 
BLOCK_SECTOR_SIZE
);

206 
	`´štf
 (")");

207 ià(
exŒa_šfo
 !ğ
NULL
)

208 
	`´štf
 (", %s", 
exŒa_šfo
);

209 
	`´štf
 ("\n");

211  
block
;

212 
	}
}

216 
block
 *

217 
	$li¡_–em_to_block
 (
li¡_–em
 *list_elem)

219  (
li¡_–em
 !ğ
	`li¡_’d
 (&
®l_blocks
)

220 ? 
	`li¡_’Œy
 (
li¡_–em
, 
block
,†ist_elem)

221 : 
NULL
);

222 
	}
}

	@kernel/device/console.c

1 
	~<š‹¼u±.h
>

2 
	~<deviû/cÚsŞe.h
>

3 
	~<ty³.h
>

4 
	~<deviû/kbd.h
>

5 
	~<deviû/io.h
>

6 
	~<deviû/p™.h
>

7 
	~<¡d¬g.h
>

9 
	#HSCREEN
 80

	)

10 
	#VSCREEN
 25

	)

11 
	#SIZE_SCREEN
 
HSCREEN
 * 
VSCREEN


	)

12 
	#NSCROLL
 100

	)

13 
	#SIZE_SCROLL
 
NSCROLL
 * 
HSCREEN


	)

14 
	#VIDIO_MEMORY
 0xB8000

	)

16 
	#IO_BASE
 0x3F8

	)

17 
	#FIRST_SPORT
 (
IO_BASE
)

	)

18 
	#LINE_STATUS
 (
IO_BASE
 + 5è

	)

19 
	#THR_EMPTY
 0x20

	)

21 
	gÃxt_lše
[2];

23 #ifdeà
SCREEN_SCROLL


25 
	#buf_e
 (
buf_w
 + 
SIZE_NSCROLL
)

	)

26 
	#SCROLL_END
 
buf_s
 + 
SIZE_SCROLL


	)

28 
	gbuf_s
[
SIZE_SCROLL
];

29 *
	gbuf_w
;

30 *
	gbuf_p
;

32 
	gsum_y
;

34 
boŞ
 
	ga_s
 = 
TRUE
;

37 
	$š™_cÚsŞe
()

39 
Glob_x
 = 0;

40 
Glob_y
 = 2;

42 
Ãxt_lše
[0] = '\r';

43 
Ãxt_lše
[1] = '\r';

45 #ifdeà
SCREEN_SCROLL


46 
buf_w
 = 
buf_s
;

47 
buf_p
 = 
buf_s
;

48 
a_s
 = 
TRUE
;

50 
sum_y
 = 0;

53 
	}
}

55 
	$£t_cursÜ
()

57 
	`outb
(0x3D4, 0x0F);

58 
	`outb
(0x3D5, (
Glob_y
*
HSCREEN
+
Glob_x
)&0xFF);

59 
	`outb
(0x3D4, 0x0E);

60 
	`outb
(0x3D5, (((
Glob_y
*
HSCREEN
+
Glob_x
)>>8)&0xFF));

61 
	}
}

63 
	$PrštCh¬ToSü“n
(
x
, 
y
, cÚ¡ *
pSŒšg
)

65 
Glob_x
 = 
x
;

66 
Glob_y
 = 
y
;

67 
i
 = 0;

68 
pSŒšg
[
i
] != 0)

70 
	`PrštCh¬
(
Glob_x
++, 
Glob_y
, 
pSŒšg
[
i
++]);

72 
a_s
 = 
TRUE
;

73 
	}
}

75 
	$PrštCh¬
(
x
, 
y
, cÚ¡ 
SŒšg
)

77 #ifdeà
SCREEN_SCROLL


78 ià(
SŒšg
 == '\n') {

79 if((
y
+1è> 
VSCREEN
) {

80 
	`süŞl
();

81 
y
--;

83 
Glob_x
 = 0;

84 
Glob_y
 = 
y
+1;

85 
sum_y
++;

88 ià(
SŒšg
 == '\b') {

89 if(
Glob_x
 == 0) ;

90 
Glob_x
-=2;

91 
buf_w
[
y
 * 
HSCREEN
 + 
x
 - 1] = 0;

94 ià((
y
 >ğ
VSCREEN
è&& (
x
 >= 0)) {

95 
	`süŞl
();

96 
x
 = 0;

97 
y
--;

100 * 
b
 = &
buf_w
[
y
 * 
HSCREEN
 + 
x
];

101 if(
b
 >ğ
SCROLL_END
)

102 
b
-ğ
SIZE_SCROLL
;

103 *
b
 = 
SŒšg
;

105 if(
Glob_x
 >ğ
HSCREEN
)

107 
Glob_x
 = 0;

108 
Glob_y
++;

109 
sum_y
++;

113 
CHAR
 *
pSü“n
 = (CHAR *)
VIDIO_MEMORY
;

115 ià(
SŒšg
 == '\n') {

116 if((
y
+1) > 24) {

117 
	`süŞl
();

118 
y
--;

120 
pSü“n
 +ğ((
y
+1) * 80);

121 
Glob_x
 = 0;

122 
Glob_y
 = 
y
+1;

126 ià((
y
 > 24è&& (
x
 >= 0)) {

127 
	`süŞl
();

128 
x
 = 0; 
y
--;

131 
pSü“n
 +ğĞ
y
 * 80è+ 
x
;

132 
pSü“n
[0].
bA‰
 = 0x07;

133 
pSü“n
[0].
bCh
 = 
SŒšg
;

135 if(
Glob_x
 > 79)

137 
Glob_x
 = 0;

138 
Glob_y
++;

142 
	}
}

144 
	$şrSü“n
()

146 
CHAR
 *
pSü“n
 = (CHAR *è
VIDIO_MEMORY
;

147 
i
;

149 
i
 = 0; i < 80*25; i++) {

150 (*
pSü“n
).
bA‰
 = 0x07;

151 (*
pSü“n
++).
bCh
 = ' ';

153 
Glob_x
 = 0;

154 
Glob_y
 = 0;

155 
	}
}

157 
	$süŞl
()

159 #ifdeà
SCREEN_SCROLL


160 
buf_w
 +ğ
HSCREEN
;

161 
buf_p
 +ğ
HSCREEN
;

163 
buf_w
 > 
SCROLL_END
)

164 
buf_w
 -ğ
SIZE_SCROLL
;

166 
i
;

167 *
buf_±r
 = 
buf_w
 + 
SIZE_SCREEN
;

168 
i
 = 0; i < 
HSCREEN
; i++)

170 if(
buf_±r
 > 
SCROLL_END
)

171 
buf_±r
 -ğ
SIZE_SCROLL
;

172 *(
buf_±r
++) = 0;

176 
CHAR
 *
pSü“n
 = (CHAR *è
VIDIO_MEMORY
;

177 
CHAR
 *
pSüBuf
 = (CHAR *è(
VIDIO_MEMORY
 + 2*80);

178 
i
;

179 
i
 = 0; i < 80*24; i++) {

180 (*
pSü“n
).
bA‰
 = (*
pSüBuf
).bAtt;

181 (*
pSü“n
++).
bCh
 = (*
pSüBuf
++).bCh;

183 
i
 = 0; i < 80; i++) {

184 (*
pSü“n
).
bA‰
 = 0x07;

185 (*
pSü“n
++).
bCh
 = ' ';

188 
Glob_y
--;

190 
	}
}

192 #ifdeà
SERIAL_STDOUT


193 
	$´štCh¬ToS”Ÿl
(cÚ¡ *
pSŒšg
)

195 
i
;

196 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
();

197 ;*
pSŒšg
 !ğ
NULL
;…String++)

199 if(*
pSŒšg
 != '\n'){

200 (
	`šb
(
LINE_STATUS
è& 
THR_EMPTY
) == 0)

202 
	`outb
(
FIRST_SPORT
, *
pSŒšg
);

206 
i
=0; i<2; i++){

207 (
	`šb
(
LINE_STATUS
è& 
THR_EMPTY
) == 0)

209 
	`outb
(
FIRST_SPORT
, 
Ãxt_lše
[
i
]);

213 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

214 
	}
}

218 
	$´štk
(cÚ¡ *
fmt
, ...)

220 
buf
[1024];

221 
va_li¡
 
¬gs
;

222 
Ën
;

224 
	`va_¡¬t
(
¬gs
, 
fmt
);

225 
Ën
 = 
	`v¥rštk
(
buf
, 
fmt
, 
¬gs
);

226 
	`va_’d
(
¬gs
);

228 #ifdeà
SERIAL_STDOUT


229 
	`´štCh¬ToS”Ÿl
(
buf
);

231 
	`PrštCh¬ToSü“n
(
Glob_x
, 
Glob_y
, 
buf
);

233  
Ën
;

234 
	}
}

236 #ifdeà
SCREEN_SCROLL


237 
	$süŞl_sü“n
(
off£t
)

239 * 
tmp_buf_p
;

240 * 
tmp_buf_w
;

241 if(
a_s
 =ğ
TRUE
 && 
off£t
 > 0 && 
buf_p
 =ğ
buf_w
)

244 
a_s
 = 
FALSE
;

245 
tmp_buf_p
 = (*)(()
buf_p
 + (
HSCREEN
 * 
off£t
));

246 
tmp_buf_w
 = 
buf_w
 + 
SIZE_SCREEN
;

247 if(
tmp_buf_w
 > 
SCROLL_END
)

248 
tmp_buf_w
 = (*)((émp_buf_w - 
SIZE_SCROLL
);

250 if(
sum_y
 < 
NSCROLL
 && 
off£t
 < 0 && 
tmp_buf_p
 <ğ
buf_s
 && 
buf_p
 > buf_s) ;

251 if(
off£t
 > 0 && 
tmp_buf_p
 > 
buf_w
 && 
buf_p
 <= buf_w) ;

252 if(
off£t
 < 0 && 
tmp_buf_p
 <ğ
tmp_buf_w
 && 
buf_p
 >mp_buf_w) ;

254 
buf_p
 = 
tmp_buf_p
;

256 if(
buf_p
 >ğ
SCROLL_END
)

257 
buf_p
 = (*)(()buf_°- 
SIZE_SCROLL
);

258 if(
buf_p
 < 
buf_s
)

259 
buf_p
 = (*)(()buf_°+ 
SIZE_SCROLL
);

261 
	`»äeshSü“n
();

262 
	}
}

264 
	$£t_çÎow
()

266 
a_s
 = 
TRUE
;

267 
	}
}

269 
	$»äeshSü“n
()

271 
CHAR
 *
p_s
ğ(CHAR *è
VIDIO_MEMORY
;

272 
i
;

274 if(
a_s
)

275 
buf_p
 = 
buf_w
;

277 * 
b
 = 
buf_p
;

279 
i
 = 0; i < 
SIZE_SCREEN
; i++, 
b
++, 
p_s
++)

281 if(
b
 >ğ
SCROLL_END
)

282 
b
 -ğ
SIZE_SCROLL
;

283 
p_s
->
bA‰
 = 0x07;

284 
p_s
->
bCh
 = *
b
;

286 
	}
}

	@kernel/device/device.c

1 
	~<deviû/cÚsŞe.h
>

2 
	~<deviû/deviû.h
>

3 
	~<deviû/io.h
>

6 
	$dev_shutdown
()

8 cÚ¡ 
s
[] = "Shutdown";

9 cÚ¡ *
p
;

14 
	`´štk
 ("Powering off...\n");

19 
p
 = 
s
; *p != '\0';…++)

20 
	`outb
 (0x8900, *
p
);

25 
asm
 volatile ("cli; hlt" : : : "memory");

28 
	`´štk
 ("still„unning...\n");

30 
	}
}

	@kernel/device/ide.c

1 
	~<deviû/ide.h
>

2 
	~<ùy³.h
>

3 
	~<debug.h
>

4 
	~<¡dboŞ.h
>

5 
	~<¡dio.h
>

6 
	~<deviû/block.h
>

7 
	~<deviû/·¹™iÚ.h
>

8 
	~<deviû/io.h
>

9 
	~<š‹¼u±.h
>

10 
	~<synch.h
>

16 
	#»g_d©a
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 0è

	)

17 
	#»g_”rÜ
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 1è

	)

18 
	#»g_n£ù
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 2è

	)

19 
	#»g_lb®
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 3è

	)

20 
	#»g_lbam
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 4è

	)

21 
	#»g_lbah
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 5è

	)

22 
	#»g_deviû
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 6è

	)

23 
	#»g_¡©us
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 7è

	)

24 
	#»g_commªd
(
CHANNEL
è
	`»g_¡©us
 (CHANNELè

	)

29 
	#»g_ùl
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 0x206è

	)

30 
	#»g_®t_¡©us
(
CHANNEL
è
	`»g_ùl
 (CHANNELè

	)

33 
	#STA_BSY
 0x80

	)

34 
	#STA_DRDY
 0x40

	)

35 
	#STA_DRQ
 0x08

	)

38 
	#CTL_SRST
 0x04

	)

41 
	#DEV_MBS
 0xa0

	)

42 
	#DEV_LBA
 0x40

	)

43 
	#DEV_DEV
 0x10

	)

48 
	#CMD_IDENTIFY_DEVICE
 0xeø

	)

49 
	#CMD_READ_SECTOR_RETRY
 0x20

	)

50 
	#CMD_WRITE_SECTOR_RETRY
 0x30

	)

53 
	s©a_disk


55 
	mÇme
[8];

56 
chªÃl
 *
	mchªÃl
;

57 
	mdev_no
;

58 
boŞ
 
	mis_©a
;

63 
	schªÃl


65 
	mÇme
[8];

66 
ušt16_t
 
	m»g_ba£
;

67 
ušt8_t
 
	mœq
;

69 
lock
 
	mlock
;

70 
boŞ
 
	mex³ùšg_š‹¼u±
;

72 
£m­hÜe
 
	mcom¶‘iÚ_wa™
;

74 
©a_disk
 
	mdeviûs
[2];

78 
	#CHANNEL_CNT
 2

	)

79 
chªÃl
 
	gchªÃls
[
CHANNEL_CNT
];

81 
block_İ”©iÚs
 
	gide_İ”©iÚs
;

83 
»£t_chªÃl
 (
chªÃl
 *);

84 
boŞ
 
check_deviû_ty³
 (
©a_disk
 *);

85 
id’tify_©a_deviû
 (
©a_disk
 *);

87 
£Ëù_£ùÜ
 (
©a_disk
 *, 
block_£ùÜ_t
);

88 
issue_pio_commªd
 (
chªÃl
 *, 
ušt8_t
 
commªd
);

89 
šput_£ùÜ
 (
chªÃl
 *, *);

90 
ouut_£ùÜ
 (
chªÃl
 *, const *);

92 
wa™_uÁ_idË
 (cÚ¡ 
©a_disk
 *);

93 
boŞ
 
wa™_whe_busy
 (cÚ¡ 
©a_disk
 *);

94 
£Ëù_deviû
 (cÚ¡ 
©a_disk
 *);

95 
£Ëù_deviû_wa™
 (cÚ¡ 
©a_disk
 *);

97 
š‹¼u±_hªdËr
 (
šŒ_num
);

101 
	$ide_š™
 ()

103 
size_t
 
chª_no
;

105 
chª_no
 = 0; chª_nØ< 
CHANNEL_CNT
; chan_no++)

107 
chªÃl
 *
c
 = &
chªÃls
[
chª_no
];

108 
dev_no
;

111 
chª_no
)

114 
c
->
»g_ba£
 = 0x1f0;

115 
c
->
œq
 = 14 + 0x20;

118 
c
->
»g_ba£
 = 0x170;

119 
c
->
œq
 = 15 + 0x20;

122 
	`lock_š™
 (&
c
->
lock
);

123 
c
->
ex³ùšg_š‹¼u±
 = 
çl£
;

124 
	`£ma_š™
 (&
c
->
com¶‘iÚ_wa™
, 0);

127 
dev_no
 = 0; dev_no < 2; dev_no++)

129 
©a_disk
 *
d
 = &
c
->
deviûs
[
dev_no
];

130 
d
->
chªÃl
 = 
c
;

131 
d
->
dev_no
 = dev_no;

132 
d
->
is_©a
 = 
çl£
;

136 
	`»g_hªdËr
 (
c
->
œq
, ((*)(
šŒ_äame
 *))
š‹¼u±_hªdËr
);

139 
	`»£t_chªÃl
 (
c
);

142 ià(
	`check_deviû_ty³
 (&
c
->
deviûs
[0]))

143 
	`check_deviû_ty³
 (&
c
->
deviûs
[1]);

146 
dev_no
 = 0; dev_no < 2; dev_no++)

147 ià(
c
->
deviûs
[
dev_no
].
is_©a
)

148 
	`id’tify_©a_deviû
 (&
c
->
deviûs
[
dev_no
]);

150 
	}
}

153 *
desüambË_©a_¡ršg
 (*, 
size
);

158 
	$»£t_chªÃl
 (
chªÃl
 *
c
)

160 
boŞ
 
´e£Á
[2];

161 
dev_no
;

165 
dev_no
 = 0; dev_no < 2; dev_no++)

167 
©a_disk
 *
d
 = &
c
->
deviûs
[
dev_no
];

169 
	`£Ëù_deviû
 (
d
);

171 
	`outb
 (
	`»g_n£ù
 (
c
), 0x55);

172 
	`outb
 (
	`»g_lb®
 (
c
), 0xaa);

174 
	`outb
 (
	`»g_n£ù
 (
c
), 0xaa);

175 
	`outb
 (
	`»g_lb®
 (
c
), 0x55);

177 
	`outb
 (
	`»g_n£ù
 (
c
), 0x55);

178 
	`outb
 (
	`»g_lb®
 (
c
), 0xaa);

180 
´e£Á
[
dev_no
] = (
	`šb
 (
	`»g_n£ù
 (
c
)) == 0x55

181 && 
	`šb
 (
	`»g_lb®
 (
c
)) == 0xaa);

186 
	`outb
 (
	`»g_ùl
 (
c
), 0);

187 
	`outb
 (
	`»g_ùl
 (
c
), 
CTL_SRST
);

188 
	`outb
 (
	`»g_ùl
 (
c
), 0);

192 ià(
´e£Á
[0])

194 
	`£Ëù_deviû
 (&
c
->
deviûs
[0]);

195 
	`wa™_whe_busy
 (&
c
->
deviûs
[0]);

199 ià(
´e£Á
[1])

201 
i
;

203 
	`£Ëù_deviû
 (&
c
->
deviûs
[1]);

204 
i
 = 0; i < 3000; i++)

206 ià(
	`šb
 (
	`»g_n£ù
 (
c
)è=ğ1 && inb (
	`»g_lb®
 (c)) == 1)

209 
	`wa™_whe_busy
 (&
c
->
deviûs
[1]);

211 
	}
}

218 
boŞ


219 
	$check_deviû_ty³
 (
©a_disk
 *
d
)

221 
chªÃl
 *
c
 = 
d
->channel;

222 
ušt8_t
 
”rÜ
, 
lbam
, 
lbah
, 
¡©us
;

224 
	`£Ëù_deviû
 (
d
);

226 
”rÜ
 = 
	`šb
 (
	`»g_”rÜ
 (
c
));

227 
lbam
 = 
	`šb
 (
	`»g_lbam
 (
c
));

228 
lbah
 = 
	`šb
 (
	`»g_lbah
 (
c
));

229 
¡©us
 = 
	`šb
 (
	`»g_¡©us
 (
c
));

231 ià((
”rÜ
 !ğ1 && (”rÜ !ğ0x81 || 
d
->
dev_no
 == 1))

232 || (
¡©us
 & 
STA_DRDY
) == 0

233 || (
¡©us
 & 
STA_BSY
) != 0)

235 
d
->
is_©a
 = 
çl£
;

236  
”rÜ
 != 0x81;

240 
d
->
is_©a
 = (
lbam
 =ğ0 && 
lbah
 == 0) || (lbam == 0x3c &&†bah == 0xc3);

241  
Œue
;

243 
	}
}

249 
	$id’tify_©a_deviû
 (
©a_disk
 *
d
)

251 
chªÃl
 *
c
 = 
d
->channel;

252 
id
[
BLOCK_SECTOR_SIZE
];

253 
block_£ùÜ_t
 
ÿ·c™y
;

254 *
mod–
, *
£rŸl
;

255 
exŒa_šfo
[128];

256 
block
 *block;

261 
	`£Ëù_deviû_wa™
 (
d
);

262 
	`issue_pio_commªd
 (
c
, 
CMD_IDENTIFY_DEVICE
);

263 ià(!
	`wa™_whe_busy
 (
d
))

265 
d
->
is_©a
 = 
çl£
;

268 
	`šput_£ùÜ
 (
c
, 
id
);

272 
ÿ·c™y
 = *(
ušt32_t
 *è&
id
[60 * 2];

273 
mod–
 = 
	`desüambË_©a_¡ršg
 (&
id
[10 * 2], 20);

274 
£rŸl
 = 
	`desüambË_©a_¡ršg
 (&
id
[27 * 2], 40);

275 
	`¢´štf
 (
exŒa_šfo
, ƒxtra_info,

276 "mod– \"%s\", s”ŸÈ\"%s\"", 
mod–
, 
£rŸl
);

283 ià(
ÿ·c™y
 >ğ1024 * 1024 * 1024 / 
BLOCK_SECTOR_SIZE
)

285 
	`´št_humª_»adabË_size
 (
ÿ·c™y
 * 512);

286 
d
->
is_©a
 = 
çl£
;

289 
	}
}

295 
	$desüambË_©a_¡ršg
 (*
¡ršg
, 
size
)

297 
i
;

300 
i
 = 0; i + 1 < 
size
; i += 2)

302 
tmp
 = 
¡ršg
[
i
];

303 
¡ršg
[
i
] = string[i + 1];

304 
¡ršg
[
i
 + 1] = 
tmp
;

308 
size
--; size > 0; size--)

310 
c
 = 
¡ršg
[
size
 - 1];

311 ià(
c
 !ğ'\0' && !
	`is¥aû
 (c))

314 
¡ršg
[
size
] = '\0';

316  
¡ršg
;

317 
	}
}

324 
	$ide_»ad
 (*
d_
, 
block_£ùÜ_t
 
£c_no
, *
bufãr
)

326 
©a_disk
 *
d
 = 
d_
;

327 
chªÃl
 *
c
 = 
d
->channel;

328 
	`lock_acquœe
 (&
c
->
lock
);

329 
	`£Ëù_£ùÜ
 (
d
, 
£c_no
);

330 
	`issue_pio_commªd
 (
c
, 
CMD_READ_SECTOR_RETRY
);

331 
	`£ma_down
 (&
c
->
com¶‘iÚ_wa™
);

332 ià(!
	`wa™_whe_busy
 (
d
))

334 
	`šput_£ùÜ
 (
c
, 
bufãr
);

335 
	`lock_»Ëa£
 (&
c
->
lock
);

336 
	}
}

344 
	$ide_wr™e
 (*
d_
, 
block_£ùÜ_t
 
£c_no
, cÚ¡ *
bufãr
)

346 
©a_disk
 *
d
 = 
d_
;

347 
chªÃl
 *
c
 = 
d
->channel;

348 
	`lock_acquœe
 (&
c
->
lock
);

349 
	`£Ëù_£ùÜ
 (
d
, 
£c_no
);

350 
	`issue_pio_commªd
 (
c
, 
CMD_WRITE_SECTOR_RETRY
);

351 ià(!
	`wa™_whe_busy
 (
d
))

353 
	`ouut_£ùÜ
 (
c
, 
bufãr
);

354 
	`£ma_down
 (&
c
->
com¶‘iÚ_wa™
);

355 
	`lock_»Ëa£
 (&
c
->
lock
);

356 
	}
}

358 
block_İ”©iÚs
 
	gide_İ”©iÚs
 =

360 
ide_»ad
,

361 
ide_wr™e


368 
	$£Ëù_£ùÜ
 (
©a_disk
 *
d
, 
block_£ùÜ_t
 
£c_no
)

370 
chªÃl
 *
c
 = 
d
->channel;

372 
	`£Ëù_deviû_wa™
 (
d
);

373 
	`outb
 (
	`»g_n£ù
 (
c
), 1);

374 
	`outb
 (
	`»g_lb®
 (
c
), 
£c_no
);

375 
	`outb
 (
	`»g_lbam
 (
c
), 
£c_no
 >> 8);

376 
	`outb
 (
	`»g_lbah
 (
c
), (
£c_no
 >> 16));

377 
	`outb
 (
	`»g_deviû
 (
c
),

378 
DEV_MBS
 | 
DEV_LBA
 | (
d
->
dev_no
 =ğ1 ? 
DEV_DEV
 : 0è| (
£c_no
 >> 24));

379 
	}
}

384 
	$issue_pio_commªd
 (
chªÃl
 *
c
, 
ušt8_t
 
commªd
)

388 
c
->
ex³ùšg_š‹¼u±
 = 
Œue
;

389 
	`outb
 (
	`»g_commªd
 (
c
), 
commªd
);

390 
	}
}

395 
	$šput_£ùÜ
 (
chªÃl
 *
c
, *
£ùÜ
)

397 
	`šsw
 (
	`»g_d©a
 (
c
), 
£ùÜ
, 
BLOCK_SECTOR_SIZE
 / 2);

398 
	}
}

403 
	$ouut_£ùÜ
 (
chªÃl
 *
c
, cÚ¡ *
£ùÜ
)

405 
	`outsw
 (
	`»g_d©a
 (
c
), 
£ùÜ
, 
BLOCK_SECTOR_SIZE
 / 2);

406 
	}
}

416 
	$wa™_uÁ_idË
 (cÚ¡ 
©a_disk
 *
d
)

418 
i
;

420 
i
 = 0; i < 1000; i++)

422 ià((
	`šb
 (
	`»g_¡©us
 (
d
->
chªÃl
)è& (
STA_BSY
 | 
STA_DRQ
)) == 0)

425 
	}
}

431 
boŞ


432 
	$wa™_whe_busy
 (cÚ¡ 
©a_disk
 *
d
)

434 
chªÃl
 *
c
 = 
d
->channel;

435 
i
;

437 
i
 = 0; i < 3000; i++)

439 ià(
i
 == 700);

440 ià(!(
	`šb
 (
	`»g_®t_¡©us
 (
c
)è& 
STA_BSY
))

442 ià(
i
 >= 700);

443  (
	`šb
 (
	`»g_®t_¡©us
 (
c
)è& 
STA_DRQ
) != 0;

446  
çl£
;

447 
	}
}

451 
	$£Ëù_deviû
 (cÚ¡ 
©a_disk
 *
d
)

453 
chªÃl
 *
c
 = 
d
->channel;

454 
ušt8_t
 
dev
 = 
DEV_MBS
;

455 ià(
d
->
dev_no
 == 1)

456 
dev
 |ğ
DEV_DEV
;

457 
	`outb
 (
	`»g_deviû
 (
c
), 
dev
);

458 
	`šb
 (
	`»g_®t_¡©us
 (
c
));

459 
	}
}

464 
	$£Ëù_deviû_wa™
 (cÚ¡ 
©a_disk
 *
d
)

466 
	`wa™_uÁ_idË
 (
d
);

467 
	`£Ëù_deviû
 (
d
);

468 
	`wa™_uÁ_idË
 (
d
);

469 
	}
}

473 
	$š‹¼u±_hªdËr
 (
šŒ_num
)

476 
chªÃl
 *
c
;

478 
c
 = 
chªÃls
; c < chªÃl + 
CHANNEL_CNT
; c++)

479 ià(
šŒ_num
 =ğ
c
->
œq
)

481 ià(
c
->
ex³ùšg_š‹¼u±
)

483 
	`šb
 (
	`»g_¡©us
 (
c
));

484 
	`£ma_up
 (&
c
->
com¶‘iÚ_wa™
);

490 
	}
}

	@kernel/device/kbd.c

1 
	~<deviû/kbd.h
>

2 
	~<ty³.h
>

3 
	~<deviû/cÚsŞe.h
>

4 
	~<š‹¼u±.h
>

5 
	~<deviû/io.h
>

6 
	~<ssulib.h
>

8 
Key_Stus
 
	gKSt
;

9 
	gkbd_buf
[
BUFSIZ
];

11 
	gbuf_h—d
, 
	gbuf_
;

13 
BYTE
 
	gKbd_M­
[4][
KBDMAPSIZE
] = {

48 
boŞ
 
kbd_»move_ch¬
();

50 
	$š™_kbd
()

52 
KSt
.
ShiáFÏg
 = 0;

53 
KSt
.
C­¦ockFÏg
 = 0;

54 
KSt
.
NumlockFLag
 = 0;

55 
KSt
.
SüŞÎockFÏg
 = 0;

56 
KSt
.
Ex‹ÁedFÏg
 = 0;

57 
KSt
.
Pau£FÏg
 = 0;

59 
buf_h—d
 = 0;

60 
buf_
 = 0;

62 
	`»g_hªdËr
(33, 
kbd_hªdËr
);

63 
	}
}

65 
	$Upd©eKeySt
(
BYTE
 
Sÿncode
)

67 if(
Sÿncode
 & 0x80)

69 if(
Sÿncode
 == 0xB6 || Scancode == 0xAA)

71 
KSt
.
ShiáFÏg
 = 
FALSE
;

76 if(
Sÿncode
 =ğ0x3A && 
KSt
.
C­¦ockFÏg
)

78 
KSt
.
C­¦ockFÏg
 = 
FALSE
;

80 if(
Sÿncode
 == 0x3A)

81 
KSt
.
C­¦ockFÏg
 = 
TRUE
;

82 if(
Sÿncode
 == 0x36 || Scancode == 0x2A)

84 
KSt
.
ShiáFÏg
 = 
TRUE
;

87 if(
Sÿncode
 == 0xE0)

89 
KSt
.
Ex‹ÁedFÏg
 = 
TRUE
;

91 if(
KSt
.
Ex‹ÁedFÏg
 =ğ
TRUE
 && 
Sÿncode
 != 0xE0)

93 
KSt
.
Ex‹ÁedFÏg
 = 
FALSE
;

95 
	}
}

97 
BOOL
 
	$CÚv”tSÿncodeToASCII
(
BYTE
 
Sÿncode
, BYTE *
Asciicode
)

99 if(
KSt
.
Pau£FÏg
 > 0)

101 
KSt
.
Pau£FÏg
--;

102  
FALSE
;

105 if(
KSt
.
Ex‹ÁedFÏg
 =ğ
TRUE
)

107 if(
Sÿncode
 & 0x80)

108  
FALSE
;

109 *
Asciicode
 = 
Sÿncode
;

110  
TRUE
;

113 if(
Sÿncode
 == 0xE1)

115 *
Asciicode
 = 0x00;

116 
KSt
.
Pau£FÏg
 = 2;

117  
FALSE
;

120 if(
Sÿncode
 == 0xE0)

122 *
Asciicode
 = 0x00;

123  
FALSE
;

126 if(!(
Sÿncode
 & 0x80))

128 if(
KSt
.
ShiáFÏg
 & KSt.
C­¦ockFÏg
)

130 *
Asciicode
 = 
Kbd_M­
[3][
Sÿncode
 & 0x7F];

132 if(
KSt
.
ShiáFÏg
)

134 *
Asciicode
 = 
Kbd_M­
[2][
Sÿncode
 & 0x7F];

136 if(
KSt
.
C­¦ockFÏg
)

138 *
Asciicode
 = 
Kbd_M­
[1][
Sÿncode
 & 0x7F];

142 *
Asciicode
 = 
Kbd_M­
[0][
Sÿncode
];

145  
TRUE
;

147  
FALSE
;

148 
	}
}

150 
boŞ
 
	$isFuÎ
()

152  (
buf_h—d
-1è% 
BUFSIZ
 =ğ
buf_
;

153 
	}
}

155 
boŞ
 
	$isEm±y
()

157  
buf_h—d
 =ğ
buf_
;

158 
	}
}

160 
	$kbd_hªdËr
(
šŒ_äame
 *
iäame
)

162 
BYTE
 
asciicode
;

163 
BYTE
 
d©a
 = 
	`šb
(0x60);

165 if(
	`CÚv”tSÿncodeToASCII
(
d©a
, &
asciicode
))

168 #ifdeà
SCREEN_SCROLL


169 ifĞ
KSt
.
Ex‹ÁedFÏg
 =ğ
TRUE
)

171 
asciicode
)

182 
	`süŞl_sü“n
(-1);

185 
	`süŞl_sü“n
(+1);

188 
	`£t_çÎow
();

194 ifĞ!
	`isFuÎ
(è&& 
asciicode
 != 0)

196 
kbd_buf
[
buf_
] = 
asciicode
;

197 
buf_
 = (buf_ + 1è% 
BUFSIZ
;

203 
	`Upd©eKeySt
(
d©a
);

204 
	}
}

206 
	$kbd_»ad_ch¬
()

208 ifĞ
	`isEm±y
())

211 
»t
;

212 
»t
 = 
kbd_buf
[
buf_h—d
];

213 
buf_h—d
 = (buf_h—d + 1)%
BUFSIZ
;

214  
»t
;

215 
	}
}

	@kernel/device/partition.c

1 
	~<deviû/·¹™iÚ.h
>

2 
	~<·cked.h
>

3 
	~<¡dlib.h
>

4 
	~<¡ršg.h
>

5 
	~<¡dio.h
>

6 
	~<deviû/block.h
>

7 
	~<mem/m®loc.h
>

11 
	s·¹™iÚ


13 
block
 *
	mblock
;

14 
block_£ùÜ_t
 
	m¡¬t
;

17 
block_İ”©iÚs
 
	g·¹™iÚ_İ”©iÚs
;

19 
»ad_·¹™iÚ_bË
 (
block
 *, 
block_£ùÜ_t
 
£ùÜ
,

20 
block_£ùÜ_t
 
´im¬y_ex‹nded_£ùÜ
,

21 *
·¹_Ä
);

22 
found_·¹™iÚ
 (
block
 *, 
ušt8_t
 
ty³
,

23 
block_£ùÜ_t
 
¡¬t
, block_£ùÜ_ˆ
size
,

24 
·¹_Ä
);

25 cÚ¡ *
·¹™iÚ_ty³_Çme
 (
ušt8_t
);

29 
	$·¹™iÚ_sÿn
 (
block
 *block)

31 
·¹_Ä
 = 0;

32 
	`»ad_·¹™iÚ_bË
 (
block
, 0, 0, &
·¹_Ä
);

33 ià(
·¹_Ä
 == 0)

34 
	`´štf
 ("%s: Deviû cÚš nØ·¹™iÚs\n", 
	`block_Çme
 (
block
));

35 
	}
}

51 
	$»ad_·¹™iÚ_bË
 (
block
 *block, 
block_£ùÜ_t
 
£ùÜ
,

52 
block_£ùÜ_t
 
´im¬y_ex‹nded_£ùÜ
,

53 *
·¹_Ä
)

56 
	s·¹™iÚ_bË_’Œy


58 
ušt8_t
 
boÙabË
;

59 
ušt8_t
 
¡¬t_chs
[3];

60 
ušt8_t
 
ty³
;

61 
ušt8_t
 
’d_chs
[3];

62 
ušt32_t
 
off£t
;

63 
ušt32_t
 
size
;

65 
PACKED
;

68 
	s·¹™iÚ_bË


70 
ušt8_t
 
lßd”
[446];

71 
·¹™iÚ_bË_’Œy
 
·¹™iÚs
[4];

72 
ušt16_t
 
sigÇtu»
;

74 
PACKED
;

76 
·¹™iÚ_bË
 *
±
;

77 
size_t
 
i
;

80 ià(
£ùÜ
 >ğ
	`block_size
 (
block
))

82 
	`´štf
 ("%s: P¬t™iÚabË‡ˆ£ùÜ %"
PRDSNu
"…astƒnd of device.\n",

83 
	`block_Çme
 (
block
), 
£ùÜ
);

88 
	`ASSERT
 ( *
±
 =ğ
BLOCK_SECTOR_SIZE
);

89 
±
 = 
	`m®loc
 ( *pt);

90 ià(
±
 =ğ
NULL
)

92 
	`block_»ad
 (
block
, 0, 
±
);

95 ià(
±
->
sigÇtu»
 != 0xaa55)

97 ià(
´im¬y_ex‹nded_£ùÜ
 == 0)

98 
	`´štf
 ("%s: Inv®id…¬t™iÚabË sigÇtu»\n", 
	`block_Çme
 (
block
));

100 
	`´štf
 ("%s: Inv®idƒx‹nded…¬t™iÚabË iÀ£ùÜ %"
PRDSNu
"\n",

101 
	`block_Çme
 (
block
), 
£ùÜ
);

102 
	`ä“
 (
±
);

107 
i
 = 0; i <  
±
->
·¹™iÚs
 /  *pt->partitions; i++)

109 
·¹™iÚ_bË_’Œy
 *
e
 = &
±
->
·¹™iÚs
[
i
];

111 ià(
e
->
size
 =ğ0 ||ƒ->
ty³
 == 0)

115 ià(
e
->
ty³
 == 0x05

116 || 
e
->
ty³
 == 0x0f

117 || 
e
->
ty³
 == 0x85

118 || 
e
->
ty³
 == 0xc5)

120 
	`´štf
 ("%s: Ex‹nded…¬t™iÚ iÀ£ùÜ %"
PRDSNu
"\n",

121 
	`block_Çme
 (
block
), 
£ùÜ
);

131 ià(
£ùÜ
 == 0)

132 
	`»ad_·¹™iÚ_bË
 (
block
, 
e
->
off£t
,ƒ->off£t, 
·¹_Ä
);

134 
	`»ad_·¹™iÚ_bË
 (
block
, 
e
->
off£t
 + 
´im¬y_ex‹nded_£ùÜ
,

135 
´im¬y_ex‹nded_£ùÜ
, 
·¹_Ä
);

139 ++*
·¹_Ä
;

141 
	`found_·¹™iÚ
 (
block
, 
e
->
ty³
,ƒ->
off£t
 + 
£ùÜ
,

142 
e
->
size
, *
·¹_Ä
);

146 
	`ä“
 (
±
);

147 
	}
}

155 
	$found_·¹™iÚ
 (
block
 *block, 
ušt8_t
 
·¹_ty³
,

156 
block_£ùÜ_t
 
¡¬t
, block_£ùÜ_ˆ
size
,

157 
·¹_Ä
)

159 ià(
¡¬t
 >ğ
	`block_size
 (
block
))

160 
	`´štf
 ("%s%d: P¬t™iÚ s¹ ·¡ƒnd oàdeviû (£ùÜ %"
PRDSNu
")\n",

161 
	`block_Çme
 (
block
), 
·¹_Ä
, 
¡¬t
);

162 ià(
¡¬t
 + 
size
 < s¹ || s¹ + siz> 
	`block_size
 (
block
))

163 
	`´štf
 ("%s%d: P¬t™iÚƒnd (%"
PRDSNu
")…astƒnd of device (%"PRDSNu")\n",

164 
	`block_Çme
 (
block
), 
·¹_Ä
, 
¡¬t
 + 
size
, 
	`block_size
 (block));

167 
block_ty³
 
ty³
 = (
·¹_ty³
 =ğ0x20 ? 
BLOCK_KERNEL


168 : 
·¹_ty³
 =ğ0x21 ? 
BLOCK_FILESYS


169 : 
·¹_ty³
 =ğ0x22 ? 
BLOCK_SCRATCH


170 : 
·¹_ty³
 =ğ0x23 ? 
BLOCK_SWAP


171 : 
BLOCK_FOREIGN
);

172 
·¹™iÚ
 *
p
;

173 
exŒa_šfo
[128];

174 
Çme
[16];

176 
p
 = 
	`m®loc
 ( *p);

177 ià(
p
 =ğ
NULL
)

179 
p
->
block
 = block;

180 
p
->
¡¬t
 = start;

182 
	`¢´štf
 (
Çme
, ‚ame, "%s%d", 
	`block_Çme
 (
block
), 
·¹_Ä
);

183 
	`¢´štf
 (
exŒa_šfo
, ƒxtra_info, "%s (%02x)",

184 
	`·¹™iÚ_ty³_Çme
 (
·¹_ty³
),…art_type);

185 
	`block_»gi¡”
 (
Çme
, 
ty³
, 
exŒa_šfo
, 
size
, &
·¹™iÚ_İ”©iÚs
, 
p
);

187 
	}
}

191 
	$·¹™iÚ_ty³_Çme
 (
ušt8_t
 
ty³
)

197 cÚ¡ *
ty³_Çmes
[256] =

299  
ty³_Çmes
[
ty³
] !ğ
NULL
 ?ype_names[type] : "Unknown";

300 
	}
}

305 
	$·¹™iÚ_»ad
 (*
p_
, 
block_£ùÜ_t
 
£ùÜ
, *
bufãr
)

307 
·¹™iÚ
 *
p
 = 
p_
;

308 
	`block_»ad
 (
p
->
block
,…->
¡¬t
 + 
£ùÜ
, 
bufãr
);

309 
	}
}

315 
	$·¹™iÚ_wr™e
 (*
p_
, 
block_£ùÜ_t
 
£ùÜ
, cÚ¡ *
bufãr
)

317 
·¹™iÚ
 *
p
 = 
p_
;

318 
	`block_wr™e
 (
p
->
block
,…->
¡¬t
 + 
£ùÜ
, 
bufãr
);

319 
	}
}

321 
block_İ”©iÚs
 
	g·¹™iÚ_İ”©iÚs
 =

323 
·¹™iÚ_»ad
,

324 
·¹™iÚ_wr™e


	@kernel/device/pit.c

2 
	~<deviû/p™.h
>

3 
	~<deviû/io.h
>

4 
	~<š‹¼u±.h
>

6 
	$š™_p™
()

8 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
();

9 
	`outb
(
PIT_COMMAND
, (
PIT_COUNTER0
 | 
PIT_RW_LMBYTE
 | 
PIT_MODE2
 | 
PIT_BINARY
) );

10 
	`outb
(
PIT_CHANNEL0
, (
PIT_HZ
/
PIT_FRQ_HZ
)%0xff);

11 
	`outb
(
PIT_CHANNEL0
, (
PIT_HZ
/
PIT_FRQ_HZ
)>>8);

12 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

13 
	}
}

	@kernel/include/bitmap.h

1 #iâdeà
__BITMAP_H__


2 
	#__BITMAP_H__


	)

4 
	~<ty³.h
>

10 
b™m­
 *
b™m­_ü—‹_š_buf
 (
size_t
 
b™_út
, *, size_ˆ
by‹_út
);

11 
size_t
 
b™m­_buf_size
 (size_ˆ
b™_út
);

12 
b™m­_de¡roy
 (
b™m­
 *);

15 
size_t
 
b™m­_size
 (cÚ¡ 
b™m­
 *);

18 
b™m­_£t
 (
b™m­
 *, 
size_t
 
idx
, 
boŞ
);

19 
b™m­_m¬k
 (
b™m­
 *, 
size_t
 
idx
);

20 
b™m­_»£t
 (
b™m­
 *, 
size_t
 
idx
);

21 
b™m­_æ
 (
b™m­
 *, 
size_t
 
idx
);

22 
boŞ
 
b™m­_‹¡
 (cÚ¡ 
b™m­
 *, 
size_t
 
idx
);

25 
b™m­_£t_®l
 (
b™m­
 *, 
boŞ
);

26 
b™m­_£t_muÉË
 (
b™m­
 *, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
);

27 
size_t
 
b™m­_couÁ
 (cÚ¡ 
b™m­
 *, size_ˆ
¡¬t
, size_ˆ
út
, 
boŞ
);

28 
boŞ
 
b™m­_cÚšs
 (cÚ¡ 
b™m­
 *, 
size_t
 
¡¬t
, size_ˆ
út
, bool);

29 
boŞ
 
b™m­_ªy
 (cÚ¡ 
b™m­
 *, 
size_t
 
¡¬t
, size_ˆ
út
);

30 
boŞ
 
b™m­_nÚe
 (cÚ¡ 
b™m­
 *, 
size_t
 
¡¬t
, size_ˆ
út
);

31 
boŞ
 
b™m­_®l
 (cÚ¡ 
b™m­
 *, 
size_t
 
¡¬t
, size_ˆ
út
);

34 
	#BITMAP_ERROR
 
SIZE_MAX


	)

35 
size_t
 
b™m­_sÿn
 (cÚ¡ 
b™m­
 *, size_ˆ
¡¬t
, size_ˆ
út
, 
boŞ
);

36 
size_t
 
b™m­_sÿn_ªd_æ
 (
b™m­
 *, size_ˆ
¡¬t
, size_ˆ
út
, 
boŞ
);

40 #ifdeà
FILESYS


41 
	gfe
;

42 
size_t
 
b™m­_fe_size
 (cÚ¡ 
b™m­
 *);

43 
boŞ
 
b™m­_»ad
 (
b™m­
 *, 
fe
 *);

44 
boŞ
 
b™m­_wr™e
 (cÚ¡ 
b™m­
 *, 
fe
 *);

48 
b™m­_dump
 (cÚ¡ 
b™m­
 *);

	@kernel/include/ctype.h

1 #iâdeà
__LIB_CTYPE_H


2 
	#__LIB_CTYPE_H


	)

4 
šlše
 
	$i¦ow”
 (
c
è{  c >ğ'a' && c <ğ'z'; 
	}
}

5 
šlše
 
	$isuµ”
 (
c
è{  c >ğ'A' && c <ğ'Z'; 
	}
}

6 
šlše
 
	$i§Íha
 (
c
è{  
	`i¦ow”
 (cè|| 
	`isuµ”
 (c); 
	}
}

7 
šlše
 
	$isdig™
 (
c
è{  c >ğ'0' && c <ğ'9'; 
	}
}

8 
šlše
 
	$i§Êum
 (
c
è{  
	`i§Íha
 (cè|| 
	`isdig™
 (c); 
	}
}

9 
šlše
 
	$isxdig™
 (
c
) {

10  
	`isdig™
 (
c
) || (c >= 'a' && c <= 'f') || (c >= 'A' && c <= 'F');

11 
	}
}

12 
šlše
 
	$is¥aû
 (
c
) {

13  (
c
 == ' ' || c == '\f' || c == '\n'

14 || 
c
 == '\r' || c == '\t' || c == '\v');

15 
	}
}

16 
šlše
 
	$isbÏnk
 (
c
è{  c =ğ' ' || c =ğ'\t'; 
	}
}

17 
šlše
 
	$isg¿ph
 (
c
è{  c > 32 && c < 127; 
	}
}

18 
šlše
 
	$i¥ršt
 (
c
è{  c >ğ32 && c < 127; 
	}
}

19 
šlše
 
	$isúŒl
 (
c
è{  (ø>ğ0 && c < 32è|| c =ğ127; 
	}
}

20 
šlše
 
	$i§scii
 (
c
è{  c >ğ0 && c < 128; 
	}
}

21 
šlše
 
	$i¥unù
 (
c
) {

22  
	`i¥ršt
 (
c
è&& !
	`i§Êum
 (cè&& !
	`is¥aû
 (c);

23 
	}
}

25 
šlše
 
	$tŞow”
 (
c
è{  
	`isuµ”
 (cè? c - 'A' + 'a' : c; 
	}
}

26 
šlše
 
	$touµ”
 (
c
è{  
	`i¦ow”
 (cè? c - 'a' + 'A' : c; 
	}
}

	@kernel/include/debug.h

1 #iâdeà
__LIB_DEBUG_H


2 
	#__LIB_DEBUG_H


	)

7 
	#UNUSED
 
	`__©Œibu‹__
 ((
unu£d
))

	)

8 
	#NO_RETURN
 
	`__©Œibu‹__
 ((
nÜ‘uº
))

	)

9 
	#NO_INLINE
 
	`__©Œibu‹__
 ((
nošlše
))

	)

10 
	#PRINTF_FORMAT
(
FMT
, 
FIRST
è
	`__©Œibu‹__
 ((
	`fÜm©
 (
´štf
, FMT, FIRST)))

	)

14 
	#PANIC
(...è
	`debug_·nic
 (
__FILE__
, 
__LINE__
, 
__func__
, 
__VA_ARGS__
)

	)

16 
	$debug_·nic
 (cÚ¡ *
fe
, 
lše
, cÚ¡ *
funùiÚ
,

17 cÚ¡ *
mes§ge
, ...è
	$PRINTF_FORMAT
 (4, 5è
NO_RETURN
;

18 
	`debug_backŒaû
 ();

19 
	`debug_backŒaû_®l
 ();

27 #undeà
ASSERT


28 #undeà
NOT_REACHED


30 #iâdeà
NDEBUG


31 
	#ASSERT
(
CONDITION
) \

32 ià(
CONDITION
è{ 
	}
} { \

33 
	`PANIC
 ("assertion `%s' failed.", #CONDITION); \

34 }

	)

35 
	#NOT_REACHED
(è
	`PANIC
 ("execu‹d‡ÀuÄ—chabË s‹m’t");

	)

37 
	#ASSERT
(
CONDITION
è((è0)

	)

38 
	#NOT_REACHED
(è;;)

	)

	@kernel/include/device/block.h

1 #iâdeà
DEVICES_BLOCK_H


2 
	#DEVICES_BLOCK_H


	)

4 
	~<¡ddef.h
>

5 
	~<š‰y³s.h
>

11 
	#BLOCK_SECTOR_SIZE
 512

	)

15 
ušt32_t
 
	tblock_£ùÜ_t
;

19 
	#PRDSNu
 
PRIu32


	)

23 
	gblock
;

26 
	eblock_ty³


29 
	mBLOCK_KERNEL
,

30 
	mBLOCK_FILESYS
,

31 
	mBLOCK_SCRATCH
,

32 
	mBLOCK_SWAP
,

33 
	mBLOCK_ROLE_CNT
,

37 
	mBLOCK_RAW
 = 
BLOCK_ROLE_CNT
,

38 
	mBLOCK_FOREIGN
,

39 
	mBLOCK_CNT


42 cÚ¡ *
block_ty³_Çme
 (
block_ty³
);

45 
block
 *
block_g‘_rŞe
 (
block_ty³
);

46 
block_£t_rŞe
 (
block_ty³
, 
block
 *);

47 
block
 *
block_g‘_by_Çme
 (cÚ¡ *
Çme
);

49 
block
 *
block_fœ¡
 ();

50 
block
 *
block_Ãxt
 (block *);

53 
block_£ùÜ_t
 
block_size
 (
block
 *);

54 
block_»ad
 (
block
 *, 
block_£ùÜ_t
, *);

55 
block_wr™e
 (
block
 *, 
block_£ùÜ_t
, const *);

56 cÚ¡ *
block_Çme
 (
block
 *);

57 
block_ty³
 block_ty³ (
block
 *);

60 
block_´št_¡©s
 ();

64 
	sblock_İ”©iÚs


66 (*
	m»ad
è(*
	maux
, 
	mblock_£ùÜ_t
, *
	mbufãr
);

67 (*
	mwr™e
è(*
	maux
, 
	mblock_£ùÜ_t
, cÚ¡ *
	mbufãr
);

70 
block
 *
block_»gi¡”
 (cÚ¡ *
Çme
, 
block_ty³
,

71 cÚ¡ *
exŒa_šfo
, 
block_£ùÜ_t
 
size
,

72 cÚ¡ 
block_İ”©iÚs
 *, *
aux
);

	@kernel/include/device/console.h

1 #iâdeà
__CONSOLE_H__


2 
	#__CONSOLE_H__


	)

4 #´agm¨
·ck
(
push
, 1)

6 
	skChSŒuù


8 
	mbCh
;

9 
	mbA‰
;

10 } 
	tCHAR
;

12 
	gGlob_x
;

13 
	gGlob_y
;

15 #´agm¨
·ck
(
pİ
)

17 
	#SCREEN_SCROLL


	)

18 
	#SERIAL_STDOUT


	)

20 
š™_cÚsŞe
();

22 
PrštCh¬ToSü“n
(
x
, 
y
, cÚ¡ *
pSŒšg
);

23 
PrštCh¬
(
x
, 
y
, cÚ¡ 
SŒšg
);

25 
şrSü“n
();

26 
süŞl
();

27 
´štk
(cÚ¡ *
fmt
, ...);

29 #ifdeà
SCREEN_SCROLL


30 
»äeshSü“n
();

31 
süŞl_sü“n
(
off£t
);

32 
£t_çÎow
();

33 
£t_cursÜ
();

	@kernel/include/device/device.h

1 #iâdef 
__DEVICE_H__


2 
	#__DEVICE_H__


	)

4 
dev_shutdown
();

	@kernel/include/device/ide.h

	@kernel/include/device/io.h

1 #iâdef 
__IO_H__


2 
	#__IO_H__


	)

4 
	~<¡ddef.h
>

5 
	~<¡dšt.h
>

7 
outb
(
pÜt
, 
d©a
);

8 
šb
(
pÜt
);

9 
ou
(
pÜt
, 
d©a
);

10 
šl
(
pÜt
);

11 
iowa™
();

13 
»ad_ü0
();

14 
wr™e_ü0
(
d©a
);

15 
»ad_ü3
();

16 
wr™e_ü3
(
d©a
);

17 
»ad_ü4
();

18 
wr™e_ü4
(
d©a
);

20 
dev_shutdown
();

24 
šlše
 

25 
	$šsw
 (
ušt16_t
 
pÜt
, *
addr
, 
size_t
 
út
)

28 
asm
 vŞ©("»°šsw" : "+D" (
addr
), "+c" (
út
è: "d" (
pÜt
) : "memory");

29 
	}
}

33 
šlše
 

34 
	$outsw
 (
ušt16_t
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
út
)

37 
asm
 vŞ©("»°outsw" : "+S" (
addr
), "+c" (
út
è: "d" (
pÜt
));

38 
	}
}

	@kernel/include/device/kbd.h

1 #iâdeà
__KDB_H__


2 
	#__KDB_H__


	)

4 
	~<ty³.h
>

5 
	~<š‹¼u±.h
>

7 
	#KBDMAPSIZE
 86

	)

9 
	#KEY_ESC
 0x1B

	)

10 
	#KEY_RSHIFT
 0x02

	)

11 
	#KEY_PRTSCN
 0x03

	)

12 
	#KEY_LALT
 0x04

	)

13 
	#KEY_SPACE
 0x05

	)

14 
	#KEY_CAPS
 0x06

	)

15 
	#KEY_F1
 0X07

	)

16 
	#KEY_F2
 0x08

	)

17 
	#KEY_F3
 0x09

	)

18 
	#KEY_F4
 0x0A

	)

19 
	#KEY_F5
 0x0B

	)

20 
	#KEY_F6
 0x0C

	)

21 
	#KEY_F7
 0x0D

	)

22 
	#KEY_F8
 0x0E

	)

23 
	#KEY_F9
 0x0F

	)

24 
	#KEY_F10
 0x10

	)

25 
	#KEY_F11
 0x11

	)

26 
	#KEY_F12
 0x12

	)

27 
	#KEY_BSPACE
 0x13

	)

28 
	#KEY_TAB
 0x14

	)

30 
	sKey_Stus_SŒuù
 {

31 
BOOL
 
	mShiáFÏg
;

32 
BOOL
 
	mC­¦ockFÏg
;

33 
BOOL
 
	mNumlockFLag
;

34 
BOOL
 
	mSüŞÎockFÏg
;

36 
BOOL
 
	mEx‹ÁedFÏg
;

37 
	mPau£FÏg
;

38 } 
	tKey_Stus
;

40 
Upd©eKeySt
(
BYTE
);

41 
BOOL
 
CÚv”tSÿncodeToASCII
(
BYTE
, BYTE *);

42 
š™_kbd
();

43 
kbd_hªdËr
(
šŒ_äame
 *
iäame
);

45 
kbd_»ad_ch¬
();

	@kernel/include/device/partition.h

1 #iâdeà
DEVICES_PARTITION_H


2 
	#DEVICES_PARTITION_H


	)

4 
	gblock
;

6 
·¹™iÚ_sÿn
 (
block
 *);

	@kernel/include/device/pit.h

1 #iâdef 
__PIT_H__


2 
	#__PIT_H__


	)

4 
	#PIT_CHANNEL0
 0x40

	)

5 
	#PIT_CHANNEL1
 0x41

	)

6 
	#PIT_CHANNEL2
 0x42

	)

7 
	#PIT_COMMAND
 0x43

	)

9 
	#PIT_COUNTER0
 0x00

	)

10 
	#PIT_COUNTER1
 0x40

	)

11 
	#PIT_COUNTER2
 0x80

	)

12 
	#PIT_READBACK
 0xA0

	)

14 
	#PIT_RW_COUNTER_LATCH
 0x00

	)

15 
	#PIT_RW_LBYTE
 0x10

	)

16 
	#PIT_RW_MBYTE
 0x20

	)

17 
	#PIT_RW_LMBYTE
 0x30

	)

19 
	#PIT_MODE0
 
Ox00


	)

20 
	#PIT_MODE1
 0x02

	)

21 
	#PIT_MODE2
 0x04

	)

22 
	#PIT_MODE3
 0x06

	)

23 
	#PIT_MODE4
 0x08

	)

24 
	#PIT_MODE5
 0x0A

	)

26 
	#PIT_BINARY
 0x00

	)

27 
	#PIT_BCD
 0x01

	)

29 
	#PIT_HZ
 1193181

	)

30 
	#PIT_FRQ_HZ
 1000

	)

32 
š™_p™
();

	@kernel/include/do_syscall.h

1 #iâdef 
__DO_SYSCALL_H__


2 
	#__DO_SYSCALL_H__


	)

4 
pid_t
 
do_fÜk
(
´oc_func
 
func
, * 
aux
);

5 
do_ex™
(
¡©us
);

6 
pid_t
 
do_wa™
(*
¡©us
);

7 
do_ssu»ad
(
ty³
, * 
buf
, 
Ën
);

8 
do_shutdown
();

	@kernel/include/interrupt.h

1 #iâdeà
__INTERRUPT_H__


2 
	#__INTERRUPT_H__


	)

4 
	#HLT
(è
__asm__
 
	`__vŞ©e
("hÉ");

	)

6 
	~<ty³.h
>

9 
	ešŒ_Ëv–


11 
	mINTR_OFF
,

12 
	mINTR_ON


15 
šŒ_Ëv–
 
šŒ_g‘_Ëv–
 ();

16 
šŒ_Ëv–
 
šŒ_£t_Ëv–
 (intr_level);

17 
šŒ_Ëv–
 
šŒ_’abË
 ();

18 
šŒ_Ëv–
 
šŒ_di§bË
 ();

20 #´agm¨
·ck
(
push
, 1)

23 
	sšŒ_äame


27 
ušt32_t
 
	medi
;

28 
ušt32_t
 
	mesi
;

29 
ušt32_t
 
	mebp
;

30 
ušt32_t
 
	me¥_dummy
;

31 
ušt32_t
 
	mebx
;

32 
ušt32_t
 
	medx
;

33 
ušt32_t
 
	mecx
;

34 
ušt32_t
 
	m—x
;

35 
ušt16_t
 
	mgs
, :16;

36 
ušt16_t
 
	mfs
, :16;

37 
ušt16_t
 
	mes
, :16;

38 
ušt16_t
 
	mds
, :16;

41 
ušt32_t
 
	mvec_no
;

46 
ušt32_t
 
	m”rÜ_code
;

50 *
	mäame_poš‹r
;

54 (*
	me
) ();

55 
ušt16_t
 
	mcs
, :16;

56 
ušt32_t
 
	meæags
;

57 *
	me¥
;

58 
ušt16_t
 
	mss
, :16;

61 #´agm¨
·ck
(
pİ
)

63 
	tšŒ_hªdËr_func
 (
	tšŒ_äame
 *);

64 
boŞ
 
šŒ_cÚ‹xt
 ();

65 
do_sched_Ú_»tuº
();

67 
š™_šŒ
();

68 
»g_hªdËr
(
idx
, 
šŒ_hªdËr_func
 *
hªdËr
);

69 
g‘_ticks
();

71 #iâdeà
__ASSEMBLER__


	@kernel/include/intr-stubs.h

1 #iâdeà
_INTR_STUBS_H_


2 
	#_INTR_STUBS_H_


	)

4 
	#INTR_MAX
 256

	)

15 
	tšŒ_¡ub_func
 ();

16 
šŒ_¡ub_func
 *
šŒ_¡ubs
[
INTR_MAX
];

19 
šŒ_ex™
 ();

	@kernel/include/inttypes.h

1 #iâdeà
__LIB_INTTYPES_H


2 
	#__LIB_INTTYPES_H


	)

4 
	~<¡dšt.h
>

6 
	#PRId8
 "hhd"

	)

7 
	#PRIi8
 "hhi"

	)

8 
	#PRIo8
 "hho"

	)

9 
	#PRIu8
 "hhu"

	)

10 
	#PRIx8
 "hhx"

	)

11 
	#PRIX8
 "hhX"

	)

13 
	#PRId16
 "hd"

	)

14 
	#PRIi16
 "hi"

	)

15 
	#PRIo16
 "ho"

	)

16 
	#PRIu16
 "hu"

	)

17 
	#PRIx16
 "hx"

	)

18 
	#PRIX16
 "hX"

	)

20 
	#PRId32
 "d"

	)

21 
	#PRIi32
 "i"

	)

22 
	#PRIo32
 "o"

	)

23 
	#PRIu32
 "u"

	)

24 
	#PRIx32
 "x"

	)

25 
	#PRIX32
 "X"

	)

27 
	#PRId64
 "Îd"

	)

28 
	#PRIi64
 "Îi"

	)

29 
	#PRIo64
 "Îo"

	)

30 
	#PRIu64
 "Îu"

	)

31 
	#PRIx64
 "Îx"

	)

32 
	#PRIX64
 "ÎX"

	)

34 
	#PRIdMAX
 "jd"

	)

35 
	#PRIiMAX
 "ji"

	)

36 
	#PRIoMAX
 "jo"

	)

37 
	#PRIuMAX
 "ju"

	)

38 
	#PRIxMAX
 "jx"

	)

39 
	#PRIXMAX
 "jX"

	)

41 
	#PRIdPTR
 "td"

	)

42 
	#PRIiPTR
 "ti"

	)

43 
	#PRIoPTR
 "to"

	)

44 
	#PRIuPTR
 "tu"

	)

45 
	#PRIxPTR
 "tx"

	)

46 
	#PRIXPTR
 "tX"

	)

	@kernel/include/limits.h

1 #iâdeà
__LIMITS_H__


2 
	#__LIMITS_H__


	)

4 
	#CHAR_BIT
 8

	)

6 
	#SCHAR_MAX
 127

	)

7 
	#SCHAR_MIN
 (-
SCHAR_MAX
 - 1)

	)

8 
	#UCHAR_MAX
 255

	)

10 #ifdeà
__CHAR_UNSIGNED__


11 
	#CHAR_MIN
 0

	)

12 
	#CHAR_MAX
 
UCHAR_MAX


	)

14 
	#CHAR_MIN
 
SCHAR_MIN


	)

15 
	#CHAR_MAX
 
SCHAR_MAX


	)

18 
	#SHRT_MAX
 32767

	)

19 
	#SHRT_MIN
 (-
SHRT_MAX
 - 1)

	)

20 
	#USHRT_MAX
 65535

	)

22 
	#INT_MAX
 2147483647

	)

23 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

24 
	#UINT_MAX
 4294967295U

	)

26 
	#LONG_MAX
 2147483647L

	)

27 
	#LONG_MIN
 (-
LONG_MAX
 - 1)

	)

28 
	#ULONG_MAX
 4294967295UL

	)

30 
	#LLONG_MAX
 9223372036854775807LL

	)

31 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1)

	)

32 
	#ULLONG_MAX
 18446744073709551615ULL

	)

	@kernel/include/list.h

1 #iâdeà
__LIST_H__


2 
	#__LIST_H__


	)

85 
	~<ssulib.h
>

86 
	~<ty³.h
>

89 
	sli¡_–em


91 
li¡_–em
 *
	m´ev
;

92 
li¡_–em
 *
	mÃxt
;

96 
	sli¡


98 
li¡_–em
 
	mh—d
;

99 
li¡_–em
 
	m
;

107 
	#li¡_’Œy
(
LIST_ELEM
, 
STRUCT
, 
MEMBER
) \

108 ((
STRUCT
 *è((
ušt8_t
 *è&(
LIST_ELEM
)->
Ãxt
 \

109 - 
	`off£tof
 (
STRUCT
, 
MEMBER
.
Ãxt
)))

	)

121 
	#LIST_INITIALIZER
(
NAME
è{ { 
NULL
, &(NAME).

 }, \

122 { &(
NAME
).
h—d
, 
NULL
 } }

	)

124 
li¡_š™
 (
li¡
 *);

127 
li¡_–em
 *
li¡_begš
 (
li¡
 *);

128 
li¡_–em
 *
li¡_Ãxt
 (list_elem *);

129 
li¡_–em
 *
li¡_’d
 (
li¡
 *);

131 
li¡_–em
 *
li¡_rbegš
 (
li¡
 *);

132 
li¡_–em
 *
li¡_´ev
 (list_elem *);

133 
li¡_–em
 *
li¡_»nd
 (
li¡
 *);

135 
li¡_–em
 *
li¡_h—d
 (
li¡
 *);

136 
li¡_–em
 *
li¡_
 (
li¡
 *);

139 
li¡_š£¹
 (
li¡_–em
 *, list_elem *);

140 
li¡_¥liû
 (
li¡_–em
 *
befÜe
,

141 
li¡_–em
 *
fœ¡
, li¡_–em *
Ï¡
);

142 
li¡_push_äÚt
 (
li¡
 *, 
li¡_–em
 *);

143 
li¡_push_back
 (
li¡
 *, 
li¡_–em
 *);

146 
li¡_–em
 *
li¡_»move
 (list_elem *);

147 
li¡_–em
 *
li¡_pİ_äÚt
 (
li¡
 *);

148 
li¡_–em
 *
li¡_pİ_back
 (
li¡
 *);

151 
li¡_–em
 *
li¡_äÚt
 (
li¡
 *);

152 
li¡_–em
 *
li¡_back
 (
li¡
 *);

155 
size_t
 
li¡_size
 (
li¡
 *);

156 
boŞ
 
li¡_em±y
 (
li¡
 *);

159 
li¡_»v”£
 (
li¡
 *);

164 
boŞ
 
	tli¡_Ëss_func
 (cÚ¡ 
	tli¡_–em
 *
	ta
,

165 cÚ¡ 
	tli¡_–em
 *
	tb
,

166 *
	taux
);

169 
li¡_sÜt
 (
li¡
 *,

170 
li¡_Ëss_func
 *, *
aux
);

171 
li¡_š£¹_Üd”ed
 (
li¡
 *, 
li¡_–em
 *,

172 
li¡_Ëss_func
 *, *
aux
);

173 
li¡_unique
 (
li¡
 *, li¡ *
du¶iÿ‹s
,

174 
li¡_Ëss_func
 *, *
aux
);

177 
li¡_–em
 *
li¡_max
 (
li¡
 *, 
li¡_Ëss_func
 *, *
aux
);

178 
li¡_–em
 *
li¡_mš
 (
li¡
 *, 
li¡_Ëss_func
 *, *
aux
);

	@kernel/include/loader.h

1 #iâdeà
THREADS_LOADER_H


2 
	#THREADS_LOADER_H


	)

5 
	#LOADER_BASE
 0x7c00

	)

6 
	#LOADER_END
 0x7e00

	)

9 
	#LOADER_KERN_BASE
 0x20000

	)

13 
	#LOADER_PHYS_BASE
 0xc0000000

	)

16 
	#LOADER_SIG
 (
LOADER_END
 - 
LOADER_SIG_LEN
è

	)

17 
	#LOADER_PARTS
 (
LOADER_SIG
 - 
LOADER_PARTS_LEN
è

	)

18 
	#LOADER_ARGS
 (
LOADER_PARTS
 - 
LOADER_ARGS_LEN
è

	)

19 
	#LOADER_ARG_CNT
 (
LOADER_ARGS
 - 
LOADER_ARG_CNT_LEN
è

	)

22 
	#LOADER_SIG_LEN
 2

	)

23 
	#LOADER_PARTS_LEN
 64

	)

24 
	#LOADER_ARGS_LEN
 128

	)

25 
	#LOADER_ARG_CNT_LEN
 4

	)

29 
	#SEL_NULL
 0x00

	)

30 
	#SEL_KCSEG
 0x08

	)

31 
	#SEL_KDSEG
 0x10

	)

33 #iâdeà
__ASSEMBLER__


34 
	~<¡dšt.h
>

37 
ušt32_t
 
š™_¿m_·ges
;

	@kernel/include/mem/malloc.h

1 #iâdef 
__MALLOC_H__


2 
	#__MALLOC_H__


	)

5 * 
m®loc
(
size
);

6 
ä“
(* 
buf
);

	@kernel/include/mem/mm.h

1 #iâdef 
__MEM_H__


2 
	#__MEM_H__


	)

4 
mem_size
();

5 
d‘eù_mem
();

6 * 
mem£t
(* 
d¡_
, 
v®ue
, 
size
);

	@kernel/include/mem/paging.h

1 #iâdeà
__PAGING_H__


2 
	#__PAGING_H__


	)

4 
	~<ty³.h
>

5 
	~<´oc/´oc.h
>

7 
	#CR0_FLAG_PG
 0x80000000

8 
	#CR0_FLAG_PE
 0x00000001

9 

	)

10 
	#PAGE_FLAG_PRESENT
 0x01

11 
	#PAGE_FLAG_RW
 0x02

12 
	#PAGE_FLAG_USER
 0x04

13 
	#PAGE_FLAG_WRITE
 0x08

14 
	#PAGE_FLAG_CACHE
 0x10

15 
	#PAGE_FLAG_ACCESS
 0x20

16 
	#PAGE_FLAG_AVAIL
 0x40

17 
	#PAGE_FLAG_DIRTY
 0x40

18 
	#PAGE_FLAG_SIZE
 0x80

19 
	#PAGE_FLAG_PTA
 0x80

20 
	#PAGE_FLAG_GLOB
 0x100

21 
	#PAGE_ADDR_AVAIL
 0x200

22 
	#PAGE_ADDR_BASE
 0x1000

23 

	)

24 
	#PAGE_MASK_BASE
 0xFFFFF000

25 
	#PAGE_MASK_PDE
 0xFFC00000

26 
	#PAGE_MASK_PTE
 0x003FF000

27 
	#PAGE_OFFSET_PDE
 22

28 
	#PAGE_OFFSET_PTE
 12

29 

	)

30 
	#PAGE_SIZE
 4096

31 
	#PAGE_TBL_SIZE
 4096

32 
	#PAGE_DIR_SIZE
 4096

33 

	)

34 
	#KERNEL_ADDR
 0x00100000

35 
	#RKERNEL_HEAP_START
 0x00200000

36 
	#VKERNEL_HEAP_START
 0xc0000000

37 

	)

38 
	#VH_TO_RH
(
addr
è(
ušt32_t
 *)((ušt32_tïdd¸- 
VKERNEL_HEAP_START
 + 
RKERNEL_HEAP_START
)

	)

39 
	#RH_TO_VH
(
addr
è(
ušt32_t
 *)((ušt32_tïdd¸- 
RKERNEL_HEAP_START
 + 
VKERNEL_HEAP_START
)

	)

41 
šlše
 
ušt32_t
 
	$pg_no
(cÚ¡ 
ušt32_t
 *
·ge
){

42  (
ušt32_t
)
·ge
 >> 
PAGE_OFFSET_PTE
;

43 
	}
}

45 
š™_·gšg
();

46 
ušt32_t
* 
pd_ü—‹
 (
pid_t
 
pid
);

47 
ušt32_t
 
pde_idx_addr
(ušt32_t* 
addr
);

48 
ušt32_t
 
±e_idx_addr
(ušt32_t* 
addr
);

	@kernel/include/mem/palloc.h

1 #iâdeà
__PALLOC_H__


2 
	#__PALLOC_H__


	)

4 
	~<ssulib.h
>

6 
š™_·Îoc
 ();

7 
ušt32_t
 *
·Îoc_g‘_·ge
 ();

8 
ušt32_t
 *
·Îoc_g‘_muÉË
 (
size_t
 
·ge_út
);

9 
·Îoc_ä“_·ge
 (*);

10 
·Îoc_ä“_muÉË
 (*, 
size_t
 
·ge_út
);

11 
·Îoc_pf_‹¡
();

	@kernel/include/packed.h

1 #iâdeà
__LIB_PACKED_H


2 
	#__LIB_PACKED_H


	)

8 
	#PACKED
 
	`__©Œibu‹__
 ((
·cked
))

	)

	@kernel/include/proc/proc.h

1 #iâdef 
__PROC_H__


2 
	#__PROC_H__


	)

4 
	~<li¡.h
>

6 
	tpid_t
;

8 
	ep_¡©e
 {

9 
	mPROC_UNUSED
,

10 
	mPROC_RUN
,

11 
	mPROC_STOP
,

12 
	mPROC_ZOMBIE
,

13 
	mPROC_BLOCK
,

16 #´agm¨
·ck
(
push
, 1)

18 
	s´oc_İtiÚ


20 
	m´iÜ™y
;

23 
	s´oûss


25 
pid_t
 
	mpid
;

26 *
	m¡ack
;

27 *
	mpd
;

28 
p_¡©e
 
	m¡©e
;

29 
	mtime_¦“p
;

31 
	m´iÜ™y
;

32 
	mtime_¦iû
;

34 
li¡_–em
 
	m–em_®l
;

35 
li¡_–em
 
	m–em_¡©
;

37 
	mtime_u£d
;

38 
	mtime_sched
;

39 
´oûss
* 
	m·»Á
;

40 
	msim¶e_lock
;

41 
	mchd_pid
;

42 
	mex™_¡©us
;

45 #´agm¨
·ck
(
pİ
)

47 
´oûss
 *
cur_´oûss
;

49 
	t´oc_func
(* 
	taux
);

50 
´oc_func
 
	g´št_pid
;

51 
´oc_func
 
	gidË
;

53 
scheduË
();

55 
š™_´oc
();

56 
´oc_ä“
();

58 
pid_t
 
´oc_ü—‹
(
´oc_func
 
func
, 
´oc_İtiÚ
 *
´iÜ™y
, * 
aux
);

59 
´oc_wake
();

60 
´oc_¦“p
(
ticks
);

61 
´oc_block
();

62 
´oc_unblock
(
´oûss
* 
´oc
);

64 
´oc_´št_d©a
();

	@kernel/include/proc/sched.h

1 #iâdef 
__SCHED_H__


2 
	#__SCHED_H__


	)

4 
	~<li¡.h
>

5 
	~<´oc/´oc.h
>

7 
scheduË
();

	@kernel/include/proc/switch.h

1 #iâdeà
_SWITCH_H_


2 
	#_SWITCH_H_


	)

4 
	~<´oc/´oc.h
>

5 
	~<ty³.h
>

7 
sw™ch_´oûss
(
´oûss
 *
cur
, ´oûs *
Ãxt
);

	@kernel/include/round.h

1 #iâdeà
__LIB_ROUND_H


2 
	#__LIB_ROUND_H


	)

6 
	#ROUND_UP
(
X
, 
STEP
è(((Xè+ (STEPè- 1è/ (STEPè* (STEP))

	)

10 
	#DIV_ROUND_UP
(
X
, 
STEP
è(((Xè+ (STEPè- 1è/ (STEP))

	)

14 
	#ROUND_DOWN
(
X
, 
STEP
è((Xè/ (STEPè* (STEP))

	)

	@kernel/include/ssulib.h

1 #iâdeà
__SSULIB_H__


2 
	#__SSULIB_H__


	)

4 
	~<ty³.h
>

5 
	#off£tof
(
TYPE
, 
MEMBER
è((
size_t
è&((TYPE *è0)->MEMBER)

	)

7 
	#BUFSIZ
 512

	)

9 
memıy
(* 
äom
, * 
to
, 
ušt32_t
 
Ën
);

10 
¡ºcmp
(* 
b1
, * 
b2
, 
Ën
);

11 
boŞ
 
g‘kbd
(*
buf
, 
Ën
);

12 
g‘Tok’
(* 
buf
, 
tok
[][
BUFSIZ
], 
max
);

	@kernel/include/stdarg.h

1 #iâdeà
__STDARG_H__


2 
	#__STDARG_H__


	)

4 *
	tva_li¡
;

6 
	#_ADDRESSOF
(
v
èĞ&(vè)

	)

7 
	#_INTSIZEOF
(
n
èĞ(Òè+ (è- 1è& ~((è- 1è)

	)

9 
	#va_¡¬t
(
­
,
v
èĞ­ = (
va_li¡
)
	`_ADDRESSOF
(vè+ 
	`_INTSIZEOF
(vè)

	)

10 
	#va_¬g
(
­
,
t
èĞ*Ñ *)(×°+ğ
	`_INTSIZEOF
Ñ)è- _INTSIZEOFÑ)è)

	)

11 
	#va_’d
(
­
èĞ­ = (
va_li¡
)0 )

	)

13 
¡¾’_k
(cÚ¡ *
s
);

14 *
numb”
(* 
¡r
, 
num
, 
ba£
, 
size
, 
´ecisiÚ
, 
ty³
);

15 
sk_©oi
(cÚ¡ **
s
);

16 
v¥rštk
(*
buf
, cÚ¡ *
fmt
, 
va_li¡
 
¬gs
);

	@kernel/include/stdbool.h

1 #iâdeà
__LIB_STDBOOL_H


2 
	#__LIB_STDBOOL_H


	)

5 
	#Œue
 1

	)

6 
	#çl£
 0

	)

7 
	#__boŞ_Œue_çl£_¬e_defšed
 1

	)

	@kernel/include/stddef.h

1 #iâdeà
__LIB_STDDEF_H


2 
	#__LIB_STDDEF_H


	)

5 
	#off£tof
(
TYPE
, 
MEMBER
è((
size_t
è&((TYPE *è0)->MEMBER)

	)

10 
__PTRDIFF_TYPE__
 
	t±rdiff_t
;

11 
__SIZE_TYPE__
 
	tsize_t
;

	@kernel/include/stdint.h

1 #iâdeà
__LIB_STDINT_H


2 
	#__LIB_STDINT_H


	)

4 sigÃd 
	tšt8_t
;

5 
	#INT8_MAX
 127

	)

6 
	#INT8_MIN
 (-
INT8_MAX
 - 1)

	)

8 sigÃd 
	tšt16_t
;

9 
	#INT16_MAX
 32767

	)

10 
	#INT16_MIN
 (-
INT16_MAX
 - 1)

	)

12 sigÃd 
	tšt32_t
;

13 
	#INT32_MAX
 2147483647

	)

14 
	#INT32_MIN
 (-
INT32_MAX
 - 1)

	)

16 sigÃd 
	tšt64_t
;

17 
	#INT64_MAX
 9223372036854775807LL

	)

18 
	#INT64_MIN
 (-
INT64_MAX
 - 1)

	)

20 
	tušt8_t
;

21 
	#UINT8_MAX
 255

	)

23 
	tušt16_t
;

24 
	#UINT16_MAX
 65535

	)

26 
	tušt32_t
;

27 
	#UINT32_MAX
 4294967295U

	)

29 
	tušt64_t
;

30 
	#UINT64_MAX
 18446744073709551615ULL

	)

32 
št32_t
 
	tšŒ_t
;

33 
	#INTPTR_MIN
 
INT32_MIN


	)

34 
	#INTPTR_MAX
 
INT32_MAX


	)

36 
ušt32_t
 
	tušŒ_t
;

37 
	#UINTPTR_MAX
 
UINT32_MAX


	)

39 
št64_t
 
	tštmax_t
;

40 
	#INTMAX_MIN
 
INT64_MIN


	)

41 
	#INTMAX_MAX
 
INT64_MAX


	)

43 
	tuštmax_t
;

44 
	#UINTMAX_MAX
 
UINT64_MAX


	)

46 
	#PTRDIFF_MIN
 
INT32_MIN


	)

47 
	#PTRDIFF_MAX
 
INT32_MAX


	)

49 
	#SIZE_MAX
 
UINT32_MAX


	)

	@kernel/include/stdio.h

1 #iâdeà
__LIB_STDIO_H


2 
	#__LIB_STDIO_H


	)

4 
	~<debug.h
>

5 
	~<¡d¬g.h
>

6 
	~<ty³.h
>

7 
	~<¡ddef.h
>

8 
	~<¡dšt.h
>

15 
	#STDIN_FILENO
 0

	)

16 
	#STDOUT_FILENO
 1

	)

19 
	$´štf
 (cÚ¡ *, ...è
	`PRINTF_FORMAT
 (1, 2);

20 
	$¢´štf
 (*, 
size_t
, cÚ¡ *, ...è
	`PRINTF_FORMAT
 (3, 4);

21 
	$v´štf
 (cÚ¡ *, 
va_li¡
è
	`PRINTF_FORMAT
 (1, 0);

22 
	$v¢´štf
 (*, 
size_t
, cÚ¡ *, 
va_li¡
è
	`PRINTF_FORMAT
 (3, 0);

23 
	`putch¬
 ();

24 
	`puts
 (const *);

27 
	`hex_dump
 (
ušŒ_t
 
ofs
, cÚ¡ *, 
size_t
 
size
, 
boŞ
 
ascii
);

28 
	`´št_humª_»adabË_size
 (
ušt64_t
 
sz
);

31 
	`__v´štf
 (cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
,

32 (*
ouut
è(, *), *
aux
);

33 
	`__´štf
 (cÚ¡ *
fÜm©
,

34 (*
ouut
è(, *), *
aux
, ...);

37 
	#¥rštf
 
dÚt_u£_¥rštf_u£_¢´štf


	)

38 
	#v¥rštf
 
dÚt_u£_v¥rštf_u£_v¢´štf


	)

	@kernel/include/stdlib.h

1 #iâdeà
__LIB_STDLIB_H


2 
	#__LIB_STDLIB_H


	)

4 
	~<¡ddef.h
>

7 
©oi
 (const *);

8 
qsÜt
 (*
¬¿y
, 
size_t
 
út
, size_ˆ
size
,

9 (*
com·»
) (const *, const *));

10 *
	`b£¬ch
 (cÚ¡ *
key
, cÚ¡ *
¬¿y
, 
size_t
 
út
,

11 
size_t
 
size
, (*
com·»
) (const *, const *));

14 
	`sÜt
 (*
¬¿y
, 
size_t
 
út
, size_ˆ
size
,

15 (*
com·»
è(cÚ¡ *, cÚ¡ *, *
aux
),

16 *
aux
);

17 *
	`bš¬y_£¬ch
 (cÚ¡ *
key
, cÚ¡ *
¬¿y
, 
size_t
 
út
,

18 
size_t
 
size
,

19 (*
com·»
è(cÚ¡ *, cÚ¡ *, *
aux
),

20 *
aux
);

	@kernel/include/string.h

1 #iâdeà
__LIB_STRING_H


2 
	#__LIB_STRING_H


	)

4 
	~<¡ddef.h
>

8 *
memmove
 (*, cÚ¡ *, 
size_t
);

9 *
¡ºÿt
 (*, cÚ¡ *, 
size_t
);

10 
memcmp
 (cÚ¡ *, cÚ¡ *, 
size_t
);

11 
¡rcmp
 (const *, const *);

12 *
memchr
 (cÚ¡ *, , 
size_t
);

13 *
¡rchr
 (const *, );

14 
size_t
 
¡rc¥n
 (const *, const *);

15 *
¡½brk
 (const *, const *);

16 *
¡¼chr
 (const *, );

17 
size_t
 
¡r¥n
 (const *, const *);

18 *
¡r¡r
 (const *, const *);

19 *
mem£t
 (*, , 
size_t
);

20 
size_t
 
¡¾’
 (const *);

23 
size_t
 
¡¾ıy
 (*, const *, size_t);

24 
size_t
 
¡¾ÿt
 (*, const *, size_t);

25 *
¡¹ok_r
 (*, const *, **);

26 
size_t
 
¡ºËn
 (const *, size_t);

29 
	#¡rıy
 
dÚt_u£_¡rıy_u£_¡¾ıy


	)

30 
	#¡ºıy
 
dÚt_u£_¡ºıy_u£_¡¾ıy


	)

31 
	#¡rÿt
 
dÚt_u£_¡rÿt_u£_¡¾ÿt


	)

32 
	#¡ºÿt
 
dÚt_u£_¡ºÿt_u£_¡¾ÿt


	)

33 
	#¡¹ok
 
dÚt_u£_¡¹ok_u£_¡¹ok_r


	)

	@kernel/include/synch.h

1 #iâdeà
__SYNCH_H__


2 
	#__SYNCH_H__


	)

4 
	~<li¡.h
>

5 
	~<ty³.h
>

9 
	s£m­hÜe


11 
	mv®ue
;

12 
li¡
 
	mwa™”s
;

15 
£ma_š™
 (
£m­hÜe
 *, 
v®ue
);

16 
£ma_down
 (
£m­hÜe
 *);

17 
boŞ
 
£ma_Œy_down
 (
£m­hÜe
 *);

18 
£ma_up
 (
£m­hÜe
 *);

19 
£ma_£lf_‹¡
 ();

22 
	slock


24 
´oûss
 *
	mhŞd”
;

25 
£m­hÜe
 
	m£m­hÜe
;

28 
lock_š™
 (
lock
 *);

29 
lock_acquœe
 (
lock
 *);

30 
boŞ
 
lock_Œy_acquœe
 (
lock
 *);

31 
lock_»Ëa£
 (
lock
 *);

32 
boŞ
 
lock_h–d_by_cu¼’t_´oûss
 (cÚ¡ 
lock
 *);

35 
	scÚd™iÚ


37 
li¡
 
	mwa™”s
;

40 
cÚd_š™
 (
cÚd™iÚ
 *);

41 
cÚd_wa™
 (
cÚd™iÚ
 *, 
lock
 *);

42 
cÚd_sigÇl
 (
cÚd™iÚ
 *, 
lock
 *);

43 
cÚd_brßdÿ¡
 (
cÚd™iÚ
 *, 
lock
 *);

50 
	#b¬r›r
(è
asm
 vŞ©("" : : : "memÜy")

	)

	@kernel/include/syscall.h

1 #iâdeà 
__SYSCALL_H__


2 
	#__SYSCALL_H__


	)

4 
	eSYS_LIST
 {

5 
	mSYS_FORK
 = 0,

6 
	mSYS_EXIT
,

7 
	mSYS_WAIT
,

8 
	mSYS_SSUREAD
,

9 
	mSYS_SHUTDOWN
,

10 
	mSYS_NUM
,

13 
	~<´oc/´oc.h
>

14 
š™_sysÿÎ
();

16 
ex™
(
¡©us
);

17 
pid_t
 
fÜk
(
´oc_func
 
func
, * 
aux
);

18 
pid_t
 
wa™
(*
¡©us
);

19 
ssu»ad
();

20 
shutdown
();

22 
sysÿÎ_tbl
[
SYS_NUM
][2];

	@kernel/include/type.h

1 #iâdeà
__TYPE_H__


2 
	#__TYPE_H__


	)

4 
	tBYTE
;

5 #iâdeà
BOOL


6 
	tBOOL
;

8 
	tboŞ
;

9 
	tsize_t
;

10 
	tqwÜd
;

12 
	#TRUE
 1

	)

13 
	#FALSE
 0

	)

15 #iâdeà
NULL


16 
	#NULL
 0

	)

18 #iâdeà
Œue


19 
	#Œue
 1

	)

21 #iâdeà
çl£


22 
	#çl£
 0

	)

29 sigÃd 
	tšt8_t
;

30 
	#INT8_MAX
 127

	)

31 
	#INT8_MIN
 (-
INT8_MAX
 - 1)

	)

33 sigÃd 
	tšt16_t
;

34 
	#INT16_MAX
 32767

	)

35 
	#INT16_MIN
 (-
INT16_MAX
 - 1)

	)

37 sigÃd 
	tšt32_t
;

38 
	#INT32_MAX
 2147483647

	)

39 
	#INT32_MIN
 (-
INT32_MAX
 - 1)

	)

41 sigÃd 
	tšt64_t
;

42 
	#INT64_MAX
 9223372036854775807LL

	)

43 
	#INT64_MIN
 (-
INT64_MAX
 - 1)

	)

45 
	tušt8_t
;

46 
	#UINT8_MAX
 255

	)

48 
	tušt16_t
;

49 
	#UINT16_MAX
 65535

	)

51 
	tušt32_t
;

52 
	#UINT32_MAX
 4294967295U

	)

54 
	tušt64_t
;

55 
	#UINT64_MAX
 18446744073709551615ULL

	)

57 
št32_t
 
	tšŒ_t
;

58 
	#INTPTR_MIN
 
INT32_MIN


	)

59 
	#INTPTR_MAX
 
INT32_MAX


	)

61 
ušt32_t
 
	tušŒ_t
;

62 
	#UINTPTR_MAX
 
UINT32_MAX


	)

64 
št64_t
 
	tštmax_t
;

65 
	#INTMAX_MIN
 
INT64_MIN


	)

66 
	#INTMAX_MAX
 
INT64_MAX


	)

68 
	tuštmax_t
;

69 
	#UINTMAX_MAX
 
UINT64_MAX


	)

71 
	#PTRDIFF_MIN
 
INT32_MIN


	)

72 
	#PTRDIFF_MAX
 
INT32_MAX


	)

74 
	#SIZE_MAX
 
UINT32_MAX


	)

	@kernel/include/vaddr.h

1 #iâdeà
THREADS_VADDR_H


2 
	#THREADS_VADDR_H


	)

4 
	~<debug.h
>

5 
	~<¡dšt.h
>

6 
	~<¡dboŞ.h
>

8 
	~<lßd”.h
>

15 
	#BITMASK
(
SHIFT
, 
CNT
è(((1uÈ<< (CNT)è- 1è<< (SHIFT))

	)

18 
	#PGSHIFT
 0

	)

19 
	#PGBITS
 12

	)

20 
	#PGSIZE
 (1 << 
PGBITS
è

	)

21 
	#PGMASK
 
	`BITMASK
(
PGSHIFT
, 
PGBITS
è

	)

24 
šlše
 
	$pg_ofs
 (cÚ¡ *
va
) {

25  (
ušŒ_t
è
va
 & 
PGMASK
;

26 
	}
}

29 
šlše
 
ušŒ_t
 
	$pg_no
 (cÚ¡ *
va
) {

30  (
ušŒ_t
è
va
 >> 
PGBITS
;

31 
	}
}

34 
šlše
 *
	$pg_round_up
 (cÚ¡ *
va
) {

35  (*è(((
ušŒ_t
è
va
 + 
PGSIZE
 - 1è& ~
PGMASK
);

36 
	}
}

39 
šlše
 *
	$pg_round_down
 (cÚ¡ *
va
) {

40  (*è((
ušŒ_t
è
va
 & ~
PGMASK
);

41 
	}
}

53 
	#PHYS_BASE
 ((*è
LOADER_PHYS_BASE
)

	)

56 
šlše
 
boŞ


57 
	$is_u£r_vaddr
 (cÚ¡ *
vaddr
)

59  
vaddr
 < 
PHYS_BASE
;

60 
	}
}

63 
šlše
 
boŞ


64 
	$is_k”Ãl_vaddr
 (cÚ¡ *
vaddr
)

66  
vaddr
 >ğ
PHYS_BASE
;

67 
	}
}

71 
šlše
 *

72 
	$±ov
 (
ušŒ_t
 
·ddr
)

74 
	`ASSERT
 ((*è
·ddr
 < 
PHYS_BASE
);

76  (*è(
·ddr
 + 
PHYS_BASE
);

77 
	}
}

81 
šlše
 
ušŒ_t


82 
	$vtİ
 (cÚ¡ *
vaddr
)

84 
	`ASSERT
 (
	`is_k”Ãl_vaddr
 (
vaddr
));

86  (
ušŒ_t
è
vaddr
 - (ušŒ_tè
PHYS_BASE
;

87 
	}
}

	@kernel/list.c

1 
	~<li¡.h
>

3 #iâdeà
ASSERT


4 
	#ASSERT
(
COND
è;

	)

37 
boŞ
 
is_sÜ‹d
 (
li¡_–em
 *
a
, li¡_–em *
b
,

38 
li¡_Ëss_func
 *
Ëss
, *
aux
);

41 
šlše
 
boŞ


42 
	$is_h—d
 (
li¡_–em
 *
–em
)

44  
–em
 !ğ
NULL
 &&ƒËm->
´ev
 =ğNULL &&ƒËm->
Ãxt
 != NULL;

45 
	}
}

49 
šlše
 
boŞ


50 
	$is_š‹riÜ
 (
li¡_–em
 *
–em
)

52  
–em
 !ğ
NULL
 &&ƒËm->
´ev
 !ğNULL &&ƒËm->
Ãxt
 != NULL;

53 
	}
}

56 
šlše
 
boŞ


57 
	$is_
 (
li¡_–em
 *
–em
)

59  
–em
 !ğ
NULL
 &&ƒËm->
´ev
 !ğNULL &&ƒËm->
Ãxt
 == NULL;

60 
	}
}

64 
	$li¡_š™
 (
li¡
 *list)

66 
	`ASSERT
 (
li¡
 !ğ
NULL
);

67 
li¡
->
h—d
.
´ev
 = 
NULL
;

68 
li¡
->
h—d
.
Ãxt
 = &li¡->

;

69 
li¡
->

.
´ev
 = &li¡->
h—d
;

70 
li¡
->

.
Ãxt
 = 
NULL
;

71 
	}
}

74 
li¡_–em
 *

75 
	$li¡_begš
 (
li¡
 *list)

77 
	`ASSERT
 (
li¡
 !ğ
NULL
);

78  
li¡
->
h—d
.
Ãxt
;

79 
	}
}

84 
li¡_–em
 *

85 
	$li¡_Ãxt
 (
li¡_–em
 *
–em
)

87 
	`ASSERT
 (
	`is_h—d
 (
–em
è|| 
	`is_š‹riÜ
 (elem));

88  
–em
->
Ãxt
;

89 
	}
}

96 
li¡_–em
 *

97 
	$li¡_’d
 (
li¡
 *list)

99 
	`ASSERT
 (
li¡
 !ğ
NULL
);

100  &
li¡
->

;

101 
	}
}

105 
li¡_–em
 *

106 
	$li¡_rbegš
 (
li¡
 *list)

108 
	`ASSERT
 (
li¡
 !ğ
NULL
);

109  
li¡
->

.
´ev
;

110 
	}
}

115 
li¡_–em
 *

116 
	$li¡_´ev
 (
li¡_–em
 *
–em
)

118 
	`ASSERT
 (
	`is_š‹riÜ
 (
–em
è|| 
	`is_
 (elem));

119  
–em
->
´ev
;

120 
	}
}

135 
li¡_–em
 *

136 
	$li¡_»nd
 (
li¡
 *list)

138 
	`ASSERT
 (
li¡
 !ğ
NULL
);

139  &
li¡
->
h—d
;

140 
	}
}

153 
li¡_–em
 *

154 
	$li¡_h—d
 (
li¡
 *list)

156 
	`ASSERT
 (
li¡
 !ğ
NULL
);

157  &
li¡
->
h—d
;

158 
	}
}

161 
li¡_–em
 *

162 
	$li¡_
 (
li¡
 *list)

164 
	`ASSERT
 (
li¡
 !ğ
NULL
);

165  &
li¡
->

;

166 
	}
}

172 
	$li¡_š£¹
 (
li¡_–em
 *
befÜe
, li¡_–em *
–em
)

174 
	`ASSERT
 (
	`is_š‹riÜ
 (
befÜe
è|| 
	`is_
 (before));

175 
	`ASSERT
 (
–em
 !ğ
NULL
);

177 if(
–em
->
´ev
 !ğ
NULL
)

178 
–em
->
´ev
->
Ãxt
 =ƒlem->next;

179 if(
–em
->
Ãxt
 !ğ
NULL
)

180 
–em
->
Ãxt
->
´ev
 =ƒlem->prev;

182 
–em
->
´ev
 = 
befÜe
->prev;

183 
–em
->
Ãxt
 = 
befÜe
;

184 
befÜe
->
´ev
->
Ãxt
 = 
–em
;

185 
befÜe
->
´ev
 = 
–em
;

186 
	}
}

192 
	$li¡_¥liû
 (
li¡_–em
 *
befÜe
,

193 
li¡_–em
 *
fœ¡
, li¡_–em *
Ï¡
)

195 
	`ASSERT
 (
	`is_š‹riÜ
 (
befÜe
è|| 
	`is_
 (before));

196 ià(
fœ¡
 =ğ
Ï¡
)

198 
Ï¡
 = 
	`li¡_´ev
 (last);

200 
	`ASSERT
 (
	`is_š‹riÜ
 (
fœ¡
));

201 
	`ASSERT
 (
	`is_š‹riÜ
 (
Ï¡
));

204 
fœ¡
->
´ev
->
Ãxt
 = 
Ï¡
->next;

205 
Ï¡
->
Ãxt
->
´ev
 = 
fœ¡
->prev;

208 
fœ¡
->
´ev
 = 
befÜe
->prev;

209 
Ï¡
->
Ãxt
 = 
befÜe
;

210 
befÜe
->
´ev
->
Ãxt
 = 
fœ¡
;

211 
befÜe
->
´ev
 = 
Ï¡
;

212 
	}
}

217 
	$li¡_push_äÚt
 (
li¡
 *li¡, 
li¡_–em
 *
–em
)

219 
	`li¡_š£¹
 (
	`li¡_begš
 (
li¡
), 
–em
);

220 
	}
}

225 
	$li¡_push_back
 (
li¡
 *li¡, 
li¡_–em
 *
–em
)

227 
	`li¡_š£¹
 (
	`li¡_’d
 (
li¡
), 
–em
);

228 
	}
}

256 
li¡_–em
 *

257 
	$li¡_»move
 (
li¡_–em
 *
–em
)

259 
	`ASSERT
 (
	`is_š‹riÜ
 (
–em
));

260 
–em
->
´ev
->
Ãxt
 =ƒlem->next;

261 
–em
->
Ãxt
->
´ev
 =ƒlem->prev;

262  
–em
->
Ãxt
;

263 
	}
}

267 
li¡_–em
 *

268 
	$li¡_pİ_äÚt
 (
li¡
 *list)

270 
li¡_–em
 *
äÚt
 = 
	`li¡_äÚt
 (
li¡
);

271 
	`li¡_»move
 (
äÚt
);

272  
äÚt
;

273 
	}
}

277 
li¡_–em
 *

278 
	$li¡_pİ_back
 (
li¡
 *list)

280 
li¡_–em
 *
back
 = 
	`li¡_back
 (
li¡
);

281 
	`li¡_»move
 (
back
);

282  
back
;

283 
	}
}

287 
li¡_–em
 *

288 
	$li¡_äÚt
 (
li¡
 *list)

290 
	`ASSERT
 (!
	`li¡_em±y
 (
li¡
));

291  
li¡
->
h—d
.
Ãxt
;

292 
	}
}

296 
li¡_–em
 *

297 
	$li¡_back
 (
li¡
 *list)

299 
	`ASSERT
 (!
	`li¡_em±y
 (
li¡
));

300  
li¡
->

.
´ev
;

301 
	}
}

305 
size_t


306 
	$li¡_size
 (
li¡
 *list)

308 
li¡_–em
 *
e
;

309 
size_t
 
út
 = 0;

311 
e
 = 
	`li¡_begš
 (
li¡
);ƒ !ğ
	`li¡_’d
 (li¡);ƒ = 
	`li¡_Ãxt
 (e))

312 
út
++;

313  
út
;

314 
	}
}

317 
boŞ


318 
	$li¡_em±y
 (
li¡
 *list)

320  
	`li¡_begš
 (
li¡
è=ğ
	`li¡_’d
 (list);

321 
	}
}

325 
	$sw­
 (
li¡_–em
 **
a
, li¡_–em **
b
)

327 
li¡_–em
 *
t
 = *
a
;

328 *
a
 = *
b
;

329 *
b
 = 
t
;

330 
	}
}

334 
	$li¡_»v”£
 (
li¡
 *list)

336 ià(!
	`li¡_em±y
 (
li¡
))

338 
li¡_–em
 *
e
;

340 
e
 = 
	`li¡_begš
 (
li¡
);ƒ !ğ
	`li¡_’d
 (li¡);ƒ =ƒ->
´ev
)

341 
	`sw­
 (&
e
->
´ev
, &e->
Ãxt
);

342 
	`sw­
 (&
li¡
->
h—d
.
Ãxt
, &li¡->

.
´ev
);

343 
	`sw­
 (&
li¡
->
h—d
.
Ãxt
->
´ev
, &li¡->

.prev->next);

345 
	}
}

349 
boŞ


350 
	$is_sÜ‹d
 (
li¡_–em
 *
a
, li¡_–em *
b
,

351 
li¡_Ëss_func
 *
Ëss
, *
aux
)

353 ià(
a
 !ğ
b
)

354 (
a
 = 
	`li¡_Ãxt
 (a)è!ğ
b
)

355 ià(
	`Ëss
 (
a
, 
	`li¡_´ev
 (a), 
aux
))

356  
çl£
;

357  
Œue
;

358 
	}
}

365 
li¡_–em
 *

366 
	$fšd_’d_of_run
 (
li¡_–em
 *
a
, li¡_–em *
b
,

367 
li¡_Ëss_func
 *
Ëss
, *
aux
)

369 
	`ASSERT
 (
a
 !ğ
NULL
);

370 
	`ASSERT
 (
b
 !ğ
NULL
);

371 
	`ASSERT
 (
Ëss
 !ğ
NULL
);

372 
	`ASSERT
 (
a
 !ğ
b
);

376 
a
 = 
	`li¡_Ãxt
 (a);

378 
a
 !ğ
b
 && !
	`Ëss
 (a, 
	`li¡_´ev
 (a), 
aux
));

379  
a
;

380 
	}
}

388 
	$š¶aû_m”ge
 (
li¡_–em
 *
a0
, li¡_–em *
a1b0
,

389 
li¡_–em
 *
b1
,

390 
li¡_Ëss_func
 *
Ëss
, *
aux
)

392 
	`ASSERT
 (
a0
 !ğ
NULL
);

393 
	`ASSERT
 (
a1b0
 !ğ
NULL
);

394 
	`ASSERT
 (
b1
 !ğ
NULL
);

395 
	`ASSERT
 (
Ëss
 !ğ
NULL
);

396 
	`ASSERT
 (
	`is_sÜ‹d
 (
a0
, 
a1b0
, 
Ëss
, 
aux
));

397 
	`ASSERT
 (
	`is_sÜ‹d
 (
a1b0
, 
b1
, 
Ëss
, 
aux
));

399 
a0
 !ğ
a1b0
 &&‡1b0 !ğ
b1
)

400 ià(!
	`Ëss
 (
a1b0
, 
a0
, 
aux
))

401 
a0
 = 
	`li¡_Ãxt
 (a0);

404 
a1b0
 = 
	`li¡_Ãxt
 (a1b0);

405 
	`li¡_¥liû
 (
a0
, 
	`li¡_´ev
 (
a1b0
),‡1b0);

407 
	}
}

413 
	$li¡_sÜt
 (
li¡
 *li¡, 
li¡_Ëss_func
 *
Ëss
, *
aux
)

415 
size_t
 
ouut_run_út
;

417 
	`ASSERT
 (
li¡
 !ğ
NULL
);

418 
	`ASSERT
 (
Ëss
 !ğ
NULL
);

424 
li¡_–em
 *
a0
;

425 
li¡_–em
 *
a1b0
;

426 
li¡_–em
 *
b1
;

428 
ouut_run_út
 = 0;

429 
a0
 = 
	`li¡_begš
 (
li¡
);‡0 !ğ
	`li¡_’d
 (li¡);‡0 = 
b1
)

432 
ouut_run_út
++;

436 
a1b0
 = 
	`fšd_’d_of_run
 (
a0
, 
	`li¡_’d
 (
li¡
), 
Ëss
, 
aux
);

437 ià(
a1b0
 =ğ
	`li¡_’d
 (
li¡
))

439 
b1
 = 
	`fšd_’d_of_run
 (
a1b0
, 
	`li¡_’d
 (
li¡
), 
Ëss
, 
aux
);

442 
	`š¶aû_m”ge
 (
a0
, 
a1b0
, 
b1
, 
Ëss
, 
aux
);

445 
ouut_run_út
 > 1);

447 
	`ASSERT
 (
	`is_sÜ‹d
 (
	`li¡_begš
 (
li¡
), 
	`li¡_’d
 (li¡), 
Ëss
, 
aux
));

448 
	}
}

454 
	$li¡_š£¹_Üd”ed
 (
li¡
 *li¡, 
li¡_–em
 *
–em
,

455 
li¡_Ëss_func
 *
Ëss
, *
aux
)

457 
li¡_–em
 *
e
;

459 
	`ASSERT
 (
li¡
 !ğ
NULL
);

460 
	`ASSERT
 (
–em
 !ğ
NULL
);

461 
	`ASSERT
 (
Ëss
 !ğ
NULL
);

463 
e
 = 
	`li¡_begš
 (
li¡
);ƒ !ğ
	`li¡_’d
 (li¡);ƒ = 
	`li¡_Ãxt
 (e))

464 ià(
	`Ëss
 (
–em
, 
e
, 
aux
))

466  
	`li¡_š£¹
 (
e
, 
–em
);

467 
	}
}

474 
	$li¡_unique
 (
li¡
 *li¡, li¡ *
du¶iÿ‹s
,

475 
li¡_Ëss_func
 *
Ëss
, *
aux
)

477 
li¡_–em
 *
–em
, *
Ãxt
;

479 
	`ASSERT
 (
li¡
 !ğ
NULL
);

480 
	`ASSERT
 (
Ëss
 !ğ
NULL
);

481 ià(
	`li¡_em±y
 (
li¡
))

484 
–em
 = 
	`li¡_begš
 (
li¡
);

485 (
Ãxt
 = 
	`li¡_Ãxt
 (
–em
)è!ğ
	`li¡_’d
 (
li¡
))

486 ià(!
	`Ëss
 (
–em
, 
Ãxt
, 
aux
) && !less (next,ƒlem,‡ux))

488 
	`li¡_»move
 (
Ãxt
);

489 ià(
du¶iÿ‹s
 !ğ
NULL
)

490 
	`li¡_push_back
 (
du¶iÿ‹s
, 
Ãxt
);

493 
–em
 = 
Ãxt
;

494 
	}
}

500 
li¡_–em
 *

501 
	$li¡_max
 (
li¡
 *li¡, 
li¡_Ëss_func
 *
Ëss
, *
aux
)

503 
li¡_–em
 *
max
 = 
	`li¡_begš
 (
li¡
);

504 ià(
max
 !ğ
	`li¡_’d
 (
li¡
))

506 
li¡_–em
 *
e
;

508 
e
 = 
	`li¡_Ãxt
 (
max
);ƒ !ğ
	`li¡_’d
 (
li¡
);ƒ =†ist_next (e))

509 ià(
	`Ëss
 (
max
, 
e
, 
aux
))

510 
max
 = 
e
;

512  
max
;

513 
	}
}

519 
li¡_–em
 *

520 
	$li¡_mš
 (
li¡
 *li¡, 
li¡_Ëss_func
 *
Ëss
, *
aux
)

522 
li¡_–em
 *
mš
 = 
	`li¡_begš
 (
li¡
);

523 ià(
mš
 !ğ
	`li¡_’d
 (
li¡
))

525 
li¡_–em
 *
e
;

527 
e
 = 
	`li¡_Ãxt
 (
mš
);ƒ !ğ
	`li¡_’d
 (
li¡
);ƒ =†ist_next (e))

528 ià(
	`Ëss
 (
e
, 
mš
, 
aux
))

529 
mš
 = 
e
;

531  
mš
;

532 
	}
}

	@kernel/mem/malloc.c

1 
	~<mem/m®loc.h
>

2 
	~<debug.h
>

3 
	~<li¡.h
>

4 
	~<round.h
>

5 
	~<¡dšt.h
>

6 
	~<¡dio.h
>

7 
	~<¡ršg.h
>

8 
	~<mem/·Îoc.h
>

9 
	~<synch.h
>

10 
	~<vaddr.h
>

38 
	sdesc


40 
size_t
 
	mblock_size
;

41 
size_t
 
	mblocks_³r_¬’a
;

42 
li¡
 
	mä“_li¡
;

43 
lock
 
	mlock
;

47 
	#ARENA_MAGIC
 0x9a548“d

	)

50 
	s¬’a


52 
	mmagic
;

53 
desc
 *
	mdesc
;

54 
size_t
 
	mä“_út
;

58 
	sblock


60 
li¡_–em
 
	mä“_–em
;

64 
desc
 
	gdescs
[10];

65 
size_t
 
	gdesc_út
;

67 
¬’a
 *
block_to_¬’a
 (
block
 *);

68 
block
 *
¬’a_to_block
 (
¬’a
 *, 
size_t
 
idx
);

72 
	$m®loc_š™
 ()

74 
size_t
 
block_size
;

76 
block_size
 = 16; block_siz< 
PGSIZE
 / 2; block_size *= 2)

78 
desc
 *
d
 = &
descs
[
desc_út
++];

80 
d
->
block_size
 = block_size;

81 
d
->
blocks_³r_¬’a
 = (
PGSIZE
 -  (
¬’a
)è/ 
block_size
;

82 
	`li¡_š™
 (&
d
->
ä“_li¡
);

83 
	`lock_š™
 (&
d
->
lock
);

85 
	}
}

90 
	$m®loc
 (
size_t
 
size
)

92  
NULL
;

93 
desc
 *
d
;

94 
block
 *
b
;

95 
¬’a
 *
a
;

98 ià(
size
 == 0)

99  
NULL
;

103 
d
 = 
descs
; d < desc + 
desc_út
; d++)

104 ià(
d
->
block_size
 >ğ
size
)

106 ià(
d
 =ğ
descs
 + 
desc_út
)

110 
size_t
 
·ge_út
 = 
	`DIV_ROUND_UP
 (
size
 +  *
a
, 
PGSIZE
);

111 
a
 = (
¬’a
 *)
	`·Îoc_g‘_muÉË
 (
·ge_út
);

112 ià(
a
 =ğ
NULL
)

113  
NULL
;

117 
a
->
magic
 = 
ARENA_MAGIC
;

118 
a
->
desc
 = 
NULL
;

119 
a
->
ä“_út
 = 
·ge_út
;

120  
a
 + 1;

123 
	`lock_acquœe
 (&
d
->
lock
);

126 ià(
	`li¡_em±y
 (&
d
->
ä“_li¡
))

128 
size_t
 
i
;

131 
a
 = (
¬’a
 *è
	`·Îoc_g‘_·ge
 ();

132 ià(
a
 =ğ
NULL
)

134 
	`lock_»Ëa£
 (&
d
->
lock
);

135  
NULL
;

139 
a
->
magic
 = 
ARENA_MAGIC
;

140 
a
->
desc
 = 
d
;

141 
a
->
ä“_út
 = 
d
->
blocks_³r_¬’a
;

142 
i
 = 0; i < 
d
->
blocks_³r_¬’a
; i++)

144 
block
 *
b
 = 
	`¬’a_to_block
 (
a
, 
i
);

145 
	`li¡_push_back
 (&
d
->
ä“_li¡
, &
b
->
ä“_–em
);

150 
b
 = 
	`li¡_’Œy
 (
	`li¡_pİ_äÚt
 (&
d
->
ä“_li¡
), 
block
, 
ä“_–em
);

151 
a
 = 
	`block_to_¬’a
 (
b
);

152 
a
->
ä“_út
--;

153 
	`lock_»Ëa£
 (&
d
->
lock
);

154  
b
;

155 
	}
}

160 
	$ÿÎoc
 (
size_t
 
a
, size_ˆ
b
)

162 *
p
;

163 
size_t
 
size
;

166 
size
 = 
a
 * 
b
;

167 ià(
size
 < 
a
 || siz< 
b
)

168  
NULL
;

171 
p
 = 
	`m®loc
 (
size
);

172 ià(
p
 !ğ
NULL
)

173 
	`mem£t
 (
p
, 0, 
size
);

175  
p
;

176 
	}
}

179 
size_t


180 
	$block_size
 (*
block
)

182 
block
 *
b
 = block;

183 
¬’a
 *
a
 = 
	`block_to_¬’a
 (
b
);

184 
desc
 *
d
 = 
a
->desc;

186  
d
 !ğ
NULL
 ? d->
block_size
 : 
PGSIZE
 * 
a
->
ä“_út
 - 
	`pg_ofs
 (
block
);

187 
	}
}

196 
	$»®loc
 (*
Şd_block
, 
size_t
 
Ãw_size
)

198 ià(
Ãw_size
 == 0)

200 
	`ä“
 (
Şd_block
);

201  
NULL
;

205 *
Ãw_block
 = 
	`m®loc
 (
Ãw_size
);

206 ià(
Şd_block
 !ğ
NULL
 && 
Ãw_block
 != NULL)

208 
size_t
 
Şd_size
 = 
	`block_size
 (
Şd_block
);

209 
size_t
 
mš_size
 = 
Ãw_size
 < 
Şd_size
 ?‚ew_size : old_size;

210 
	`memıy
 (
Ãw_block
, 
Şd_block
, 
mš_size
);

211 
	`ä“
 (
Şd_block
);

213  
Ãw_block
;

215 
	}
}

220 
	$ä“
 (*
p
)

222 ià(
p
 !ğ
NULL
)

224 
block
 *
b
 = 
p
;

225 
¬’a
 *
a
 = 
	`block_to_¬’a
 (
b
);

226 
desc
 *
d
 = 
a
->desc;

228 ià(
d
 !ğ
NULL
)

232 #iâdeà
NDEBUG


234 
	`mem£t
 (
b
, 0xcc, 
d
->
block_size
);

237 
	`lock_acquœe
 (&
d
->
lock
);

240 
	`li¡_push_äÚt
 (&
d
->
ä“_li¡
, &
b
->
ä“_–em
);

243 ià(++
a
->
ä“_út
 >ğ
d
->
blocks_³r_¬’a
)

245 
size_t
 
i
;

248 
i
 = 0; i < 
d
->
blocks_³r_¬’a
; i++)

250 
block
 *
b
 = 
	`¬’a_to_block
 (
a
, 
i
);

251 
	`li¡_»move
 (&
b
->
ä“_–em
);

253 
	`·Îoc_ä“_·ge
 (
a
);

256 
	`lock_»Ëa£
 (&
d
->
lock
);

261 
	`·Îoc_ä“_muÉË
 (
a
,‡->
ä“_út
);

265 
	}
}

268 
¬’a
 *

269 
	$block_to_¬’a
 (
block
 *
b
)

271 
¬’a
 *
a
 = 
	`pg_round_down
 (
b
);

281  
a
;

282 
	}
}

285 
block
 *

286 
	$¬’a_to_block
 (
¬’a
 *
a
, 
size_t
 
idx
)

291  (
block
 *è((
ušt8_t
 *è
a


292 +  *
a


293 + 
idx
 * 
a
->
desc
->
block_size
);

294 
	}
}

	@kernel/mem/mm.c

1 
	~<mem/mm.h
>

3 
g‘MemSize
();

4 
nG‘MemSize
();

6 
	gMEM_SIZE
;

8 
	$d‘eù_mem
()

10 
MEM_SIZE
 = 
	`nG‘MemSize
();

12 
	}
}

14 
	$nG‘MemSize
()

16 *
pAddr
 = (*)0x20000;

17 
tmp
;

19 
pAddr
 += (4*1024*1024);

20 
tmp
 = *
pAddr
;

21 *
pAddr
 = 0x12345678;

22 if(*
pAddr
 != 0x12345678) {

23 
pAddr
 -= (4*1024*1024);

25 
pAddr
 += (4*1024);

26 
tmp
 = *
pAddr
;

27 *
pAddr
 = 0x87654321;

28 if(*
pAddr
 != 0x87654321)

30 *
pAddr
 = 
tmp
;

34 *
pAddr
 = 
tmp
;

37  ()
pAddr
;

38 
	}
}

40 
	$mem_size
()

42  
MEM_SIZE
;

43 
	}
}

	@kernel/mem/paging.c

1 
	~<deviû/io.h
>

2 
	~<mem/mm.h
>

3 
	~<mem/·gšg.h
>

4 
	~<deviû/cÚsŞe.h
>

5 
	~<´oc/´oc.h
>

6 
	~<š‹¼u±.h
>

7 
	~<mem/·Îoc.h
>

8 
	~<ssulib.h
>

10 
ušt32_t
 *
	gPID0_PAGE_DIR
;

12 
šŒ_hªdËr_func
 
	gpf_hªdËr
;

14 
ušt32_t
 
	$sÿË_up
(
ušt32_t
 
ba£
, ušt32_ˆ
size
)

16 
ušt32_t
 
mask
 = ~(
size
-1);

17 if(
ba£
 & 
mask
 != 0)

18 
ba£
 = ba£ & 
mask
 + 
size
;

19  
ba£
;

20 
	}
}

22 
ušt32_t
 
	$sÿË_down
(
ušt32_t
 
ba£
, ušt32_ˆ
size
)

24 
ušt32_t
 
mask
 = ~(
size
-1);

25 if(
ba£
 & 
mask
 != 0)

26 
ba£
 = ba£ & 
mask
 - 
size
;

27  
ba£
;

28 
	}
}

30 
	$š™_·gšg
()

32 
ušt32_t
 *
·ge_dœ
 = 
	`·Îoc_g‘_·ge
();

33 
ušt32_t
 *
·ge_tbl
 = 
	`·Îoc_g‘_·ge
();

34 
·ge_dœ
 = 
	`VH_TO_RH
(page_dir);

35 
·ge_tbl
 = 
	`VH_TO_RH
(page_tbl);

36 
PID0_PAGE_DIR
 = 
·ge_dœ
;

38 
NUM_PT
, 
NUM_PE
;

39 
ušt32_t
 
ü0_·gšg_£t
;

40 
i
;

42 
NUM_PE
 = 
	`mem_size
(è/ 
PAGE_SIZE
;

43 
NUM_PT
 = 
NUM_PE
 / 1024;

45 
	`´štk
("-PE=%d, PT=%d\n", 
NUM_PE
, 
NUM_PT
);

46 
	`´štk
("-·gdœ=%x…agtbl=%x\n", 
·ge_dœ
, 
·ge_tbl
);

48 
·ge_dœ
[0] = (
ušt32_t
)
·ge_tbl
 | 
PAGE_FLAG_RW
 | 
PAGE_FLAG_PRESENT
;

50 
NUM_PE
 = 
RKERNEL_HEAP_START
 / 
PAGE_SIZE
;

51  
i
 = 0; i < 
NUM_PE
; i++ ) {

52 
·ge_tbl
[
i
] = (
PAGE_SIZE
 * i)

53 | 
PAGE_FLAG_RW


54 | 
PAGE_FLAG_PRESENT
;

57 
ü0_·gšg_£t
 = 
	`»ad_ü0
(è| 
CR0_FLAG_PG
;

58 
	`wr™e_ü3
Ğ()
·ge_dœ
 );

59 
	`wr™e_ü0
Ğ
ü0_·gšg_£t
 );

61 
	`»g_hªdËr
(14, 
pf_hªdËr
);

62 
	}
}

64 
	$memıy_h¬d
(* 
äom
, * 
to
, 
ušt32_t
 
Ën
)

66 
	`wr™e_ü0
Ğ
	`»ad_ü0
(è& ~
CR0_FLAG_PG
);

67 
	`memıy
(
äom
, 
to
, 
Ën
);

68 
	`wr™e_ü0
Ğ
	`»ad_ü0
(è| 
CR0_FLAG_PG
);

69 
	}
}

71 
ušt32_t
* 
	$g‘_cur_pd
()

73  (
ušt32_t
*)
	`»ad_ü3
();

74 
	}
}

76 
ušt32_t
 
	$pde_idx_addr
(
ušt32_t
* 
addr
)

78 
ušt32_t
 
»t
 = ((ušt32_t)
addr
 & 
PAGE_MASK_PDE
è>> 
PAGE_OFFSET_PDE
;

79  
»t
;

80 
	}
}

82 
ušt32_t
 
	$±e_idx_addr
(
ušt32_t
* 
addr
)

84 
ušt32_t
 
»t
 = ((ušt32_t)
addr
 & 
PAGE_MASK_PTE
è>> 
PAGE_OFFSET_PTE
;

85  
»t
;

86 
	}
}

88 
ušt32_t
* 
	$±_pde
(
ušt32_t
 
pde
)

90 
ušt32_t
 * 
»t
 = (ušt32_t*)(
pde
 & 
PAGE_MASK_BASE
);

91  
»t
;

92 
	}
}

94 
ušt32_t
* 
	$±_addr
(
ušt32_t
* 
addr
)

96 
ušt32_t
 
idx
 = 
	`pde_idx_addr
(
addr
);

97 
ušt32_t
* 
pd
 = 
	`g‘_cur_pd
();

98  
	`±_pde
(
pd
[
idx
]);

99 
	}
}

101 
ušt32_t
* 
	$pg_addr
(
ušt32_t
* 
addr
)

103 
ušt32_t
 *
±
 = 
	`±_addr
(
addr
);

104 
ušt32_t
 
idx
 = 
	`±e_idx_addr
(
addr
);

105 
ušt32_t
 *
»t
 = (ušt32_t*)(
±
[
idx
] & 
PAGE_MASK_BASE
);

106  
»t
;

107 
	}
}

109 
	$±_cİy
(
ušt32_t
 *
pd
, ušt32_ˆ*
de¡_pd
, ušt32_ˆ
idx
)

111 
ušt32_t
 *
±
 = 
	`±_pde
(
pd
[
idx
]);

112 
ušt32_t
 *
Ãw_±
;

113 
ušt32_t
 
i
;

115 
±
 = 
	`RH_TO_VH
(pt);

116 
Ãw_±
 = 
	`·Îoc_g‘_·ge
();

118 
i
 = 0; i<1024; i++)

120 if(
±
[
i
] & 
PAGE_FLAG_PRESENT
)

122 
Ãw_±
 = 
	`VH_TO_RH
(new_pt);

123 
de¡_pd
[
idx
] = (
ušt32_t
)
Ãw_±
 | (
pd
[idx] & ~
PAGE_MASK_BASE
 & ~ 
PAGE_FLAG_ACCESS
);

124 
Ãw_±
 = 
	`RH_TO_VH
(new_pt);

125 
Ãw_±
[
i
] = 
±
[i];

128 
	}
}

130 
	$pd_cİy
(
ušt32_t
* 
äom
, ušt32_t* 
to
)

132 
ušt32_t
 
i
;

134 
i
 = 0; i < 1024; i++)

136 if(
äom
[
i
] & 
PAGE_FLAG_PRESENT
)

137 
	`±_cİy
(
äom
, 
to
, 
i
);

139 
	}
}

141 
ušt32_t
* 
	$pd_ü—‹
 (
pid_t
 
pid
)

143 
ušt32_t
 *
pd
 = 
	`·Îoc_g‘_·ge
();

145 
	`pd_cİy
(
	`RH_TO_VH
((
ušt32_t
*)
	`»ad_ü3
()), 
pd
);

146 
pd
 = 
	`VH_TO_RH
(pd);

148  
pd
;

149 
	}
}

151 
	$pf_hªdËr
(
šŒ_äame
 *
iäame
)

153 *
çuÉ_addr
;

155 
	`asm
 ("movÈ%%ü2, %0" : "ô" (
çuÉ_addr
));

157 
	`´štk
("PagçuÉ : %X\n",
çuÉ_addr
);

158 #ifdeà
SCREEN_SCROLL


159 
	`»äeshSü“n
();

162 
ušt32_t
 
pdi
, 
±i
;

163 
ušt32_t
 *
±a
;

164 
ušt32_t
 *
pda
 = (ušt32_t*)
	`»ad_ü3
();

166 
pdi
 = 
	`pde_idx_addr
(
çuÉ_addr
);

167 
±i
 = 
	`±e_idx_addr
(
çuÉ_addr
);

169 if(
pda
 =ğ
PID0_PAGE_DIR
){

170 
	`wr™e_ü0
Ğ
	`»ad_ü0
(è& ~
CR0_FLAG_PG
);

171 
±a
 = 
	`±_pde
(
pda
[
pdi
]);

172 
	`wr™e_ü0
Ğ
	`»ad_ü0
(è| 
CR0_FLAG_PG
);

175 
pda
 = 
	`RH_TO_VH
(pda);

176 
±a
 = 
	`±_pde
(
pda
[
pdi
]);

179 if(
±a
 =ğ
NULL
){

180 
	`wr™e_ü0
Ğ
	`»ad_ü0
(è& ~
CR0_FLAG_PG
);

182 
±a
 = 
	`·Îoc_g‘_·ge
();

183 
±a
 = 
	`VH_TO_RH
(pta);

184 
	`mem£t
(
±a
,0,
PAGE_SIZE
);

186 
pda
[
pdi
] = (
ušt32_t
)
±a
 | 
PAGE_FLAG_RW
 | 
PAGE_FLAG_PRESENT
;

188 
çuÉ_addr
 = 
	`VH_TO_RH
(fault_addr);

189 
±a
[
±i
] = (
ušt32_t
)
çuÉ_addr
 | 
PAGE_FLAG_RW
 | 
PAGE_FLAG_PRESENT
;

191 
±a
 = 
	`RH_TO_VH
(pta);

192 
pdi
 = 
	`pde_idx_addr
(
±a
);

193 
±i
 = 
	`±e_idx_addr
(
±a
);

195 
ušt32_t
 *
tmp_±a
 = 
	`±_pde
(
pda
[
pdi
]);

196 
tmp_±a
[
±i
] = (
ušt32_t
)
	`VH_TO_RH
(
±a
è| 
PAGE_FLAG_RW
 | 
PAGE_FLAG_PRESENT
;

198 
	`wr™e_ü0
Ğ
	`»ad_ü0
(è| 
CR0_FLAG_PG
);

201 
±a
 = 
	`RH_TO_VH
(pta);

202 
çuÉ_addr
 = 
	`VH_TO_RH
(fault_addr);

203 
±a
[
±i
] = (
ušt32_t
)
çuÉ_addr
 | 
PAGE_FLAG_RW
 | 
PAGE_FLAG_PRESENT
;

205 
	}
}

	@kernel/mem/palloc.c

1 
	~<mem/·Îoc.h
>

2 
	~<b™m­.h
>

3 
	~<ty³.h
>

4 
	~<round.h
>

5 
	~<mem/mm.h
>

6 
	~<synch.h
>

7 
	~<deviû/cÚsŞe.h
>

8 
	~<mem/·gšg.h
>

10 
	skh·ge
{

11 
ušt16_t
 
	m·ge_ty³
;

12 
ušt16_t
 
	mÇÎoc
;

13 
ušt32_t
 
	mu£d_b™
[4];

14 
kh·ge
 *
	mÃxt
;

17 
	sä“li¡
{

18 
kh·ge
 *
	mli¡
;

19 
	mnä“
;

22 
kh·ge
 *
	gkh·ge_li¡
;

23 
ä“li¡
 
	gä“li¡
;

24 
ušt32_t
 
	g·ge_®loc_šdex
;

27 
	$š™_·Îoc
 ()

29 
size_t
 
bm_size
 = (
kh·ge
) * 1024;

31 
kh·ge_li¡
 = (
kh·ge
 *)(
KERNEL_ADDR
);

33 
	`mem£t
((*)
kh·ge_li¡
, 0, 
bm_size
);

34 
·ge_®loc_šdex
 = 0;

35 
ä“li¡
.
li¡
 = 
NULL
;

36 
ä“li¡
.
nä“
 = 0;

37 
	}
}

39 
ušt32_t
 *

40 
	$·Îoc_g‘_muÉË
 (
size_t
 
·ge_út
)

42 *
·ges
 = 
NULL
;

43 
kh·ge
 *kh·gğ
ä“li¡
.
li¡
;

44 
kh·ge
 *
´•age
 = 
ä“li¡
.
li¡
;

45 
size_t
 
·ge_idx
;

47 ià(
·ge_út
 == 0)

48  
NULL
;

50 
kh·ge
 !ğ
NULL
){

51 if(
kh·ge
->
ÇÎoc
 =ğ
·ge_út
){

52 
·ge_idx
 = ((
ušt32_t
)
kh·ge
 - (ušt32_t)
kh·ge_li¡
)/(khpage);

53 
·ges
 = (*)(
VKERNEL_HEAP_START
 + 
·ge_idx
 * 
PAGE_SIZE
);

55 if(
´•age
 =ğ
kh·ge
){

56 
ä“li¡
.
li¡
 = 
kh·ge
->
Ãxt
;

57 
ä“li¡
.
nä“
--;

60 
´•age
->
Ãxt
 = 
kh·ge
->next;

61 
ä“li¡
.
nä“
--;

66 
´•age
 = 
kh·ge
;

67 
kh·ge
 = kh·ge->
Ãxt
;

70 if(
·ges
 =ğ
NULL
){

71 
·ges
 = (*)(
VKERNEL_HEAP_START
 + 
·ge_®loc_šdex
 * 
PAGE_SIZE
);

72 
·ge_®loc_šdex
 +ğ
·ge_út
;

75 ià(
·ges
 !ğ
NULL
)

77 
	`mem£t
 (
·ges
, 0, 
PAGE_SIZE
 * 
·ge_út
);

80  (
ušt32_t
*)
·ges
;

81 
	}
}

83 
ušt32_t
 *

84 
	$·Îoc_g‘_·ge
 ()

86  
	`·Îoc_g‘_muÉË
 (1);

87 
	}
}

90 
	$·Îoc_ä“_muÉË
 (*
·ges
, 
size_t
 
·ge_út
)

92 
kh·ge
 *kh·gğ
ä“li¡
.
li¡
;

93 
size_t
 
·ge_idx
 = (((
ušt32_t
)
·ges
 - 
VKERNEL_HEAP_START
è/ 
PAGE_SIZE
);

95 ià(
·ges
 =ğ
NULL
 || 
·ge_út
 == 0)

98 if(
kh·ge
 =ğ
NULL
){

99 
ä“li¡
.
li¡
 = 
kh·ge_li¡
 + 
·ge_idx
;

100 
ä“li¡
.
li¡
->
ÇÎoc
 = 
·ge_út
;

101 
ä“li¡
.
li¡
->
Ãxt
 = 
NULL
;

105 
kh·ge
->
Ãxt
 !ğ
NULL
){

106 
kh·ge
 = kh·ge->
Ãxt
;

109 
kh·ge
->
Ãxt
 = 
kh·ge_li¡
 + 
·ge_idx
;

110 
kh·ge
->
Ãxt
->
ÇÎoc
 = 
·ge_út
;

111 
kh·ge
->
Ãxt
->Ãxˆğ
NULL
;

114 
ä“li¡
.
nä“
++;

115 
	}
}

118 
	$·Îoc_ä“_·ge
 (*
·ge
)

120 
	`·Îoc_ä“_muÉË
 (
·ge
, 1);

121 
	}
}

123 
	$·Îoc_pf_‹¡
()

125 
ušt32_t
 *
Úe_·ge1
 = 
	`·Îoc_g‘_·ge
();

126 
ušt32_t
 *
Úe_·ge2
 = 
	`·Îoc_g‘_·ge
();

127 
ušt32_t
 *
two_·ge1
 = 
	`·Îoc_g‘_muÉË
(2);

128 
ušt32_t
 *
th»e_·ge
;

129 
	`´štk
("Úe_·ge1 = %x\n", 
Úe_·ge1
);

130 
	`´štk
("Úe_·ge2 = %x\n", 
Úe_·ge2
);

131 
	`´štk
("two_·ge1 = %x\n", 
two_·ge1
);

133 
	`´štk
("=----------------------------------=\n");

134 
	`·Îoc_ä“_·ge
(
Úe_·ge1
);

135 
	`·Îoc_ä“_·ge
(
Úe_·ge2
);

136 
	`·Îoc_ä“_muÉË
(
two_·ge1
,2);

138 
Úe_·ge1
 = 
	`·Îoc_g‘_·ge
();

139 
two_·ge1
 = 
	`·Îoc_g‘_muÉË
(2);

140 
Úe_·ge2
 = 
	`·Îoc_g‘_·ge
();

142 
	`´štk
("Úe_·ge1 = %x\n", 
Úe_·ge1
);

143 
	`´štk
("Úe_·ge2 = %x\n", 
Úe_·ge2
);

144 
	`´štk
("two_·ge1 = %x\n", 
two_·ge1
);

146 
	`´štk
("=----------------------------------=\n");

147 
	`·Îoc_ä“_muÉË
(
Úe_·ge2
, 3);

148 
Úe_·ge2
 = 
	`·Îoc_g‘_·ge
();

149 
th»e_·ge
 = 
	`·Îoc_g‘_muÉË
(3);

151 
	`´štk
("Úe_·ge1 = %x\n", 
Úe_·ge1
);

152 
	`´štk
("Úe_·ge2 = %x\n", 
Úe_·ge2
);

153 
	`´štk
("th»e_·gğ%x\n", 
th»e_·ge
);

155 
	`·Îoc_ä“_·ge
(
Úe_·ge1
);

156 
	`·Îoc_ä“_·ge
(
th»e_·ge
);

157 
th»e_·ge
 = (
ušt32_t
*)((uint32_t)three_page + 0x1000);

158 
	`·Îoc_ä“_·ge
(
th»e_·ge
);

159 
th»e_·ge
 = (
ušt32_t
*)((uint32_t)three_page + 0x1000);

160 
	`·Îoc_ä“_·ge
(
th»e_·ge
);

161 
	`·Îoc_ä“_·ge
(
Úe_·ge2
);

162 
	}
}

	@kernel/proc/proc.c

1 
	~<li¡.h
>

2 
	~<´oc/sched.h
>

3 
	~<mem/m®loc.h
>

4 
	~<´oc/´oc.h
>

5 
	~<ssulib.h
>

6 
	~<š‹¼u±.h
>

7 
	~<´oc/sched.h
>

8 
	~<deviû/cÚsŞe.h
>

9 
	~<deviû/io.h
>

10 
	~<sysÿÎ.h
>

11 
	~<mem/·gšg.h
>

12 
	~<mem/·Îoc.h
>

13 
	~<¡ršg.h
>

15 
	#STACK_SIZE
 512

	)

16 
	#PROC_NUM_MAX
 16

	)

18 
li¡
 
	gp_li¡
;

19 
li¡
 
	gr_li¡
;

20 
li¡
 
	gs_li¡
;

21 
li¡
 
	gd_li¡
;

23 
´oûss
 
	g´ocs
[
PROC_NUM_MAX
];

24 
´oûss
 *
	gcur_´oûss
;

25 
	gpid_num_max
;

27 
ušt32_t
 
	g´oûss_¡ack_ofs
;

29 
	glock_pid_sim¶e
;

30 
	gÏ‹ly_pid
;

32 
boŞ
 
mÜe_´io
(cÚ¡ 
li¡_–em
 *
a
, cÚ¡ li¡_–em *
b
,*
aux
);

33 
boŞ
 
Ëss_time_¦“p
(cÚ¡ 
li¡_–em
 *
a
, cÚ¡ li¡_–em *
b
,*
aux
);

34 
pid_t
 
g‘V®idPid
(*
idx
);

36 
´oc_¡¬t
();

37 
´oc_’d
();

39 
logš_´om±
(*);

40 
boŞ
 
check_u£r
(*, *);

41 
sh–l_´oc
(* 
aux
);

44 
	mid
[
BUFSIZ
];

45 
	m·sswÜd
[
BUFSIZ
];

46 }
	tu£r_li¡
;

48 
u£r_li¡
 
	g‹mp_li¡
 = {"ssuos\n","oslab\n"};

50 
	$loİ_´oc
(*
aux
)

52 
	`´štk
("loop start...\n");

54 
	}
}

56 
	$logš_´om±
(* 
aux
)

58 
id
[
BUFSIZ
];

59 
·sswÜd
[
BUFSIZ
];

63 
	`´štk
("\nid : ");

64 
	`g‘kbd
(
id
,
BUFSIZ
è=ğ
TRUE
);

66 
	`´štk
("password : ");

67 
	`g‘kbd
(
·sswÜd
,
BUFSIZ
è=ğ
TRUE
);

69 if(
	`check_u£r
(
id
,
·sswÜd
))

70 
	`sh–l_´oc
(
NULL
);

72 
	`´štk
("\nincorrect id or…assword.\n");

74 
	}
}

76 
boŞ
 
	$check_u£r
(*
id
, *
·sswÜd
)

78 ià(
	`¡rcmp
(
‹mp_li¡
.
id
,idè|| sŒcmpÑemp_li¡.
·sswÜd
,·sswÜd)è 
çl£
;

79  
Œue
;

80 
	}
}

82 
	$š™_´oc
()

84 
´oûss_¡ack_ofs
 = 
	`off£tof
 (
´oûss
, 
¡ack
);

86 
lock_pid_sim¶e
 = 0;

87 
Ï‹ly_pid
 = -1;

89 
	`li¡_š™
(&
p_li¡
);

90 
	`li¡_š™
(&
r_li¡
);

91 
	`li¡_š™
(&
s_li¡
);

92 
	`li¡_š™
(&
d_li¡
);

94 
i
;

95 
i
 = 0; i < 
PROC_NUM_MAX
; i++)

97 
´ocs
[
i
].
pid
 = i;

98 
´ocs
[
i
].
¡©e
 = 
PROC_UNUSED
;

99 
´ocs
[
i
].
·»Á
 = 
NULL
;

102 
pid_t
 
pid
 = 
	`g‘V®idPid
(&
i
);

103 
cur_´oûss
 = &
´ocs
[
i
];

105 
cur_´oûss
->
pid
 =…id;

106 
cur_´oûss
->
·»Á
 = 
NULL
;

107 
cur_´oûss
->
¡©e
 = 
PROC_RUN
;

108 
cur_´oûss
->
´iÜ™y
 = 0;

109 
cur_´oûss
->
¡ack
 = 0;

110 
cur_´oûss
->
pd
 = (*)
	`»ad_ü3
();

111 
cur_´oûss
->
–em_®l
.
´ev
 = 
NULL
;

112 
cur_´oûss
->
–em_®l
.
Ãxt
 = 
NULL
;

113 
cur_´oûss
->
–em_¡©
.
´ev
 = 
NULL
;

114 
cur_´oûss
->
–em_¡©
.
Ãxt
 = 
NULL
;

116 
	`li¡_push_back
(&
p_li¡
, &
cur_´oûss
->
–em_®l
);

117 
	`li¡_push_back
(&
r_li¡
, &
cur_´oûss
->
–em_¡©
);

118 
	}
}

120 
pid_t
 
	$g‘V®idPid
(*
idx
) {

122 
pid_t
 
pid
 = -1;

123 
i
;

125 
lock_pid_sim¶e
)

128 
lock_pid_sim¶e
++;

130 
i
 = 0; i < 
PROC_NUM_MAX
; i++)

132 
tmp
 = 
i
 + 
Ï‹ly_pid
 + 1;

133 if(
´ocs
[
tmp
 % 
PROC_NUM_MAX
].
¡©e
 =ğ
PROC_UNUSED
) {

134 
pid
 = 
Ï‹ly_pid
 + 1;

135 *
idx
 = 
tmp
 % 
PROC_NUM_MAX
;

140 if(
pid
 != -1)

142 
Ï‹ly_pid
 = 
pid
;

145 
lock_pid_sim¶e
 = 0;

147  
pid
;

148 
	}
}

150 
pid_t
 
	$´oc_ü—‹
(
´oc_func
 
func
, 
´oc_İtiÚ
 *
İt
, * 
aux
)

152 
´oûss
 *
p
;

153 
idx
;

155 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
();

157 
pid_t
 
pid
 = 
	`g‘V®idPid
(&
idx
);

158 
p
 = &
´ocs
[
idx
];

160 
p
->
pid
 =…id;

161 
p
->
¡©e
 = 
PROC_RUN
;

163 if(
İt
 !ğ
NULL
)

164 
p
->
´iÜ™y
 = 
İt
->priority;

166 
p
->
´iÜ™y
 = ()0;

168 
p
->
time_u£d
 = 0;

169 
p
->
time_sched
= 0;

170 
p
->
·»Á
 = 
cur_´oûss
;

171 
p
->
sim¶e_lock
 = 0;

172 
p
->
chd_pid
 = -1;

174 *
tİ
 = (*)
	`·Îoc_g‘_·ge
();

175 
¡ack
 = ()
tİ
;

176 
tİ
 = (*)
¡ack
 + 
STACK_SIZE
 - 1;

178 *(--
tİ
èğ()
aux
;

179 *(--
tİ
èğ()
´oc_’d
;

180 *(--
tİ
èğ()
func
;

181 *(--
tİ
èğ()
´oc_¡¬t
;

183 *(--
tİ
èğ()((*)
¡ack
 + 
STACK_SIZE
 - 1);

184 *(--
tİ
) = 1;

185 *(--
tİ
) = 2;

186 *(--
tİ
) = 3;

187 *(--
tİ
) = 4;

188 *(--
tİ
) = 5;

189 *(--
tİ
) = 6;

191 
p
->
¡ack
 = 
tİ
;

192 
p
->
pd
 = 
	`pd_ü—‹
(
pid
);

193 
p
->
–em_®l
.
´ev
 = 
NULL
;

194 
p
->
–em_®l
.
Ãxt
 = 
NULL
;

195 
p
->
–em_¡©
.
´ev
 = 
NULL
;

196 
p
->
–em_¡©
.
Ãxt
 = 
NULL
;

198 
	`li¡_push_back
(&
p_li¡
, &
p
->
–em_®l
);

199 
	`li¡_push_back
(&
r_li¡
, &
p
->
–em_¡©
);

201 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

202  
p
->
pid
;

203 
	}
}

205 * 
	$g‘EIP
()

207  
	`__butš_»tuº_add»ss
(0);

208 
	}
}

210 
	$´oc_¡¬t
()

212 
	`šŒ_’abË
 ();

214 
	}
}

216 
	$´oc_ä“
()

218 
ušt32_t
 *
pd
 = (ušt32_t*)
cur_´oûss
->pd;

219 
pd
 = 
	`RH_TO_VH
(pd);

220 
ušt32_t
 *
±
 = (ušt32_t*è(
pd
[0] & 
PAGE_MASK_BASE
);

221 
ušt32_t
 *
±2
 = (ušt32_t*è(
pd
[768] & 
PAGE_MASK_BASE
);

222 
cur_´oûss
->
·»Á
->
chd_pid
 = cur_´oûss->
pid
;

223 
cur_´oûss
->
·»Á
->
sim¶e_lock
 = 0;

225 
	`li¡_»move
(&
cur_´oûss
->
–em_¡©
);

227 
cur_´oûss
->
¡©e
 = 
PROC_ZOMBIE
;

228 
	`li¡_push_back
(&
d_li¡
, &
cur_´oûss
->
–em_¡©
);

230 
	`·Îoc_ä“_·ge
(
cur_´oûss
->
¡ack
);

231 
	`·Îoc_ä“_·ge
(
	`RH_TO_VH
(
cur_´oûss
->
pd
));

232 
	`·Îoc_ä“_·ge
(
	`RH_TO_VH
(
±
));

233 
	`·Îoc_ä“_·ge
(
	`RH_TO_VH
(
±2
));

234 
	}
}

236 
	$´oc_’d
()

238 
	`´oc_ä“
();

239 
	`scheduË
();

240 
	`´štk
("never„each\n");

242 
	}
}

244 
	$´oc_wake
()

246 
´oûss
* 
p
;

247 
t
 = 
	`g‘_ticks
();

249 !
	`li¡_em±y
(&
s_li¡
))

251 
p
 = 
	`li¡_’Œy
(
	`li¡_äÚt
(&
s_li¡
), 
´oûss
, 
–em_¡©
);

252 if(
p
->
time_¦“p
 > 
t
)

254 
p
->
¡©e
 = 
PROC_RUN
;

255 
	`li¡_»move
(&
p
->
–em_¡©
);

257 
	}
}

259 
	$´oc_¦“p
(
ticks
)

261 
cur_ticks
 = 
	`g‘_ticks
();

262 
cur_´oûss
->
time_¦“p
 = 
ticks
 + 
cur_ticks
;

263 
cur_´oûss
->
¡©e
 = 
PROC_STOP
;

264 
	`li¡_š£¹_Üd”ed
(&
s_li¡
, &
cur_´oûss
->
–em_¡©
,

265 
Ëss_time_¦“p
, 
NULL
);

266 
	`scheduË
();

267 
	}
}

269 
	$´oc_block
()

271 
cur_´oûss
->
¡©e
 = 
PROC_BLOCK
;

272 
	`scheduË
();

273 
	}
}

275 
	$´oc_unblock
(
´oûss
* 
´oc
)

277 
šŒ_Ëv–
 
Şd_Ëv–
;

279 
Şd_Ëv–
 = 
	`šŒ_di§bË
();

281 
	`li¡_push_back
(&
r_li¡
, &
´oc
->
–em_¡©
);

282 
´oc
->
¡©e
 = 
PROC_RUN
;

284 
	`šŒ_£t_Ëv–
(
Şd_Ëv–
);

285 
	}
}

287 
boŞ
 
	$Ëss_time_¦“p
(cÚ¡ 
li¡_–em
 *
a
, cÚ¡ li¡_–em *
b
,*
aux
)

289 
´oûss
 *
p1
 = 
	`li¡_’Œy
(
a
, ´oûss, 
–em_¡©
);

290 
´oûss
 *
p2
 = 
	`li¡_’Œy
(
b
, ´oûss, 
–em_¡©
);

292  
p1
->
time_¦“p
 < 
p2
->time_sleep;

293 
	}
}

295 
boŞ
 
	$mÜe_´io
(cÚ¡ 
li¡_–em
 *
a
, cÚ¡ li¡_–em *
b
,*
aux
)

297 
´oûss
 *
p1
 = 
	`li¡_’Œy
(
a
, ´oûss, 
–em_¡©
);

298 
´oûss
 *
p2
 = 
	`li¡_’Œy
(
b
, ´oûss, 
–em_¡©
);

299  
p1
->
´iÜ™y
 > 
p2
->priority;

300 
	}
}

303 
	$k”Ãl1_´oc
(* 
aux
)

305 
cur_´oûss
 -> 
´iÜ™y
 = 200;

308 
	`scheduË
();

310 
	}
}

312 
	$k”Ãl2_´oc
(* 
aux
)

314 
cur_´oûss
 -> 
´iÜ™y
 = 200;

317 
	`scheduË
();

319 
	}
}

321 
	$ps_´oc
(* 
aux
)

323 
i
;

324 
i
 = 0; i<
PROC_NUM_MAX
; i++)

326 
´oûss
 *
p
 = &
´ocs
[
i
];

328 if(
p
->
¡©e
 =ğ
PROC_UNUSED
)

331 
	`´štk
("pid %d…pid ", 
p
->
pid
);

333 if(
p
->
·»Á
 !ğ
NULL
)

334 
	`´štk
("%d", 
p
->
·»Á
->
pid
);

336 
	`´štk
("non");

338 
	`´štk
(" state %d…rio %d usingime %d schedime %d",

339 
p
->
¡©e
,…->
´iÜ™y
,…->
time_u£d
,…->
time_sched
);

340 
	`´štk
(",…d = %x\n", 
p
->
pd
);

343 
	`ex™
(1);

344 
	}
}

346 cÚ¡ * 
VERSION
;

347 cÚ¡ * 
AUTHOR
;

348 cÚ¡ * 
MODIFIER
;

349 
	$uÇme_´oc
(* 
aux
)

351 
	`´štk
("SSUOS %s\nmadby %s\nmodef›d by %s\n", 
VERSION
, 
AUTHOR
, 
MODIFIER
);

353 
	}
}

355 
	$´št_pid
(* 
aux
) {

358 
	`´štk
("pid = %d ", 
cur_´oûss
->
pid
);

359 
	`´štk
("´iØğ%d ", 
cur_´oûss
->
´iÜ™y
);

360 
	`´štk
("timğ%d ", 
cur_´oûss
->
time_¦iû
);

361 
	`´štk
("tick ğ%d ", 
	`g‘_ticks
());

362 
	`´štk
("š %s\n", 
aux
);

364 
	#SLEEP_FREQ
 100

	)

365 
	`´oc_¦“p
(
cur_´oûss
->
pid
 * cur_´oûss->pid * 
SLEEP_FREQ
);

367 
	}
}

371 * 
	mcmd
;

372 
	mty³
;

373 * 
	mfunc
;

374 } 
	tCmdLi¡
;

376 
	$sh–l_´oc
(* 
aux
)

378 
CmdLi¡
 
cmdli¡
[] = {

379 {"shutdown", 0, 
shutdown
},

380 {"ps", 1, 
ps_´oc
},

381 {"uÇme", 1, 
uÇme_´oc
},

383 
	#CMDNUM
 3

	)

384 
	#TOKNUM
 10

	)

385 
buf
[
BUFSIZ
];

386 
tok’
[
TOKNUM
][
BUFSIZ
];

387 
tok’_num
;

389 
cur_´oûss
 -> 
´iÜ™y
 = 100;

393 
´oc_func
 *
func
;

394 
i
, 
Ën
;

396 
	`´štk
("> ");

398 
	`g‘kbd
(
buf
,
BUFSIZ
))

403 
i
=0;
buf
[i] != '\n'; i++);

404 
i
--; 
buf
[i] == ' '; i--)

405 
buf
[
i
] = 0;

407 
tok’_num
 = 
	`g‘Tok’
(
buf
,
tok’
,
TOKNUM
);

409 ifĞ
	`¡rcmp
(
tok’
[0], "exit") == 0)

412 ifĞ
	`¡ºcmp
(
tok’
[0], "li¡", 
BUFSIZ
) == 0)

414 
i
 = 0; i < 
CMDNUM
; i++)

415 
	`´štk
("%s\n", 
cmdli¡
[
i
].
cmd
);

419 
i
 = 0; i < 
CMDNUM
; i++)

421 ifĞ
	`¡ºcmp
(
cmdli¡
[
i
].
cmd
, 
tok’
[0], 
BUFSIZ
) == 0)

425 if(
i
 =ğ
CMDNUM
)

427 
	`´štk
("UnknowÀcommªd %s\n", 
buf
);

431 if(
cmdli¡
[
i
].
ty³
 == 0)

433 (*
func
)();

434 
func
 = 
cmdli¡
[
i
].func;

435 
	`func
();

437 if(
cmdli¡
[
i
].
ty³
 == 1)

439 
cur_´oûss
->
sim¶e_lock
 = 1;

440 
pid
 = 
	`fÜk
(
cmdli¡
[
i
].
func
, (*)0x999);

442 
cur_´oûss
->
sim¶e_lock
)

447 
	`´štk
("Unknownype\n");

451 
	}
}

453 
	$idË
(* 
aux
)

456 
	`´oc_ü—‹
(
k”Ãl1_´oc
, 
NULL
, NULL);

457 
	`´oc_ü—‹
(
k”Ãl2_´oc
, 
NULL
, NULL);

458 
	`´oc_ü—‹
(
logš_´om±
,
NULL
,NULL);

461 if(
cur_´oûss
->
pid
 != 0) {

462 
	`´štk
("”rÜ : idË…roûss' pid !ğ0\n", 
cur_´oûss
->
pid
);

466  !
	`li¡_em±y
(&
d_li¡
) )

468 
li¡_–em
 *
e
 = 
	`li¡_pİ_äÚt
(&
d_li¡
);

469 
´oûss
 *
p
 = 
	`li¡_’Œy
(
e
, ´oûss, 
–em_¡©
);

470 
p
->
¡©e
 = 
PROC_UNUSED
;

471 
	`li¡_»move
Ğ&
p
->
–em_®l
);

474 
	`scheduË
();

476 
	}
}

478 
	$´oc_´št_d©a
()

480 
a
, 
b
, 
c
, 
d
, 
bp
, 
si
, 
di
, 
¥
;

483 
__asm__
 
	`__vŞ©e
("mov %%—x ,%0": "=m"(
a
));

485 
__asm__
 
	`__vŞ©e
("mov %ebx ,%eax");

486 
__asm__
 
	`__vŞ©e
("mov %%—x ,%0": "=m"(
b
));

488 
__asm__
 
	`__vŞ©e
("mov %ecx ,%eax");

489 
__asm__
 
	`__vŞ©e
("mov %%—x ,%0": "=m"(
c
));

491 
__asm__
 
	`__vŞ©e
("mov %edx ,%eax");

492 
__asm__
 
	`__vŞ©e
("mov %%—x ,%0": "=m"(
d
));

495 
__asm__
 
	`__vŞ©e
("mov %ebp ,%eax");

496 
__asm__
 
	`__vŞ©e
("mov %%—x ,%0": "=m"(
bp
));

498 
__asm__
 
	`__vŞ©e
("mov %esi ,%eax");

499 
__asm__
 
	`__vŞ©e
("mov %%—x ,%0": "=m"(
si
));

501 
__asm__
 
	`__vŞ©e
("mov %edi ,%eax");

502 
__asm__
 
	`__vŞ©e
("mov %%—x ,%0": "=m"(
di
));

504 
__asm__
 
	`__vŞ©e
("mov %esp ,%eax");

505 
__asm__
 
	`__vŞ©e
("mov %%—x ,%0": "=m"(
¥
));

507 
	`´štk
( "\neax %oƒbx %oƒcx %oƒdx %o"\

509 , 
a
, 
b
, 
c
, 
d
, 
bp
, 
si
, 
di
, 
¥
);

510 
	}
}

512 
	$hexDump
 (*
addr
, 
Ën
) {

513 
i
;

514 
buff
[17];

515 *
pc
 = (*)
addr
;

517 ià(
Ën
 == 0) {

518 
	`´štk
(" ZERO LENGTH\n");

521 ià(
Ën
 < 0) {

522 
	`´štk
(" NEGATIVE LENGTH: %i\n",
Ën
);

526 
i
 = 0; i < 
Ën
; i++) {

528 ià((
i
 % 16) == 0) {

529 ià(
i
 != 0)

530 
	`´štk
 (" %s\n", 
buff
);

532 
	`´štk
 (" %04x ", 
i
);

535 
	`´štk
 (" %02x", 
pc
[
i
]);

537 ià((
pc
[
i
] < 0x20) || (pc[i] > 0x7e))

538 
buff
[
i
 % 16] = '.';

540 
buff
[
i
 % 16] = 
pc
[i];

541 
buff
[(
i
 % 16) + 1] = '\0';

544 (
i
 % 16) != 0) {

545 
	`´štk
 (" ");

546 
i
++;

549 
	`´štk
 (" %s\n", 
buff
);

550 
	}
}

	@kernel/proc/sched.c

1 
	~<li¡.h
>

2 
	~<´oc/sched.h
>

3 
	~<mem/m®loc.h
>

4 
	~<´oc/´oc.h
>

5 
	~<´oc/sw™ch.h
>

7 
li¡
 
r_li¡
;

9 
boŞ
 
mÜe_´io
(cÚ¡ 
li¡_–em
 *
a
, cÚ¡ li¡_–em *
b
,*
aux
);

11 
´oûss
* 
	$g‘_Ãxt_´oc
() {

13 
li¡_–em
 *
e
;

15 if(
cur_´oûss
->
¡©e
 =ğ
PROC_RUN
)

17 
	`li¡_»move
(&
cur_´oûss
->
–em_¡©
);

18 
	`li¡_push_back
(&
r_li¡
, &
cur_´oûss
->
–em_¡©
);

21 
e
 = 
	`li¡_begš
 (&
r_li¡
);ƒ !ğ
	`li¡_’d
 (&r_list);

22 
e
 = 
	`li¡_Ãxt
 (e))

24 
´oûss
* 
p
 = 
	`li¡_’Œy
(
	`li¡_äÚt
(&
r_li¡
), ´oûss, 
–em_¡©
);

25 if(
p
->
¡©e
 =ğ
PROC_RUN
)

26  
p
;

28  
cur_´oûss
;

29 
	}
}

31 
	$scheduË
()

33 
´oûss
 *
cur
;

34 
´oûss
 *
Ãxt
;

36 
	`´oc_wake
();

38 
Ãxt
 = 
	`g‘_Ãxt_´oc
();

39 
cur
 = 
cur_´oûss
;

40 
cur_´oûss
 = 
Ãxt
;

41 
cur_´oûss
->
time_sched
++;

42 
cur_´oûss
->
time_¦iû
 = 0;

44 
	`sw™ch_´oûss
(
cur
, 
Ãxt
);

45 
	}
}

	@kernel/ssulib.c

1 
	~<ssulib.h
>

2 
	~<deviû/cÚsŞe.h
>

3 
	~<deviû/io.h
>

4 
	~<sysÿÎ.h
>

7 
	$¡ºcmp
(* 
b1
, * 
b2
, 
Ën
)

9 
i
;

11 
i
 = 0; i < 
Ën
; i++)

13 
c
 = 
b1
[
i
] - 
b2
[i];

14 if(
c
)

15  
c
;

16 if(
b1
[
i
] == 0)

20 
	}
}

22 
boŞ
 
	$g‘kbd
(*
buf
, 
Ën
)

24 
ch
;

25 
off£t
 = 0;

27 
Ën
--;

29 ; 
off£t
 < 
Ën
 && 
buf
[offset] != 0; offset++)

30 if(
buf
[
off£t
] == '\n')

32 ;
off£t
>=0;offset--)

33 
buf
[
off£t
] = 0;

34 
off£t
++;

38  (
ch
 = 
	`ssu»ad
()) >= 0)

40 if(
ch
 =ğ'\b' && 
off£t
 == 0)

42 
	`£t_cursÜ
();

45 
	`´štk
("%c",
ch
);

46 
	`£t_cursÜ
();

47 ià(
ch
 == '\b')

49 
buf
[
off£t
-1] = 0;

50 
off£t
--;

52 ià(
ch
 == '\n')

54 
buf
[
off£t
] = 
ch
;

55  
FALSE
;

59 
buf
[
off£t
] = 
ch
;

60 
off£t
++;

62 if(
off£t
 =ğ
Ën
) offset--;

65  
TRUE
;

66 
	}
}

68 
	$g‘Tok’
(* 
buf
, 
tok’
[][
BUFSIZ
], 
max_tok
)

70 
num_tok
 = 0;

71 
off_tok
 = 0;

72 
num_tok
 < 
max_tok
 && *
buf
 != '\n')

74 if(*
buf
 == ' ')

76 
tok’
[
num_tok
][
off_tok
] = 0;

77 *
buf
 == ' ') buf++;

78 
off_tok
 = 0;

79 
num_tok
++;

83 
tok’
[
num_tok
][
off_tok
] = *
buf
;

84 
off_tok
++;

85 
buf
++;

88 
tok’
[
num_tok
][
off_tok
] = 0;

89 
num_tok
++;

91  
num_tok
;

92 
	}
}

	@kernel/stdio.c

1 
	~<¡dio.h
>

2 
	~<ùy³.h
>

3 
	~<š‰y³s.h
>

4 
	~<round.h
>

5 
	~<¡dšt.h
>

6 
	~<¡ršg.h
>

9 
	sv¢´štf_aux


11 *
	mp
;

12 
	mËngth
;

13 
	mmax_Ëngth
;

16 
v¢´štf_h–³r
 (, *);

26 
	$v¢´štf
 (*
bufãr
, 
size_t
 
buf_size
, cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
)

29 
v¢´štf_aux
 
aux
;

30 
aux
.
p
 = 
bufãr
;

31 
aux
.
Ëngth
 = 0;

32 
aux
.
max_Ëngth
 = 
buf_size
 > 0 ? buf_size - 1 : 0;

35 
	`__v´štf
 (
fÜm©
, 
¬gs
, 
v¢´štf_h–³r
, &
aux
);

38 ià(
buf_size
 > 0)

39 *
aux
.
p
 = '\0';

41  
aux
.
Ëngth
;

42 
	}
}

46 
	$v¢´štf_h–³r
 (
ch
, *
aux_
)

48 
v¢´štf_aux
 *
aux
 = 
aux_
;

50 ià(
aux
->
Ëngth
++ <‡ux->
max_Ëngth
)

51 *
aux
->
p
++ = 
ch
;

52 
	}
}

62 
	$¢´štf
 (*
bufãr
, 
size_t
 
buf_size
, cÚ¡ *
fÜm©
, ...)

64 
va_li¡
 
¬gs
;

65 
»tv®
;

67 
	`va_¡¬t
 (
¬gs
, 
fÜm©
);

68 
»tv®
 = 
	`v¢´štf
 (
bufãr
, 
buf_size
, 
fÜm©
, 
¬gs
);

69 
	`va_’d
 (
¬gs
);

71  
»tv®
;

72 
	}
}

79 
	$´štf
 (cÚ¡ *
fÜm©
, ...)

82 
»tv®
;

88  
»tv®
;

89 
	}
}

94 
	s´štf_cÚv”siÚ


99 
	mMINUS
 = 1 << 0,

100 
	mPLUS
 = 1 << 1,

101 
	mSPACE
 = 1 << 2,

102 
	mPOUND
 = 1 << 3,

103 
	mZERO
 = 1 << 4,

104 
	mGROUP
 = 1 << 5

106 
	mæags
;

109 
	mwidth
;

113 
	m´ecisiÚ
;

118 
	mCHAR
 = 1,

119 
	mSHORT
 = 2,

120 
	mINT
 = 3,

121 
	mINTMAX
 = 4,

122 
	mLONG
 = 5,

123 
	mLONGLONG
 = 6,

124 
	mPTRDIFFT
 = 7,

125 
	mSIZET
 = 8

127 
	mty³
;

130 
	sš‹g”_ba£


132 
	mba£
;

133 cÚ¡ *
	mdig™s
;

134 
	mx
;

135 
	mgroup
;

138 cÚ¡ 
š‹g”_ba£
 
	gba£_d
 = {10, "0123456789", 0, 3};

139 cÚ¡ 
š‹g”_ba£
 
	gba£_o
 = {8, "01234567", 0, 3};

140 cÚ¡ 
š‹g”_ba£
 
	gba£_x
 = {16, "0123456789abcdef", 'x', 4};

141 cÚ¡ 
š‹g”_ba£
 
	gba£_X
 = {16, "0123456789ABCDEF", 'X', 4};

143 cÚ¡ *
·r£_cÚv”siÚ
 (cÚ¡ *
fÜm©
,

144 
´štf_cÚv”siÚ
 *,

145 
va_li¡
 *);

146 
fÜm©_š‹g”
 (
v®ue
, 
boŞ
 
is_sigÃd
, boŞ 
Ãg©ive
,

147 cÚ¡ 
š‹g”_ba£
 *,

148 cÚ¡ 
´štf_cÚv”siÚ
 *,

149 (*
ouut
è(, *), *
aux
);

150 
	`ouut_dup
 (
ch
, 
size_t
 
út
,

151 (*
ouut
è(, *), *
aux
);

152 
	`fÜm©_¡ršg
 (cÚ¡ *
¡ršg
, 
Ëngth
,

153 
´štf_cÚv”siÚ
 *,

154 (*
ouut
è(, *), *
aux
);

157 
	$__v´štf
 (cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
,

158 (*
ouut
è(, *), *
aux
)

160 ; *
fÜm©
 != '\0'; format++)

162 
´štf_cÚv”siÚ
 
c
;

165 ià(*
fÜm©
 != '%')

167 
	`ouut
 (*
fÜm©
, 
aux
);

170 
fÜm©
++;

173 ià(*
fÜm©
 == '%')

175 
	`ouut
 ('%', 
aux
);

180 
fÜm©
 = 
	`·r£_cÚv”siÚ
 (fÜm©, &
c
, &
¬gs
);

183 *
fÜm©
)

189 
štmax_t
 
v®ue
;

191 
c
.
ty³
)

193 
CHAR
:

194 
v®ue
 = (sigÃd è
	`va_¬g
 (
¬gs
, );

196 
SHORT
:

197 
v®ue
 = (è
	`va_¬g
 (
¬gs
, );

199 
INT
:

200 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

202 
INTMAX
:

203 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
štmax_t
);

205 
LONG
:

206 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

208 
LONGLONG
:

209 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

211 
PTRDIFFT
:

212 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
±rdiff_t
);

214 
SIZET
:

215 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
size_t
);

216 ià(
v®ue
 > 
SIZE_MAX
 / 2)

217 
v®ue
 = v®u- 
SIZE_MAX
 - 1;

223 
	`fÜm©_š‹g”
 (
v®ue
 < 0 ? -value : value,

224 
Œue
, 
v®ue
 < 0, &
ba£_d
, &
c
, 
ouut
, 
aux
);

234 
uštmax_t
 
v®ue
;

235 cÚ¡ 
š‹g”_ba£
 *
b
;

237 
c
.
ty³
)

239 
CHAR
:

240 
v®ue
 = (è
	`va_¬g
 (
¬gs
, );

242 
SHORT
:

243 
v®ue
 = (è
	`va_¬g
 (
¬gs
, );

245 
INT
:

246 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

248 
INTMAX
:

249 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
uštmax_t
);

251 
LONG
:

252 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

254 
LONGLONG
:

255 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

257 
PTRDIFFT
:

258 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
±rdiff_t
);

259 #ià
UINTMAX_MAX
 !ğ
PTRDIFF_MAX


260 
v®ue
 &ğ((
uštmax_t
è
PTRDIFF_MAX
 << 1) | 1;

263 
SIZET
:

264 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
size_t
);

270 *
fÜm©
)

272 'o': 
b
 = &
ba£_o
; ;

273 'u': 
b
 = &
ba£_d
; ;

274 'x': 
b
 = &
ba£_x
; ;

275 'X': 
b
 = &
ba£_X
; ;

280 
	`fÜm©_š‹g”
 (
v®ue
, 
çl£
, f®£, 
b
, &
c
, 
ouut
, 
aux
);

287 
ch
 = 
	`va_¬g
 (
¬gs
, );

288 
	`fÜm©_¡ršg
 (&
ch
, 1, &
c
, 
ouut
, 
aux
);

295 cÚ¡ *
s
 = 
	`va_¬g
 (
¬gs
, *);

296 ià(
s
 =ğ
NULL
)

297 
s
 = "(null)";

302 
	`fÜm©_¡ršg
 (
s
, 
	`¡ºËn
 (s, 
c
.
´ecisiÚ
), &c, 
ouut
, 
aux
);

310 *
p
 = 
	`va_¬g
 (
¬gs
, *);

312 
c
.
æags
 = 
POUND
;

313 
	`fÜm©_š‹g”
 ((
ušŒ_t
è
p
, 
çl£
, false,

314 &
ba£_x
, &
c
, 
ouut
, 
aux
);

326 
	`__´štf
 ("<<nØ%%%øš k”Ãl>>", 
ouut
, 
aux
, *
fÜm©
);

330 
	`__´štf
 ("<<nØ%%%øcÚv”siÚ>>", 
ouut
, 
aux
, *
fÜm©
);

334 
	}
}

341 
	$·r£_cÚv”siÚ
 (cÚ¡ *
fÜm©
, 
´štf_cÚv”siÚ
 *
c
,

342 
va_li¡
 *
¬gs
)

345 
c
->
æags
 = 0;

348 *
fÜm©
++)

351 
c
->
æags
 |ğ
MINUS
;

354 
c
->
æags
 |ğ
PLUS
;

357 
c
->
æags
 |ğ
SPACE
;

360 
c
->
æags
 |ğ
POUND
;

363 
c
->
æags
 |ğ
ZERO
;

366 
c
->
æags
 |ğ
GROUP
;

369 
fÜm©
--;

370 
nÙ_a_æag
;

373 
nÙ_a_æag
:

374 ià(
c
->
æags
 & 
MINUS
)

375 
c
->
æags
 &ğ~
ZERO
;

376 ià(
c
->
æags
 & 
PLUS
)

377 
c
->
æags
 &ğ~
SPACE
;

380 
c
->
width
 = 0;

381 ià(*
fÜm©
 == '*')

383 
fÜm©
++;

384 
c
->
width
 = 
	`va_¬g
 (*
¬gs
, );

388 ; 
	`isdig™
 (*
fÜm©
); format++)

389 
c
->
width
 = c->width * 10 + *
fÜm©
 - '0';

391 ià(
c
->
width
 < 0)

393 
c
->
width
 = -c->width;

394 
c
->
æags
 |ğ
MINUS
;

398 
c
->
´ecisiÚ
 = -1;

399 ià(*
fÜm©
 == '.')

401 
fÜm©
++;

402 ià(*
fÜm©
 == '*')

404 
fÜm©
++;

405 
c
->
´ecisiÚ
 = 
	`va_¬g
 (*
¬gs
, );

409 
c
->
´ecisiÚ
 = 0;

410 ; 
	`isdig™
 (*
fÜm©
); format++)

411 
c
->
´ecisiÚ
 = c->´ecisiÚ * 10 + *
fÜm©
 - '0';

413 ià(
c
->
´ecisiÚ
 < 0)

414 
c
->
´ecisiÚ
 = -1;

416 ià(
c
->
´ecisiÚ
 >= 0)

417 
c
->
æags
 &ğ~
ZERO
;

420 
c
->
ty³
 = 
INT
;

421 *
fÜm©
++)

424 ià(*
fÜm©
 == 'h')

426 
fÜm©
++;

427 
c
->
ty³
 = 
CHAR
;

430 
c
->
ty³
 = 
SHORT
;

434 
c
->
ty³
 = 
INTMAX
;

438 ià(*
fÜm©
 == 'l')

440 
fÜm©
++;

441 
c
->
ty³
 = 
LONGLONG
;

444 
c
->
ty³
 = 
LONG
;

448 
c
->
ty³
 = 
PTRDIFFT
;

452 
c
->
ty³
 = 
SIZET
;

456 
fÜm©
--;

460  
fÜm©
;

461 
	}
}

471 
	$fÜm©_š‹g”
 (
v®ue
, 
boŞ
 
is_sigÃd
, boŞ 
Ãg©ive
,

472 cÚ¡ 
š‹g”_ba£
 *
b
,

473 cÚ¡ 
´štf_cÚv”siÚ
 *
c
,

474 (*
ouut
è(, *), *
aux
)

476 
buf
[64], *
ı
;

477 
x
;

478 
sign
;

479 
´ecisiÚ
;

480 
·d_út
;

481 
dig™_út
;

486 
sign
 = 0;

487 ià(
is_sigÃd
)

489 ià(
c
->
æags
 & 
PLUS
)

490 
sign
 = 
Ãg©ive
 ? '-' : '+';

491 ià(
c
->
æags
 & 
SPACE
)

492 
sign
 = 
Ãg©ive
 ? '-' : ' ';

493 ià(
Ãg©ive
)

494 
sign
 = '-';

500 
x
 = (
c
->
æags
 & 
POUND
è&& 
v®ue
 ? 
b
->x : 0;

505 
ı
 = 
buf
;

506 
dig™_út
 = 0;

507 
v®ue
 > 0)

509 ià((
c
->
æags
 & 
GROUP
è&& 
dig™_út
 > 0 && dig™_úˆ% 
b
->
group
 == 0)

510 *
ı
++ = ',';

511 *
ı
++ = 
b
->
dig™s
[
v®ue
 % b->
ba£
];

512 
v®ue
 /ğ
b
->
ba£
;

513 
dig™_út
++;

521 
´ecisiÚ
 = 
c
->precision < 0 ? 1 : c->precision;

522 
ı
 - 
buf
 < 
´ecisiÚ
 && cp < buf +  buf - 1)

523 *
ı
++ = '0';

524 ià((
c
->
æags
 & 
POUND
è&& 
b
->
ba£
 =ğ8 && (
ı
 =ğ
buf
 || cp[-1] != '0'))

525 *
ı
++ = '0';

528 
·d_út
 = 
c
->
width
 - (
ı
 - 
buf
è- (
x
 ? 2 : 0è- (
sign
 != 0);

529 ià(
·d_út
 < 0)

530 
·d_út
 = 0;

533 ià((
c
->
æags
 & (
MINUS
 | 
ZERO
)) == 0)

534 
	`ouut_dup
 (' ', 
·d_út
, 
ouut
, 
aux
);

535 ià(
sign
)

536 
	`ouut
 (
sign
, 
aux
);

537 ià(
x
)

539 
	`ouut
 ('0', 
aux
);

540 
	`ouut
 (
x
, 
aux
);

542 ià(
c
->
æags
 & 
ZERO
)

543 
	`ouut_dup
 ('0', 
·d_út
, 
ouut
, 
aux
);

544 
ı
 > 
buf
)

545 
	`ouut
 (*--
ı
, 
aux
);

546 ià(
c
->
æags
 & 
MINUS
)

547 
	`ouut_dup
 (' ', 
·d_út
, 
ouut
, 
aux
);

548 
	}
}

552 
	$ouut_dup
 (
ch
, 
size_t
 
út
, (*
ouut
è(, *), *
aux
)

554 
út
-- > 0)

555 
	`ouut
 (
ch
, 
aux
);

556 
	}
}

562 
	$fÜm©_¡ršg
 (cÚ¡ *
¡ršg
, 
Ëngth
,

563 
´štf_cÚv”siÚ
 *
c
,

564 (*
ouut
è(, *), *
aux
)

566 
i
;

567 ià(
c
->
width
 > 
Ëngth
 && (c->
æags
 & 
MINUS
) == 0)

568 
	`ouut_dup
 (' ', 
c
->
width
 - 
Ëngth
, 
ouut
, 
aux
);

569 
i
 = 0; i < 
Ëngth
; i++)

570 
	`ouut
 (
¡ršg
[
i
], 
aux
);

571 ià(
c
->
width
 > 
Ëngth
 && (c->
æags
 & 
MINUS
) != 0)

572 
	`ouut_dup
 (' ', 
c
->
width
 - 
Ëngth
, 
ouut
, 
aux
);

573 
	}
}

578 
	$__´štf
 (cÚ¡ *
fÜm©
,

579 (*
ouut
è(, *), *
aux
, ...)

581 
va_li¡
 
¬gs
;

583 
	`va_¡¬t
 (
¬gs
, 
aux
);

584 
	`__v´štf
 (
fÜm©
, 
¬gs
, 
ouut
, 
aux
);

585 
	`va_’d
 (
¬gs
);

586 
	}
}

594 
	$hex_dump
 (
ušŒ_t
 
ofs
, cÚ¡ *
buf_
, 
size_t
 
size
, 
boŞ
 
ascii
)

596 cÚ¡ 
ušt8_t
 *
buf
 = 
buf_
;

597 cÚ¡ 
size_t
 
³r_lše
 = 16;

599 
size
 > 0)

601 
size_t
 
¡¬t
, 
’d
, 
n
;

602 
size_t
 
i
;

605 
¡¬t
 = 
ofs
 % 
³r_lše
;

606 
’d
 = 
³r_lše
;

607 ià(
’d
 - 
¡¬t
 > 
size
)

608 
’d
 = 
¡¬t
 + 
size
;

609 
n
 = 
’d
 - 
¡¬t
;

612 
	`´štf
 ("%08jx ", (
uštmax_t
è
	`ROUND_DOWN
 (
ofs
, 
³r_lše
));

613 
i
 = 0; i < 
¡¬t
; i++)

614 
	`´štf
 (" ");

615 ; 
i
 < 
’d
; i++)

616 
	`´štf
 ("%02hhx%c",

617 
buf
[
i
 - 
¡¬t
], i =ğ
³r_lše
 / 2 - 1? '-' : ' ');

618 ià(
ascii
)

620 ; 
i
 < 
³r_lše
; i++)

621 
	`´štf
 (" ");

622 
	`´štf
 ("|");

623 
i
 = 0; i < 
¡¬t
; i++)

624 
	`´štf
 (" ");

625 ; 
i
 < 
’d
; i++)

626 
	`´štf
 ("%c",

627 
	`i¥ršt
 (
buf
[
i
 - 
¡¬t
]) ? buf[i - start] : '.');

628 ; 
i
 < 
³r_lše
; i++)

629 
	`´štf
 (" ");

630 
	`´štf
 ("|");

632 
	`´štf
 ("\n");

634 
ofs
 +ğ
n
;

635 
buf
 +ğ
n
;

636 
size
 -ğ
n
;

638 
	}
}

643 
	$´št_humª_»adabË_size
 (
ušt64_t
 
size
)

645 ià(
size
 == 1)

646 
	`´štf
 ("1 byte");

649 cÚ¡ *
çùÜs
[] = {"by‹s", "kB", "MB", "GB", "TB", 
NULL
};

650 cÚ¡ **
å
;

652 
å
 = 
çùÜs
; 
size
 >ğ1024 && fp[1] !ğ
NULL
; fp++)

653 
size
 /= 1024;

654 
	`´štf
 ("%"
PRIu64
" %s", 
size
, *
å
);

656 
	}
}

	@kernel/string.c

1 
	~<¡ršg.h
>

2 
	~<debug.h
>

3 
	~<ty³.h
>

8 
	$memıy
 (*
d¡_
, cÚ¡ *
¤c_
, 
size_t
 
size
)

10 *
d¡
 = 
d¡_
;

11 cÚ¡ *
¤c
 = 
¤c_
;

16 
size
-- > 0)

17 *
d¡
++ = *
¤c
++;

19  
d¡_
;

20 
	}
}

25 
	$memmove
 (*
d¡_
, cÚ¡ *
¤c_
, 
size_t
 
size
)

27 *
d¡
 = 
d¡_
;

28 cÚ¡ *
¤c
 = 
¤c_
;

33 ià(
d¡
 < 
¤c
)

35 
size
-- > 0)

36 *
d¡
++ = *
¤c
++;

40 
d¡
 +ğ
size
;

41 
¤c
 +ğ
size
;

42 
size
-- > 0)

43 *--
d¡
 = *--
¤c
;

46  
d¡
;

47 
	}
}

54 
	$memcmp
 (cÚ¡ *
a_
, cÚ¡ *
b_
, 
size_t
 
size
)

56 cÚ¡ *
a
 = 
a_
;

57 cÚ¡ *
b
 = 
b_
;

62 ; 
size
-- > 0; 
a
++, 
b
++)

63 ià(*
a
 !ğ*
b
)

64  *
a
 > *
b
 ? +1 : -1;

66 
	}
}

74 
	$¡rcmp
 (cÚ¡ *
a_
, cÚ¡ *
b_
)

76 cÚ¡ *
a
 = (cÚ¡ *è
a_
;

77 cÚ¡ *
b
 = (cÚ¡ *è
b_
;

82 *
a
 !ğ'\0' && *¨=ğ*
b
)

84 
a
++;

85 
b
++;

88  *
a
 < *
b
 ? -1 : *a > *b;

89 
	}
}

95 
	$memchr
 (cÚ¡ *
block_
, 
ch_
, 
size_t
 
size
)

97 cÚ¡ *
block
 = 
block_
;

98 
ch
 = 
ch_
;

102 ; 
size
-- > 0; 
block
++)

103 ià(*
block
 =ğ
ch
)

104  (*è
block
;

106  
NULL
;

107 
	}
}

114 
	$¡rchr
 (cÚ¡ *
¡ršg
, 
c_
)

116 
c
 = 
c_
;

121 ià(*
¡ršg
 =ğ
c
)

122  (*è
¡ršg
;

123 ià(*
¡ršg
 == '\0')

124  
NULL
;

126 
¡ršg
++;

127 
	}
}

131 
size_t


132 
	$¡rc¥n
 (cÚ¡ *
¡ršg
, cÚ¡ *
¡İ
)

134 
size_t
 
Ëngth
;

136 
Ëngth
 = 0; 
¡ršg
[length] != '\0';†ength++)

137 ià(
	`¡rchr
 (
¡İ
, 
¡ršg
[
Ëngth
]è!ğ
NULL
)

139  
Ëngth
;

140 
	}
}

146 
	$¡½brk
 (cÚ¡ *
¡ršg
, cÚ¡ *
¡İ
)

148 ; *
¡ršg
 != '\0'; string++)

149 ià(
	`¡rchr
 (
¡İ
, *
¡ršg
è!ğ
NULL
)

150  (*è
¡ršg
;

151  
NULL
;

152 
	}
}

157 
	$¡¼chr
 (cÚ¡ *
¡ršg
, 
c_
)

159 
c
 = 
c_
;

160 cÚ¡ *
p
 = 
NULL
;

162 ; *
¡ršg
 != '\0'; string++)

163 ià(*
¡ršg
 =ğ
c
)

164 
p
 = 
¡ršg
;

165  (*è
p
;

166 
	}
}

170 
size_t


171 
	$¡r¥n
 (cÚ¡ *
¡ršg
, cÚ¡ *
sk
)

173 
size_t
 
Ëngth
;

175 
Ëngth
 = 0; 
¡ršg
[length] != '\0';†ength++)

176 ià(
	`¡rchr
 (
sk
, 
¡ršg
[
Ëngth
]è=ğ
NULL
)

178  
Ëngth
;

179 
	}
}

185 
	$¡r¡r
 (cÚ¡ *
hay¡ack
, cÚ¡ *
ÃedË
)

187 
size_t
 
hay¡ack_Ën
 = 
	`¡¾’
 (
hay¡ack
);

188 
size_t
 
ÃedË_Ën
 = 
	`¡¾’
 (
ÃedË
);

190 ià(
hay¡ack_Ën
 >ğ
ÃedË_Ën
)

192 
size_t
 
i
;

194 
i
 = 0; i <ğ
hay¡ack_Ën
 - 
ÃedË_Ën
; i++)

195 ià(!
	`memcmp
 (
hay¡ack
 + 
i
, 
ÃedË
, 
ÃedË_Ën
))

196  (*è
hay¡ack
 + 
i
;

199  
NULL
;

200 
	}
}

236 
	$¡¹ok_r
 (*
s
, cÚ¡ *
d–im™”s
, **
§ve_±r
)

238 *
tok’
;

245 ià(
s
 =ğ
NULL
)

246 
s
 = *
§ve_±r
;

250 
	`¡rchr
 (
d–im™”s
, *
s
è!ğ
NULL
)

255 ià(*
s
 == '\0')

257 *
§ve_±r
 = 
s
;

258  
NULL
;

261 
s
++;

265 
tok’
 = 
s
;

266 
	`¡rchr
 (
d–im™”s
, *
s
è=ğ
NULL
)

267 
s
++;

268 ià(*
s
 != '\0')

270 *
s
 = '\0';

271 *
§ve_±r
 = 
s
 + 1;

274 *
§ve_±r
 = 
s
;

275  
tok’
;

276 
	}
}

280 
	$mem£t
 (*
d¡_
, 
v®ue
, 
size_t
 
size
)

282 *
d¡
 = 
d¡_
;

286 
size
-- > 0)

287 *
d¡
++ = 
v®ue
;

289  
d¡_
;

290 
	}
}

293 
size_t


294 
	$¡¾’
 (cÚ¡ *
¡ršg
)

296 cÚ¡ *
p
;

298 ià(
¡ršg
 !ğ
NULL
)  0;

300 
p
 = 
¡ršg
; *p != '\0';…++)

302  
p
 - 
¡ršg
;

303 
	}
}

307 
size_t


308 
	$¡ºËn
 (cÚ¡ *
¡ršg
, 
size_t
 
maxËn
)

310 
size_t
 
Ëngth
;

312 
Ëngth
 = 0; 
¡ršg
[Ëngth] !ğ'\0' &&†’gth < 
maxËn
;†ength++)

314  
Ëngth
;

315 
	}
}

326 
size_t


327 
	$¡¾ıy
 (*
d¡
, cÚ¡ *
¤c
, 
size_t
 
size
)

329 
size_t
 
¤c_Ën
;

334 
¤c_Ën
 = 
	`¡¾’
 (
¤c
);

335 ià(
size
 > 0)

337 
size_t
 
d¡_Ën
 = 
size
 - 1;

338 ià(
¤c_Ën
 < 
d¡_Ën
)

339 
d¡_Ën
 = 
¤c_Ën
;

340 
	`memıy
 (
d¡
, 
¤c
, 
d¡_Ën
);

341 
d¡
[
d¡_Ën
] = '\0';

343  
¤c_Ën
;

344 
	}
}

356 
size_t


357 
	$¡¾ÿt
 (*
d¡
, cÚ¡ *
¤c
, 
size_t
 
size
)

359 
size_t
 
¤c_Ën
, 
d¡_Ën
;

364 
¤c_Ën
 = 
	`¡¾’
 (
¤c
);

365 
d¡_Ën
 = 
	`¡¾’
 (
d¡
);

366 ià(
size
 > 0 && 
d¡_Ën
 < size)

368 
size_t
 
cİy_út
 = 
size
 - 
d¡_Ën
 - 1;

369 ià(
¤c_Ën
 < 
cİy_út
)

370 
cİy_út
 = 
¤c_Ën
;

371 
	`memıy
 (
d¡
 + 
d¡_Ën
, 
¤c
, 
cİy_út
);

372 
d¡
[
d¡_Ën
 + 
cİy_út
] = '\0';

374  
¤c_Ën
 + 
d¡_Ën
;

375 
	}
}

	@kernel/synch.c

1 
	~<synch.h
>

2 
	~<š‹¼u±.h
>

3 
	~<´oc/´oc.h
>

4 
	~<deviû/cÚsŞe.h
>

6 #iâdeà
ASSERT


7 
	#ASSERT
(
COND
è;

	)

21 
	$£ma_š™
(
£m­hÜe
 *
£ma
, 
v®ue
)

23 
	`ASSERT
 (
£ma
 !ğ
NULL
);

25 
£ma
->
v®ue
 = value;

26 
	`li¡_š™
(&
£ma
->
wa™”s
);

27 
	}
}

38 
	$£ma_down
 (
£m­hÜe
 *
£ma
)

40 
šŒ_Ëv–
 
Şd_Ëv–
;

42 
	`ASSERT
 (
£ma
 !ğ
NULL
);

43 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

45 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

46 
£ma
->
v®ue
 == 0)

49 
	`li¡_push_back
 (&
£ma
->
wa™”s
, &
cur_´oûss
->
–em_¡©
);

50 
	`´oc_block
 ();

52 
£ma
->
v®ue
--;

53 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

54 
	}
}

61 
boŞ


62 
	$£ma_Œy_down
 (
£m­hÜe
 *
£ma
)

64 
šŒ_Ëv–
 
Şd_Ëv–
;

66 
boŞ
 
sucûss
;

68 
	`ASSERT
 (
£ma
 !ğ
NULL
);

70 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

71 ià(
£ma
->
v®ue
 > 0)

73 
£ma
->
v®ue
--;

74 
sucûss
 = 
Œue
;

77 
sucûss
 = 
çl£
;

78 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

80  
sucûss
;

81 
	}
}

88 
	$£ma_up
 (
£m­hÜe
 *
£ma
)

90 
šŒ_Ëv–
 
Şd_Ëv–
;

92 
	`ASSERT
 (
£ma
 !ğ
NULL
);

94 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

95 ià(!
	`li¡_em±y
 (&
£ma
->
wa™”s
))

96 
	`´oc_unblock
 (
	`li¡_’Œy
 (
	`li¡_pİ_äÚt
 (&
£ma
->
wa™”s
),

97 
´oûss
, 
–em_¡©
));

98 
£ma
->
v®ue
++;

99 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

100 
	}
}

101 
£ma_‹¡_h–³r
 (*
£ma_
);

107 
	$£ma_£lf_‹¡
 ()

109 
£m­hÜe
 
£ma
[2];

110 
i
;

112 
	`´štk
 ("Testing semaphores...");

113 
	`£ma_š™
 (&
£ma
[0], 0);

114 
	`£ma_š™
 (&
£ma
[1], 0);

115 
	`´oc_ü—‹
 (
£ma_‹¡_h–³r
, 
NULL
, &
£ma
);

116 
i
 = 0; i < 10; i++)

118 
	`£ma_up
 (&
£ma
[0]);

119 
	`£ma_down
 (&
£ma
[1]);

121 
	`´štk
 ("done.\n");

122 
	}
}

126 
	$£ma_‹¡_h–³r
 (*
£ma_
)

128 
£m­hÜe
 *
£ma
 = 
£ma_
;

129 
i
;

130 
cur_´oûss
 -> 
´iÜ™y
 = 100;

132 
i
 = 0; i < 10; i++)

134 
	`£ma_down
 (&
£ma
[0]);

135 
	`£ma_up
 (&
£ma
[1]);

137 
	}
}

156 
	$lock_š™
 (
lock
 *lock)

158 
	`ASSERT
 (
lock
 !ğ
NULL
);

160 
lock
->
hŞd”
 = 
NULL
;

161 
	`£ma_š™
 (&
lock
->
£m­hÜe
, 1);

162 
	}
}

173 
	$lock_acquœe
 (
lock
 *lock)

175 
	`ASSERT
 (
lock
 !ğ
NULL
);

176 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

177 
	`ASSERT
 (!
	`lock_h–d_by_cu¼’t_th»ad
 (
lock
));

179 
	`£ma_down
 (&
lock
->
£m­hÜe
);

180 
lock
->
hŞd”
 = 
cur_´oûss
;

181 
	}
}

189 
boŞ


190 
	$lock_Œy_acquœe
 (
lock
 *lock)

192 
boŞ
 
sucûss
;

194 
	`ASSERT
 (
lock
 !ğ
NULL
);

195 
	`ASSERT
 (!
	`lock_h–d_by_cu¼’t_th»ad
 (
lock
));

197 
sucûss
 = 
	`£ma_Œy_down
 (&
lock
->
£m­hÜe
);

198 ià(
sucûss
)

199 
lock
->
hŞd”
 = 
cur_´oûss
;

200  
sucûss
;

201 
	}
}

209 
	$lock_»Ëa£
 (
lock
 *lock)

211 
	`ASSERT
 (
lock
 !ğ
NULL
);

212 
	`ASSERT
 (
	`lock_h–d_by_cu¼’t_th»ad
 (
lock
));

214 
lock
->
hŞd”
 = 
NULL
;

215 
	`£ma_up
 (&
lock
->
£m­hÜe
);

216 
	}
}

221 
boŞ


222 
	$lock_h–d_by_cu¼’t_th»ad
 (cÚ¡ 
lock
 *lock)

224 
	`ASSERT
 (
lock
 !ğ
NULL
);

226  
lock
->
hŞd”
 =ğ
cur_´oûss
;

227 
	}
}

	@kernel/vsprintk.c

1 
	~<¡d¬g.h
>

3 
	#ZEROPAD
 1

	)

4 
	#SIGN
 2

	)

5 
	#PLUS
 4

	)

6 
	#SPACE
 8

	)

7 
	#LEFT
 16

	)

8 
	#SPECIAL
 32

	)

9 
	#SMALL
 64

	)

11 
	#is_dig™
(
c
èĞ(cè> '0' && (cè< '9' )

	)

13 
	#do_div
(
n
,
ba£
) \

15 
__»s
; \

16 
__»s
 = (()
n
è% ()
ba£
; \

17 
n
 = ((êè/ ()
ba£
; \

18 
__»s
; \

19 })

	)

21 
	$¡¾’_k
(cÚ¡ *
¡ršg
)

23 cÚ¡ *
»t
 = 
¡ršg
;

25 *
¡ršg
++);

27  
¡ršg
 - 1 - 
»t
;

28 
	}
}

30 *
	$numb”
(* 
¡r
, 
num
, 
ba£
, 
size
, 
´ecisiÚ
, 
ty³
)

32 
c
,
sign
,
tmp
[36];

33 cÚ¡ *
dig™s
="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";

34 
i
;

36 ià(
ty³
&
SMALL
è
dig™s
="0123456789abcdefghijklmnopqrstuvwxyz";

37 ià(
ty³
&
LEFT
èty³ &ğ~
ZEROPAD
;

38 ià(
ba£
<2 || base>36)

40 
c
 = (
ty³
 & 
ZEROPAD
) ? '0' : ' ' ;

41 ià(
ty³
&
SIGN
 && 
num
<0) {

42 
sign
='-';

43 
num
 = -num;

45 
sign
=(
ty³
&
PLUS
è? '+' : (Ñy³&
SPACE
) ? ' ' : 0);

46 ià(
sign
è
size
--;

47 ià(
ty³
&
SPECIAL
)

48 ià(
ba£
==16è
size
 -= 2;

49 ià(
ba£
==8è
size
--;

50 
i
=0;

51 ià(
num
==0)

52 
tmp
[
i
++]='0';

53 
num
!=0)

54 
tmp
[
i
++]=
dig™s
[
	`do_div
(
num
,
ba£
)];

55 ià(
i
>
´ecisiÚ
)…recision=i;

56 
size
 -ğ
´ecisiÚ
;

57 ià(!(
ty³
&(
ZEROPAD
+
LEFT
)))

58 
size
-->0)

59 *
¡r
++ = ' ';

60 ià(
sign
)

61 *
¡r
++ = 
sign
;

62 ià(
ty³
&
SPECIAL
)

63 ià(
ba£
==8)

64 *
¡r
++ = '0';

65 ià(
ba£
==16) {

66 *
¡r
++ = '0';

67 *
¡r
++ = 
dig™s
[33];

69 ià(!(
ty³
&
LEFT
))

70 
size
-->0)

71 *
¡r
++ = 
c
;

72 
i
<
´ecisiÚ
--)

73 *
¡r
++ = '0';

74 
i
-->0)

75 *
¡r
++ = 
tmp
[
i
];

76 
size
-->0)

77 *
¡r
++ = ' ';

78  
¡r
;

79 
	}
}

81 
	$sk_©oi
(cÚ¡ **
s
)

83 
i
=0;

85 
	`is_dig™
(**
s
))

87 
i
 = i*10 + *((*
s
)++) - '0';

89  
i
;

90 
	}
}

92 
	$v¥rštk
(*
buf
, cÚ¡ *
fmt
, 
va_li¡
 
¬gs
)

94 
Ën
;

95 
i
;

97 
qu®if›r
;

98 
´ecisiÚ
;

99 
f›ld_width
;

101 *
¡r
;

102 *
s
;

103 *

;

105 
æags
;

107 
¡r
 = 
buf
 ; *
fmt
 ; ++fmt)

109 if(*
fmt
 != '%')

111 *
¡r
++ = *
fmt
;

115 
æags
 = 0;

116 
»³©
:

117 ++
fmt
;

118 *
fmt
)

120 '-': 
æags
 |ğ
LEFT
; 
»³©
;

121 '+': 
æags
 |ğ
PLUS
; 
»³©
;

122 ' ': 
æags
 |ğ
SPACE
; 
»³©
;

123 '#': 
æags
 |ğ
SPECIAL
 ; 
»³©
;

124 '0': 
æags
 |ğ
ZEROPAD
; 
»³©
;

127 
f›ld_width
 = -1;

129 if(
	`is_dig™
(*
fmt
))

131 
f›ld_width
 = 
	`sk_©oi
(&
fmt
);

133 if(*
fmt
 == '*')

135 
f›ld_width
 = 
	`va_¬g
(
¬gs
, );

136 if(
f›ld_width
 < 0)

138 
f›ld_width
 = -field_width;

139 
æags
 |ğ
LEFT
;

143 
´ecisiÚ
 = -1;

145 if(*
fmt
 == '.')

147 ++
fmt
;

148 if(
	`is_dig™
(*
fmt
))

150 
´ecisiÚ
 = 
	`sk_©oi
(&
fmt
);

152 if(*
fmt
 == '*')

154 
´ecisiÚ
 = 
	`va_¬g
(
¬gs
, );

156 if(
´ecisiÚ
 < 0)

158 
´ecisiÚ
 = 0;

162 
qu®if›r
 = -1;

164 if(*
fmt
 == 'h' || *fmt == 'l' || *fmt == 'L')

166 
qu®if›r
 = *
fmt
;

167 ++
fmt
;

170 *
fmt
)

174 if(!(
æags
 & 
LEFT
))

176 --
f›ld_width
 > 0)

178 *
¡r
++ = ' ';

181 *
¡r
++ = ()
	`va_¬g
(
¬gs
, );

182 --
f›ld_width
 > 0)

184 *
¡r
++ = ' ';

190 
s
 = 
	`va_¬g
(
¬gs
, *);

191 
Ën
 = 
	`¡¾’_k
(
s
);

192 if(
´ecisiÚ
 < 0)

194 
´ecisiÚ
 = 
Ën
;

196 if(
Ën
 > 
´ecisiÚ
)

198 
Ën
 = 
´ecisiÚ
;

201 if(!(
æags
 & 
LEFT
))

203 
Ën
 < 
f›ld_width
--)

205 *
¡r
++ = ' ';

208 
i
 = 0 ; i < 
Ën
 ; ++i)

210 *
¡r
++ = *
s
++;

213 
Ën
 < 
f›ld_width
--)

215 *
¡r
++ = ' ';

221 
¡r
 = 
	`numb”
(¡r, 
	`va_¬g
(
¬gs
, ), 8, 
f›ld_width
, 
´ecisiÚ
, 
æags
);

226 if(
f›ld_width
 == -1)

228 
f›ld_width
 = 8;

229 
æags
 |ğ
ZEROPAD
;

231 
¡r
 = 
	`numb”
(¡r, ()
	`va_¬g
(
¬gs
, *), 16, 
f›ld_width
, 
´ecisiÚ
, 
æags
);

236 
æags
 |ğ
SMALL
;

240 
¡r
 = 
	`numb”
(¡r, 
	`va_¬g
(
¬gs
, ), 16, 
f›ld_width
, 
´ecisiÚ
, 
æags
);

246 
æags
 |ğ
SIGN
;

250 
¡r
 = 
	`numb”
(¡r, 
	`va_¬g
(
¬gs
, ), 10, 
f›ld_width
, 
´ecisiÚ
, 
æags
);

255 

 = 
	`va_¬g
(
¬gs
, *);

256 *

 = (
¡r
 - 
buf
);

261 if(*
fmt
 != '%')

263 *
¡r
++ = '%';

265 if(*
fmt
)

267 *
¡r
++ = *
fmt
;

271 --
fmt
;

278 *
¡r
 = '\0';

279  (
¡r
 - 
buf
);

280 
	}
}

	@/usr/include/ctype.h

22 #iâdef 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	g__BEGIN_DECLS


30 #iâdeà
_ISb™


39 
	~<’dŸn.h
>

40 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


41 
	#_ISb™
(
b™
è(1 << (b™))

	)

43 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

48 
	m_ISuµ”
 = 
_ISb™
 (0),

49 
	m_ISlow”
 = 
_ISb™
 (1),

50 
	m_IS®pha
 = 
_ISb™
 (2),

51 
	m_ISdig™
 = 
_ISb™
 (3),

52 
	m_ISxdig™
 = 
_ISb™
 (4),

53 
	m_IS¥aû
 = 
_ISb™
 (5),

54 
	m_IS´št
 = 
_ISb™
 (6),

55 
	m_ISg¿ph
 = 
_ISb™
 (7),

56 
	m_ISbÏnk
 = 
_ISb™
 (8),

57 
	m_ISúŒl
 = 
_ISb™
 (9),

58 
	m_ISpunù
 = 
_ISb™
 (10),

59 
	m_IS®num
 = 
_ISb™
 (11)

79 cÚ¡ **
	$__ùy³_b_loc
 ()

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

81 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

87 #iâdeà
__ılu¥lus


88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

90 #–ià
defšed
 
__USE_EXTERN_INLINES


91 
	#__isùy³_f
(
ty³
) \

92 
__ex‹º_šlše
 \

93 
is
##
	`ty³
 (
__c
è
__THROW
 \

95  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

96 
	}

	)
}

99 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

100 
	#__tßscii
(
c
è((cè& 0x7fè

	)

102 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

104 
__BEGIN_NAMESPACE_STD


110 
__exùy³
 (
i§Êum
);

111 
__exùy³
 (
i§Íha
);

112 
__exùy³
 (
isúŒl
);

113 
__exùy³
 (
isdig™
);

114 
__exùy³
 (
i¦ow”
);

115 
__exùy³
 (
isg¿ph
);

116 
__exùy³
 (
i¥ršt
);

117 
__exùy³
 (
i¥unù
);

118 
__exùy³
 (
is¥aû
);

119 
__exùy³
 (
isuµ”
);

120 
__exùy³
 (
isxdig™
);

124 
	$tŞow”
 (
__c
è
__THROW
;

127 
	$touµ”
 (
__c
è
__THROW
;

129 
__END_NAMESPACE_STD


133 #ifdef 
__USE_ISOC99


134 
__BEGIN_NAMESPACE_C99


136 
	`__exùy³
 (
isbÏnk
);

138 
__END_NAMESPACE_C99


141 #ifdeà
__USE_GNU


143 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

146 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


150 
	$i§scii
 (
__c
è
__THROW
;

154 
	$tßscii
 (
__c
è
__THROW
;

158 
	`__exùy³
 (
_touµ”
);

159 
	`__exùy³
 (
_tŞow”
);

163 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

164 (
__ex‹nsiÚ__
 \

165 ({ 
__»s
; \

166 ià( (
c
) > 1) \

168 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

170 
__c
 = (
c
); \

171 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

174 
__»s
 = 
f
 
¬gs
; \

177 
__»s
 = (
a
)[(è(
c
)]; \

178 
__»s
; 
	}
}))

	)

180 #ià!
defšed
 
__NO_CTYPE


181 #ifdeà
__isùy³_f


182 
	$__isùy³_f
 (
®num
)

183 
	$__isùy³_f
 (
®pha
)

184 
	$__isùy³_f
 (
úŒl
)

185 
	$__isùy³_f
 (
dig™
)

186 
	$__isùy³_f
 (
low”
)

187 
	$__isùy³_f
 (
g¿ph
)

188 
	$__isùy³_f
 (
´št
)

189 
	$__isùy³_f
 (
punù
)

190 
	$__isùy³_f
 (
¥aû
)

191 
	$__isùy³_f
 (
uµ”
)

192 
	$__isùy³_f
 (
xdig™
)

193 #ifdeà
__USE_ISOC99


194 
	$__isùy³_f
 (
bÏnk
)

196 #–ià
defšed
 
__isùy³


197 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

198 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

199 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

200 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

201 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

202 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

203 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

204 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

205 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

206 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

207 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

208 #ifdeà
__USE_ISOC99


209 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

213 #ifdeà
__USE_EXTERN_INLINES


214 
__ex‹º_šlše
 

215 
	`__NTH
 (
	$tŞow”
 (
__c
))

217  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

218 
	}
}

220 
__ex‹º_šlše
 

221 
__NTH
 (
	$touµ”
 (
__c
))

223  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

224 
	}
}

227 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


228 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

229 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

232 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


233 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

234 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

236 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

237 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

243 #ifdeà
__USE_XOPEN2K8


257 
	~<xloÿË.h
>

261 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

262 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

264 
	#__exùy³_l
(
Çme
) \

265 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

271 
__exùy³_l
 (
i§Êum_l
);

272 
__exùy³_l
 (
i§Íha_l
);

273 
__exùy³_l
 (
isúŒl_l
);

274 
__exùy³_l
 (
isdig™_l
);

275 
__exùy³_l
 (
i¦ow”_l
);

276 
__exùy³_l
 (
isg¿ph_l
);

277 
__exùy³_l
 (
i¥ršt_l
);

278 
__exùy³_l
 (
i¥unù_l
);

279 
__exùy³_l
 (
is¥aû_l
);

280 
__exùy³_l
 (
isuµ”_l
);

281 
__exùy³_l
 (
isxdig™_l
);

283 
__exùy³_l
 (
isbÏnk_l
);

287 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

288 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

291 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

292 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

294 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


295 
	#__tŞow”_l
(
c
, 
loÿË
) \

296 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

297 
	#__touµ”_l
(
c
, 
loÿË
) \

298 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

299 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

300 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

304 #iâdeà
__NO_CTYPE


305 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

306 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

307 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

308 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

309 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

310 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

311 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

312 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

313 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

314 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

315 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

317 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

319 #ifdeà
__USE_MISC


320 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

321 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

324 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

325 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

326 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

327 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

328 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

329 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

330 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

331 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

332 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

333 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

334 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

336 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

338 #ifdeà
__USE_MISC


339 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

340 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

347 
__END_DECLS


	@/usr/include/inttypes.h

22 #iâdeà
_INTTYPES_H


23 
	#_INTTYPES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	~<¡dšt.h
>

30 #iâdeà
____gwch¬_t_defšed


31 #ifdeà
__ılu¥lus


32 
	#__gwch¬_t
 
wch¬_t


	)

33 #–ià
defšed
 
__WCHAR_TYPE__


34 
__WCHAR_TYPE__
 
	t__gwch¬_t
;

36 
	#__Ãed_wch¬_t


	)

37 
	~<¡ddef.h
>

38 
wch¬_t
 
	t__gwch¬_t
;

40 
	#____gwch¬_t_defšed
 1

	)

43 #ià
__WORDSIZE
 == 64

44 
	#__PRI64_PREFIX
 "l"

	)

45 
	#__PRIPTR_PREFIX
 "l"

	)

47 
	#__PRI64_PREFIX
 "Î"

	)

48 
	#__PRIPTR_PREFIX


	)

54 
	#PRId8
 "d"

	)

55 
	#PRId16
 "d"

	)

56 
	#PRId32
 "d"

	)

57 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

59 
	#PRIdLEAST8
 "d"

	)

60 
	#PRIdLEAST16
 "d"

	)

61 
	#PRIdLEAST32
 "d"

	)

62 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

64 
	#PRIdFAST8
 "d"

	)

65 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

66 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

67 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIi8
 "i"

	)

71 
	#PRIi16
 "i"

	)

72 
	#PRIi32
 "i"

	)

73 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

75 
	#PRIiLEAST8
 "i"

	)

76 
	#PRIiLEAST16
 "i"

	)

77 
	#PRIiLEAST32
 "i"

	)

78 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

80 
	#PRIiFAST8
 "i"

	)

81 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

82 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

83 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIo8
 "o"

	)

87 
	#PRIo16
 "o"

	)

88 
	#PRIo32
 "o"

	)

89 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

91 
	#PRIoLEAST8
 "o"

	)

92 
	#PRIoLEAST16
 "o"

	)

93 
	#PRIoLEAST32
 "o"

	)

94 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

96 
	#PRIoFAST8
 "o"

	)

97 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

98 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

99 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIu8
 "u"

	)

103 
	#PRIu16
 "u"

	)

104 
	#PRIu32
 "u"

	)

105 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

107 
	#PRIuLEAST8
 "u"

	)

108 
	#PRIuLEAST16
 "u"

	)

109 
	#PRIuLEAST32
 "u"

	)

110 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

112 
	#PRIuFAST8
 "u"

	)

113 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

114 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

115 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIx8
 "x"

	)

119 
	#PRIx16
 "x"

	)

120 
	#PRIx32
 "x"

	)

121 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

123 
	#PRIxLEAST8
 "x"

	)

124 
	#PRIxLEAST16
 "x"

	)

125 
	#PRIxLEAST32
 "x"

	)

126 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

128 
	#PRIxFAST8
 "x"

	)

129 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

130 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

131 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIX8
 "X"

	)

135 
	#PRIX16
 "X"

	)

136 
	#PRIX32
 "X"

	)

137 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

139 
	#PRIXLEAST8
 "X"

	)

140 
	#PRIXLEAST16
 "X"

	)

141 
	#PRIXLEAST32
 "X"

	)

142 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

144 
	#PRIXFAST8
 "X"

	)

145 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

146 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

147 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

151 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

152 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

153 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

154 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

155 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

156 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

160 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

161 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

162 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

163 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

164 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

165 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

171 
	#SCNd8
 "hhd"

	)

172 
	#SCNd16
 "hd"

	)

173 
	#SCNd32
 "d"

	)

174 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

176 
	#SCNdLEAST8
 "hhd"

	)

177 
	#SCNdLEAST16
 "hd"

	)

178 
	#SCNdLEAST32
 "d"

	)

179 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

181 
	#SCNdFAST8
 "hhd"

	)

182 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

183 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

184 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNi8
 "hhi"

	)

188 
	#SCNi16
 "hi"

	)

189 
	#SCNi32
 "i"

	)

190 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

192 
	#SCNiLEAST8
 "hhi"

	)

193 
	#SCNiLEAST16
 "hi"

	)

194 
	#SCNiLEAST32
 "i"

	)

195 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

197 
	#SCNiFAST8
 "hhi"

	)

198 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

199 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

200 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNu8
 "hhu"

	)

204 
	#SCNu16
 "hu"

	)

205 
	#SCNu32
 "u"

	)

206 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

208 
	#SCNuLEAST8
 "hhu"

	)

209 
	#SCNuLEAST16
 "hu"

	)

210 
	#SCNuLEAST32
 "u"

	)

211 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

213 
	#SCNuFAST8
 "hhu"

	)

214 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

215 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

216 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNo8
 "hho"

	)

220 
	#SCNo16
 "ho"

	)

221 
	#SCNo32
 "o"

	)

222 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

224 
	#SCNoLEAST8
 "hho"

	)

225 
	#SCNoLEAST16
 "ho"

	)

226 
	#SCNoLEAST32
 "o"

	)

227 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

229 
	#SCNoFAST8
 "hho"

	)

230 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

231 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

232 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNx8
 "hhx"

	)

236 
	#SCNx16
 "hx"

	)

237 
	#SCNx32
 "x"

	)

238 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

240 
	#SCNxLEAST8
 "hhx"

	)

241 
	#SCNxLEAST16
 "hx"

	)

242 
	#SCNxLEAST32
 "x"

	)

243 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

245 
	#SCNxFAST8
 "hhx"

	)

246 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

247 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

248 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

252 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

253 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

254 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

255 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

256 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

259 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

260 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

261 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

262 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

263 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

266 
	g__BEGIN_DECLS


268 #ià
__WORDSIZE
 == 64

273 
	mquÙ
;

274 
	m»m
;

275 } 
	timaxdiv_t
;

282 
__ex‹nsiÚ__
 
	mquÙ
;

283 
__ex‹nsiÚ__
 
	m»m
;

284 } 
	timaxdiv_t
;

290 
štmax_t
 
	$imaxabs
 (
štmax_t
 
__n
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

293 
imaxdiv_t
 
	$imaxdiv
 (
štmax_t
 
__num”
, iÁmax_ˆ
__d’om
)

294 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

297 
štmax_t
 
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

298 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

301 
uštmax_t
 
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

302 ** 
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

305 
štmax_t
 
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

306 
__gwch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

307 
__THROW
;

310 
uštmax_t
 
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

311 
__gwch¬_t
 ** 
__»¡riù
 
__’d±r
, 
__ba£
)

312 
__THROW
;

314 #ifdeà
__USE_EXTERN_INLINES


316 #ià
__WORDSIZE
 == 64

318 
	$__¡¹Ş_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

319 **
__»¡riù
 
__’d±r
,

320 
__ba£
, 
__group
)

321 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

323 
__ex‹º_šlše
 
štmax_t


324 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

325 
ba£
))

327  
	`__¡¹Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

328 
	}
}

330 
	$__¡¹oul_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 ** 
__»¡riù
 
__’d±r
,

332 
__ba£
, 
__group
)

333 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

335 
__ex‹º_šlše
 
uštmax_t


336 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

337 
ba£
))

339  
	`__¡¹oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

340 
	}
}

342 
	$__wc¡Ş_š‹º®
 (cÚ¡ 
__gwch¬_t
 * 
__»¡riù
 
__ÅŒ
,

343 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

344 
__ba£
, 
__group
)

345 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

347 
__ex‹º_šlše
 
štmax_t


348 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

349 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

351  
	`__wc¡Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

352 
	}
}

354 
	$__wc¡oul_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

355 
__»¡riù
 
__ÅŒ
,

356 
__gwch¬_t
 **

357 
__»¡riù
 
__’d±r
,

358 
__ba£
, 
__group
)

359 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

361 
__ex‹º_šlše
 
uštmax_t


362 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

363 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

365  
	`__wc¡oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

366 
	}
}

370 
__ex‹nsiÚ__


371 
	$__¡¹Şl_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

372 **
__»¡riù
 
__’d±r
,

373 
__ba£
, 
__group
)

374 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

376 
__ex‹º_šlše
 
štmax_t


377 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

378 
ba£
))

380  
	`__¡¹Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

381 
	}
}

383 
__ex‹nsiÚ__


384 
	$__¡¹ouÎ_š‹º®
 (const *

385 
__»¡riù
 
__ÅŒ
,

387 
__»¡riù
 
__’d±r
,

388 
__ba£
,

389 
__group
)

390 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

392 
__ex‹º_šlše
 
uštmax_t


393 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

394 
ba£
))

396  
	`__¡¹ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

397 
	}
}

399 
__ex‹nsiÚ__


400 
	$__wc¡Şl_š‹º®
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

401 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

402 
__ba£
, 
__group
)

403 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

405 
__ex‹º_šlše
 
štmax_t


406 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

407 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

409  
	`__wc¡Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

410 
	}
}

413 
__ex‹nsiÚ__


414 
	$__wc¡ouÎ_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

415 
__»¡riù
 
__ÅŒ
,

416 
__gwch¬_t
 **

417 
__»¡riù
 
__’d±r
,

418 
__ba£
,

419 
__group
)

420 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

422 
__ex‹º_šlše
 
uštmax_t


423 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

424 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

426  
	`__wc¡ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

427 
	}
}

432 
	g__END_DECLS


	@/usr/include/limits.h

22 #iâdeà
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	~<ã©u»s.h
>

31 
	#MB_LEN_MAX
 16

	)

36 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

41 #iâdeà
_LIMITS_H


42 
	#_LIMITS_H
 1

	)

44 
	~<b™s/wÜdsize.h
>

53 
	#CHAR_BIT
 8

	)

56 
	#SCHAR_MIN
 (-128)

	)

57 
	#SCHAR_MAX
 127

	)

60 
	#UCHAR_MAX
 255

	)

63 #ifdeà
__CHAR_UNSIGNED__


64 
	#CHAR_MIN
 0

	)

65 
	#CHAR_MAX
 
UCHAR_MAX


	)

67 
	#CHAR_MIN
 
SCHAR_MIN


	)

68 
	#CHAR_MAX
 
SCHAR_MAX


	)

72 
	#SHRT_MIN
 (-32768)

	)

73 
	#SHRT_MAX
 32767

	)

76 
	#USHRT_MAX
 65535

	)

79 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

80 
	#INT_MAX
 2147483647

	)

83 
	#UINT_MAX
 4294967295U

	)

86 #ià
__WORDSIZE
 == 64

87 
	#LONG_MAX
 9223372036854775807L

	)

89 
	#LONG_MAX
 2147483647L

	)

91 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

94 #ià
__WORDSIZE
 == 64

95 
	#ULONG_MAX
 18446744073709551615UL

	)

97 
	#ULONG_MAX
 4294967295UL

	)

100 #ifdeà
__USE_ISOC99


103 
	#LLONG_MAX
 9223372036854775807LL

	)

104 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

107 
	#ULLONG_MAX
 18446744073709551615ULL

	)

121 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


123 #šşude_Ãxˆ<
lim™s
.
h
>

129 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


130 #iâdeà
LLONG_MIN


131 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

133 #iâdeà
LLONG_MAX


134 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

136 #iâdeà
ULLONG_MAX


137 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

141 #ifdef 
__USE_POSIX


143 
	~<b™s/posix1_lim.h
>

146 #ifdef 
__USE_POSIX2


147 
	~<b™s/posix2_lim.h
>

150 #ifdef 
__USE_XOPEN


151 
	~<b™s/xİ’_lim.h
>

	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/wch¬.h
>

27 
	~<b™s/wÜdsize.h
>

34 #iâdeà
__št8_t_defšed


35 
	#__št8_t_defšed


	)

36 sigÃd 
	tšt8_t
;

37 
	tšt16_t
;

38 
	tšt32_t
;

39 #ià
__WORDSIZE
 == 64

40 
	tšt64_t
;

42 
__ex‹nsiÚ__


43 
	tšt64_t
;

48 
	tušt8_t
;

49 
	tušt16_t
;

50 #iâdeà
__ušt32_t_defšed


51 
	tušt32_t
;

52 
	#__ušt32_t_defšed


	)

54 #ià
__WORDSIZE
 == 64

55 
	tušt64_t
;

57 
__ex‹nsiÚ__


58 
	tušt64_t
;

65 sigÃd 
	tšt_Ëa¡8_t
;

66 
	tšt_Ëa¡16_t
;

67 
	tšt_Ëa¡32_t
;

68 #ià
__WORDSIZE
 == 64

69 
	tšt_Ëa¡64_t
;

71 
__ex‹nsiÚ__


72 
	tšt_Ëa¡64_t
;

76 
	tušt_Ëa¡8_t
;

77 
	tušt_Ëa¡16_t
;

78 
	tušt_Ëa¡32_t
;

79 #ià
__WORDSIZE
 == 64

80 
	tušt_Ëa¡64_t
;

82 
__ex‹nsiÚ__


83 
	tušt_Ëa¡64_t
;

90 sigÃd 
	tšt_ç¡8_t
;

91 #ià
__WORDSIZE
 == 64

92 
	tšt_ç¡16_t
;

93 
	tšt_ç¡32_t
;

94 
	tšt_ç¡64_t
;

96 
	tšt_ç¡16_t
;

97 
	tšt_ç¡32_t
;

98 
__ex‹nsiÚ__


99 
	tšt_ç¡64_t
;

103 
	tušt_ç¡8_t
;

104 #ià
__WORDSIZE
 == 64

105 
	tušt_ç¡16_t
;

106 
	tušt_ç¡32_t
;

107 
	tušt_ç¡64_t
;

109 
	tušt_ç¡16_t
;

110 
	tušt_ç¡32_t
;

111 
__ex‹nsiÚ__


112 
	tušt_ç¡64_t
;

117 #ià
__WORDSIZE
 == 64

118 #iâdeà
__šŒ_t_defšed


119 
	tšŒ_t
;

120 
	#__šŒ_t_defšed


	)

122 
	tušŒ_t
;

124 #iâdeà
__šŒ_t_defšed


125 
	tšŒ_t
;

126 
	#__šŒ_t_defšed


	)

128 
	tušŒ_t
;

133 #ià
__WORDSIZE
 == 64

134 
	tštmax_t
;

135 
	tuštmax_t
;

137 
__ex‹nsiÚ__


138 
	tštmax_t
;

139 
__ex‹nsiÚ__


140 
	tuštmax_t
;

144 #ià
__WORDSIZE
 == 64

145 
	#__INT64_C
(
c
èø## 
L


	)

146 
	#__UINT64_C
(
c
èø## 
UL


	)

148 
	#__INT64_C
(
c
èø## 
LL


	)

149 
	#__UINT64_C
(
c
èø## 
ULL


	)

155 
	#INT8_MIN
 (-128)

	)

156 
	#INT16_MIN
 (-32767-1)

	)

157 
	#INT32_MIN
 (-2147483647-1)

	)

158 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

160 
	#INT8_MAX
 (127)

	)

161 
	#INT16_MAX
 (32767)

	)

162 
	#INT32_MAX
 (2147483647)

	)

163 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

166 
	#UINT8_MAX
 (255)

	)

167 
	#UINT16_MAX
 (65535)

	)

168 
	#UINT32_MAX
 (4294967295U)

	)

169 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

173 
	#INT_LEAST8_MIN
 (-128)

	)

174 
	#INT_LEAST16_MIN
 (-32767-1)

	)

175 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

176 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

178 
	#INT_LEAST8_MAX
 (127)

	)

179 
	#INT_LEAST16_MAX
 (32767)

	)

180 
	#INT_LEAST32_MAX
 (2147483647)

	)

181 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

184 
	#UINT_LEAST8_MAX
 (255)

	)

185 
	#UINT_LEAST16_MAX
 (65535)

	)

186 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

187 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

191 
	#INT_FAST8_MIN
 (-128)

	)

192 #ià
__WORDSIZE
 == 64

193 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

194 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

196 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

197 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

199 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

201 
	#INT_FAST8_MAX
 (127)

	)

202 #ià
__WORDSIZE
 == 64

203 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

204 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

206 
	#INT_FAST16_MAX
 (2147483647)

	)

207 
	#INT_FAST32_MAX
 (2147483647)

	)

209 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINT_FAST8_MAX
 (255)

	)

213 #ià
__WORDSIZE
 == 64

214 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

215 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

217 
	#UINT_FAST16_MAX
 (4294967295U)

	)

218 
	#UINT_FAST32_MAX
 (4294967295U)

	)

220 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

224 #ià
__WORDSIZE
 == 64

225 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

226 
	#INTPTR_MAX
 (9223372036854775807L)

	)

227 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

229 
	#INTPTR_MIN
 (-2147483647-1)

	)

230 
	#INTPTR_MAX
 (2147483647)

	)

231 
	#UINTPTR_MAX
 (4294967295U)

	)

236 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

238 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

241 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

247 #ià
__WORDSIZE
 == 64

248 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

249 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

251 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

252 
	#PTRDIFF_MAX
 (2147483647)

	)

256 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

257 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

260 #ià
__WORDSIZE
 == 64

261 
	#SIZE_MAX
 (18446744073709551615UL)

	)

263 #ifdeà
__WORDSIZE32_SIZE_ULONG


264 
	#SIZE_MAX
 (4294967295UL)

	)

266 
	#SIZE_MAX
 (4294967295U)

	)

271 #iâdeà
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

282 
	#INT8_C
(
c
è
	)
c

283 
	#INT16_C
(
c
è
	)
c

284 
	#INT32_C
(
c
è
	)
c

285 #ià
__WORDSIZE
 == 64

286 
	#INT64_C
(
c
èø## 
L


	)

288 
	#INT64_C
(
c
èø## 
LL


	)

292 
	#UINT8_C
(
c
è
	)
c

293 
	#UINT16_C
(
c
è
	)
c

294 
	#UINT32_C
(
c
èø## 
U


	)

295 #ià
__WORDSIZE
 == 64

296 
	#UINT64_C
(
c
èø## 
UL


	)

298 
	#UINT64_C
(
c
èø## 
ULL


	)

302 #ià
__WORDSIZE
 == 64

303 
	#INTMAX_C
(
c
èø## 
L


	)

304 
	#UINTMAX_C
(
c
èø## 
UL


	)

306 
	#INTMAX_C
(
c
èø## 
LL


	)

307 
	#UINTMAX_C
(
c
èø## 
ULL


	)

	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


25 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	#__Ãed_FILE


	)

37 
	#__Ãed___FILE


	)

41 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_POSIX
 \

51 || 
defšed
 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

52 || 
defšed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_defšed
 1

	)

58 #undeà
__Ãed_FILE


61 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_defšed
 1

	)

68 #undeà
__Ãed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


77 #ifdeà
__GNUC__


78 #iâdeà
_VA_LIST_DEFINED


79 
_G_va_li¡
 
	tva_li¡
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<¡d¬g.h
>

87 #ifdeà
__USE_XOPEN2K8


88 #iâdeà
__off_t_defšed


89 #iâdeà
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_defšed


	)

96 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_defšed


	)

101 #iâdeà
__ssize_t_defšed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_defšed


	)

108 
__BEGIN_NAMESPACE_STD


109 #iâdeà
__USE_FILE_OFFSET64


110 
_G_åos_t
 
	tåos_t
;

112 
_G_åos64_t
 
	tåos_t
;

114 
__END_NAMESPACE_STD


115 #ifdeà
__USE_LARGEFILE64


116 
_G_åos64_t
 
	tåos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #iâdeà
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #iâdeà
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifdeà
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


151 
	#P_tmpdœ
 "/tmp"

	)

164 
	~<b™s/¡dio_lim.h
>

168 
_IO_FILE
 *
¡dš
;

169 
_IO_FILE
 *
¡dout
;

170 
_IO_FILE
 *
¡d”r
;

172 
	#¡dš
 
¡dš


	)

173 
	#¡dout
 
¡dout


	)

174 
	#¡d”r
 
¡d”r


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

180 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifdeà
__USE_ATFILE


185 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

186 cÚ¡ *
__Ãw
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #iâdeà
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfe
 (è
__wur
;

197 #ifdeà
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

200 
	#tmpfe
 
tmpfe64


	)

204 #ifdeà
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfe64
 (è
__wur
;

209 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifdeà
__USE_MISC


215 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

219 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


227 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

228 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`fşo£
 (
FILE
 *
__¡»am
);

242 
	`fæush
 (
FILE
 *
__¡»am
);

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_MISC


252 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

255 #ifdeà
__USE_GNU


262 
	`fşo£®l
 ();

266 
__BEGIN_NAMESPACE_STD


267 #iâdeà
__USE_FILE_OFFSET64


272 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

273 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

278 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

279 cÚ¡ *
__»¡riù
 
__modes
,

280 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

282 #ifdeà
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

284 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

287 cÚ¡ *
__»¡riù
 
__modes
,

288 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

289 
__wur
;

291 
	#fİ’
 
fİ’64


	)

292 
	#äeİ’
 
äeİ’64


	)

295 
__END_NAMESPACE_STD


296 #ifdeà
__USE_LARGEFILE64


297 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

298 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

299 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

300 cÚ¡ *
__»¡riù
 
__modes
,

301 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

313 cÚ¡ *
__»¡riù
 
__modes
,

314 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

317 #ifdeà
__USE_XOPEN2K8


319 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

337 
__modes
, 
size_t
 
__n
è
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_MISC


343 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

344 
size_t
 
__size
è
__THROW
;

347 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

357 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

362 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

364 
	$¥rštf
 (*
__»¡riù
 
__s
,

365 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

371 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

372 
_G_va_li¡
 
__¬g
);

377 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

379 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

380 
_G_va_li¡
 
__¬g
è
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

387 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

388 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

390 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

391 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifdeà
__USE_GNU


399 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

400 
_G_va_li¡
 
__¬g
)

401 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

402 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

403 cÚ¡ *
__»¡riù
 
__fmt
, ...)

404 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

405 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

406 cÚ¡ *
__»¡riù
 
__fmt
, ...)

407 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

410 #ifdeà
__USE_XOPEN2K8


412 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

413 
_G_va_li¡
 
__¬g
)

414 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

415 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

416 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

426 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

431 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

433 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

434 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

436 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

444 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

445 
__isoc99_fsÿnf
è
__wur
;

446 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

447 
__isoc99_sÿnf
è
__wur
;

448 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

449 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

450 
__isoc99_ssÿnf
);

452 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

454 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

455 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

456 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

457 
	#fsÿnf
 
__isoc99_fsÿnf


	)

458 
	#sÿnf
 
__isoc99_sÿnf


	)

459 
	#ssÿnf
 
__isoc99_ssÿnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

472 
_G_va_li¡
 
__¬g
)

473 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

479 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

483 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

484 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

485 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

487 #ià!
defšed
 
__USE_GNU
 \

488 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

489 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

490 #ifdeà
__REDIRECT


494 
	`__REDIRECT
 (
vfsÿnf
,

495 (
FILE
 *
__»¡riù
 
__s
,

496 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

497 
__isoc99_vfsÿnf
)

498 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

499 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

500 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

501 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

502 
	`__REDIRECT_NTH
 (
vssÿnf
,

503 (cÚ¡ *
__»¡riù
 
__s
,

504 cÚ¡ *
__»¡riù
 
__fÜm©
,

505 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

506 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

508 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

509 cÚ¡ *
__»¡riù
 
__fÜm©
,

510 
_G_va_li¡
 
__¬g
è
__wur
;

511 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

512 
_G_va_li¡
 
__¬g
è
__wur
;

513 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

514 cÚ¡ *
__»¡riù
 
__fÜm©
,

515 
_G_va_li¡
 
__¬g
è
__THROW
;

516 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

517 
	#vsÿnf
 
__isoc99_vsÿnf


	)

518 
	#vssÿnf
 
__isoc99_vssÿnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fg‘c
 (
FILE
 *
__¡»am
);

532 
	`g‘c
 (
FILE
 *
__¡»am
);

538 
	`g‘ch¬
 ();

539 
__END_NAMESPACE_STD


543 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

545 #ifdeà
__USE_POSIX


550 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

551 
	`g‘ch¬_uÆocked
 ();

554 #ifdeà
__USE_MISC


561 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

565 
__BEGIN_NAMESPACE_STD


573 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

574 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

580 
	`putch¬
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

587 #ifdeà
__USE_MISC


594 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

597 #ifdeà
__USE_POSIX


602 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

603 
	`putch¬_uÆocked
 (
__c
);

607 #ià
defšed
 
__USE_MISC
 \

608 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

610 
	`g‘w
 (
FILE
 *
__¡»am
);

613 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

623 
__wur
;

625 #ià!
defšed
 
__USE_ISOC11
 \

626 || (
defšed
 
__ılu¥lus
 && __cplusplus <= 201103L)

638 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

640 
__END_NAMESPACE_STD


642 #ifdeà
__USE_GNU


649 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

650 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

666 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

667 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

668 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

669 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

670 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

678 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

679 
size_t
 *
__»¡riù
 
__n
,

680 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

695 
	`puts
 (cÚ¡ *
__s
);

702 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

709 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

715 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

716 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifdeà
__USE_GNU


726 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

727 
FILE
 *
__»¡riù
 
__¡»am
);

730 #ifdeà
__USE_MISC


737 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

739 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

740 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

754 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

759 
	`»wšd
 (
FILE
 *
__¡»am
);

760 
__END_NAMESPACE_STD


767 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


768 #iâdeà
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

778 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

780 #ifdeà
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#á–lo
 
á–lo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #iâdeà
__USE_FILE_OFFSET64


798 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

803 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

805 #ifdeà
__REDIRECT


806 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

807 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

808 
	`__REDIRECT
 (
f£os
,

809 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

811 
	#fg‘pos
 
fg‘pos64


	)

812 
	#f£os
 
f£os64


	)

815 
__END_NAMESPACE_STD


817 #ifdeà
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

819 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

820 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

821 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

828 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

830 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifdeà
__USE_MISC


835 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

836 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

837 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`³¼Ü
 (cÚ¡ *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<b™s/sys_”¾i¡.h
>

856 #ifdef 
__USE_POSIX


858 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

861 #ifdeà
__USE_MISC


863 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

867 #ifdeà
__USE_POSIX2


872 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

878 
	`pşo£
 (
FILE
 *
__¡»am
);

882 #ifdef 
__USE_POSIX


884 *
	$ù”mid
 (*
__s
è
__THROW
;

888 #ifdeà
__USE_XOPEN


890 *
	`cu£rid
 (*
__s
);

894 #ifdef 
__USE_GNU


895 
ob¡ack
;

898 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

899 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

900 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

901 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

902 cÚ¡ *
__»¡riù
 
__fÜm©
,

903 
_G_va_li¡
 
__¬gs
)

904 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

908 #ifdeà
__USE_POSIX


912 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

916 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

919 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

922 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


926 
	#__Ãed_g‘İt


	)

927 
	~<g‘İt.h
>

932 #ifdeà
__USE_EXTERN_INLINES


933 
	~<b™s/¡dio.h
>

935 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


936 
	~<b™s/¡dio2.h
>

938 #ifdeà
__LDBL_COMPAT


939 
	~<b™s/¡dio-ldbl.h
>

942 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


37 
	#_STDLIB_H
 1

	)

39 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


41 
	~<b™s/wa™æags.h
>

42 
	~<b™s/wa™¡©us.h
>

44 #ifdeà
__USE_MISC


49 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


50 
	#__WAIT_INT
(
¡©us
) \

51 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

52 { .
__š
 = (
¡©us
è}).
__i
))

	)

54 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

62 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
wa™
 *
	m__u±r
;

70 *
	m__Œ
;

71 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

85 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdeà
__WIFCONTINUED


91 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquÙ
;

100 
	m»m
;

101 } 
	tdiv_t
;

104 #iâdeà
__ldiv_t_defšed


107 
	mquÙ
;

108 
	m»m
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_defšed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


115 
__BEGIN_NAMESPACE_C99


117 
__ex‹nsiÚ__
 struct

119 
	mquÙ
;

120 
	m»m
;

121 } 
	tÎdiv_t
;

122 
	#__Îdiv_t_defšed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

139 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (cÚ¡ *
__ÅŒ
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

147 
	$©oi
 (cÚ¡ *
__ÅŒ
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

150 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

152 
__END_NAMESPACE_STD


154 #ifdeà
__USE_ISOC99


155 
__BEGIN_NAMESPACE_C99


157 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

158 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

173 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

175 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

176 **
__»¡riù
 
__’d±r
)

177 
__THROW
 
	`__nÚnuÎ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

184 **
__»¡riù
 
__’d±r
, 
__ba£
)

185 
__THROW
 
	`__nÚnuÎ
 ((1));

187 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

190 
__END_NAMESPACE_STD


192 #ifdeà
__USE_MISC


194 
__ex‹nsiÚ__


195 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

196 **
__»¡riù
 
__’d±r
, 
__ba£
)

197 
__THROW
 
	`__nÚnuÎ
 ((1));

199 
__ex‹nsiÚ__


200 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

205 #ifdeà
__USE_ISOC99


206 
__BEGIN_NAMESPACE_C99


208 
__ex‹nsiÚ__


209 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

210 **
__»¡riù
 
__’d±r
, 
__ba£
)

211 
__THROW
 
	`__nÚnuÎ
 ((1));

213 
__ex‹nsiÚ__


214 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

215 **
__»¡riù
 
__’d±r
, 
__ba£
)

216 
__THROW
 
	`__nÚnuÎ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifdeà
__USE_GNU


235 
	~<xloÿË.h
>

239 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

240 **
__»¡riù
 
__’d±r
, 
__ba£
,

241 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

243 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

244 **
__»¡riù
 
__’d±r
,

245 
__ba£
, 
__loÿË_t
 
__loc
)

246 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

248 
__ex‹nsiÚ__


249 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

250 **
__»¡riù
 
__’d±r
, 
__ba£
,

251 
__loÿË_t
 
__loc
)

252 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

254 
__ex‹nsiÚ__


255 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

256 **
__»¡riù
 
__’d±r
,

257 
__ba£
, 
__loÿË_t
 
__loc
)

258 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

260 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

261 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

262 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

264 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

265 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

266 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

268 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

269 **
__»¡riù
 
__’d±r
,

270 
__loÿË_t
 
__loc
)

271 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

275 #ifdeà
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__ex‹º_šlše
 

278 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

280  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

281 
	}
}

282 
__ex‹º_šlše
 

283 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

285  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #ifdeà
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

292 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

294  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

308 
	$a64l
 (cÚ¡ *
__s
)

309 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

313 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


314 
	~<sys/ty³s.h
>

321 
	$¿ndom
 (è
__THROW
;

324 
	$¤ªdom
 (
__£ed
è
__THROW
;

330 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

331 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

335 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

338 #ifdeà
__USE_MISC


343 
	s¿ndom_d©a


345 
št32_t
 *
åŒ
;

346 
št32_t
 *
½Œ
;

347 
št32_t
 *
¡©e
;

348 
¿nd_ty³
;

349 
¿nd_deg
;

350 
¿nd_£p
;

351 
št32_t
 *
’d_±r
;

354 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

355 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

357 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

360 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

361 
size_t
 
__¡©–’
,

362 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

363 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

365 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

366 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

367 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$¿nd
 (è
__THROW
;

376 
	$¤ªd
 (
__£ed
è
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifdeà
__USE_POSIX


381 
	$¿nd_r
 (*
__£ed
è
__THROW
;

385 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


389 
	$d¿nd48
 (è
__THROW
;

390 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

393 
	$Ìªd48
 (è
__THROW
;

394 
	$Äªd48
 (
__xsubi
[3])

395 
__THROW
 
	`__nÚnuÎ
 ((1));

398 
	$m¿nd48
 (è
__THROW
;

399 
	$j¿nd48
 (
__xsubi
[3])

400 
__THROW
 
	`__nÚnuÎ
 ((1));

403 
	$¤ªd48
 (
__£edv®
è
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__nÚnuÎ
 ((1));

406 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

408 #ifdeà
__USE_MISC


412 
	sd¿nd48_d©a


414 
__x
[3];

415 
__Şd_x
[3];

416 
__c
;

417 
__š™
;

418 
__ex‹nsiÚ__
 
__a
;

423 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

424 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

425 
	$”ªd48_r
 (
__xsubi
[3],

426 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

427 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

430 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

431 *
__»¡riù
 
__»suÉ
)

432 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

433 
	$Äªd48_r
 (
__xsubi
[3],

434 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

435 *
__»¡riù
 
__»suÉ
)

436 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

439 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

440 *
__»¡riù
 
__»suÉ
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

442 
	$j¿nd48_r
 (
__xsubi
[3],

443 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

444 *
__»¡riù
 
__»suÉ
)

445 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

448 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

449 
__THROW
 
	`__nÚnuÎ
 ((2));

451 
	$£ed48_r
 (
__£ed16v
[3],

452 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$lcÚg48_r
 (
__·¿m
[7],

455 
d¿nd48_d©a
 *
__bufãr
)

456 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

462 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


463 
	#__m®loc_ªd_ÿÎoc_defšed


	)

464 
__BEGIN_NAMESPACE_STD


466 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

468 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

469 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

470 
__END_NAMESPACE_STD


473 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


474 
__BEGIN_NAMESPACE_STD


480 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

481 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

483 
	$ä“
 (*
__±r
è
__THROW
;

484 
__END_NAMESPACE_STD


486 #ifdef 
__USE_MISC


488 
	$cä“
 (*
__±r
è
__THROW
;

491 #ifdeà
__USE_MISC


492 
	~<®loÿ.h
>

495 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

496 || 
defšed
 
__USE_MISC


498 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

501 #ifdeà
__USE_XOPEN2K


503 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

504 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

507 #ifdeà
__USE_ISOC11


509 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

510 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

513 
__BEGIN_NAMESPACE_STD


515 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

519 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

521 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


523 #ifdeà
__ılu¥lus


524 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

525 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

527 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

530 
__END_NAMESPACE_STD


532 #ifdef 
__USE_MISC


535 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

536 
__THROW
 
	`__nÚnuÎ
 ((1));

539 
__BEGIN_NAMESPACE_STD


543 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

545 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


549 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

551 
__END_NAMESPACE_STD


553 #ifdeà
__USE_ISOC99


554 
__BEGIN_NAMESPACE_C99


557 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

558 
__END_NAMESPACE_C99


562 
__BEGIN_NAMESPACE_STD


564 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

565 
__END_NAMESPACE_STD


567 #ifdeà
__USE_GNU


570 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

571 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

574 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


578 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

581 #ifdeà
__USE_XOPEN2K


584 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

585 
__THROW
 
	`__nÚnuÎ
 ((2));

588 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 #ifdef 
__USE_MISC


595 
	$ş—»nv
 (è
__THROW
;

599 #ià
defšed
 
__USE_MISC
 \

600 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

606 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

609 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


618 #iâdeà
__USE_FILE_OFFSET64


619 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

621 #ifdeà
__REDIRECT


622 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

623 
	`__nÚnuÎ
 ((1)è
__wur
;

625 
	#mk¡emp
 
mk¡emp64


	)

628 #ifdeà
__USE_LARGEFILE64


629 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_MISC


640 #iâdeà
__USE_FILE_OFFSET64


641 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

643 #ifdeà
__REDIRECT


644 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

645 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

647 
	#mk¡emps
 
mk¡emps64


	)

650 #ifdeà
__USE_LARGEFILE64


651 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

652 
	`__nÚnuÎ
 ((1)è
__wur
;

656 #ifdeà
__USE_XOPEN2K8


662 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

665 #ifdeà
__USE_GNU


672 #iâdeà
__USE_FILE_OFFSET64


673 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

675 #ifdeà
__REDIRECT


676 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

677 
	`__nÚnuÎ
 ((1)è
__wur
;

679 
	#mko¡emp
 
mko¡emp64


	)

682 #ifdeà
__USE_LARGEFILE64


683 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

692 #iâdeà
__USE_FILE_OFFSET64


693 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

694 
	`__nÚnuÎ
 ((1)è
__wur
;

696 #ifdeà
__REDIRECT


697 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

698 
__æags
), 
mko¡emps64
)

699 
	`__nÚnuÎ
 ((1)è
__wur
;

701 
	#mko¡emps
 
mko¡emps64


	)

704 #ifdeà
__USE_LARGEFILE64


705 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

706 
	`__nÚnuÎ
 ((1)è
__wur
;

711 
__BEGIN_NAMESPACE_STD


716 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

717 
__END_NAMESPACE_STD


720 #ifdef 
__USE_GNU


723 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

724 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

727 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


733 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

734 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

739 #iâdeà
__COMPAR_FN_T


740 
	#__COMPAR_FN_T


	)

741 (*
	t__com·r_â_t
) (const *, const *);

743 #ifdef 
__USE_GNU


744 
__com·r_â_t
 
	tcom·risÚ_â_t
;

747 #ifdeà
__USE_GNU


748 (*
	t__com·r_d_â_t
) (const *, const *, *);

751 
__BEGIN_NAMESPACE_STD


754 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

755 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

756 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

758 #ifdeà
__USE_EXTERN_INLINES


759 
	~<b™s/¡dlib-b£¬ch.h
>

764 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

765 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

766 #ifdeà
__USE_GNU


767 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

768 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

769 
	`__nÚnuÎ
 ((1, 4));

774 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

775 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

776 
__END_NAMESPACE_STD


778 #ifdeà
__USE_ISOC99


779 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

780 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

784 
__BEGIN_NAMESPACE_STD


788 
div_t
 
	$div
 (
__num”
, 
__d’om
)

789 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

790 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

791 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

792 
__END_NAMESPACE_STD


794 #ifdeà
__USE_ISOC99


795 
__BEGIN_NAMESPACE_C99


796 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

797 
__d’om
)

798 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

799 
__END_NAMESPACE_C99


803 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

804 || 
defšed
 
__USE_MISC


811 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

812 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

817 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

818 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

823 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

824 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

827 #ifdeà
__USE_MISC


829 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

830 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

831 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

832 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

833 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

834 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

835 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

836 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

841 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

842 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

843 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

844 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

845 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

846 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

848 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

849 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

850 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

851 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

852 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

853 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

854 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

855 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

859 
__BEGIN_NAMESPACE_STD


862 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

865 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

866 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

869 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

873 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

874 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

876 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

877 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

878 
__THROW
;

879 
__END_NAMESPACE_STD


882 #ifdeà
__USE_MISC


887 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

891 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


898 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

899 *cÚ¡ *
__»¡riù
 
__tok’s
,

900 **
__»¡riù
 
__v®u•
)

901 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

905 #ifdeà
__USE_XOPEN


907 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

913 #ifdeà
__USE_XOPEN2KXSI


915 
	$posix_İ’±
 (
__oæag
è
__wur
;

918 #ifdeà
__USE_XOPEN


923 
	$g¿Á±
 (
__fd
è
__THROW
;

927 
	$uÆock±
 (
__fd
è
__THROW
;

932 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

935 #ifdeà
__USE_GNU


939 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

940 
__THROW
 
	`__nÚnuÎ
 ((2));

943 
	`g‘±
 ();

946 #ifdeà
__USE_MISC


950 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

951 
__THROW
 
	`__nÚnuÎ
 ((1));

954 
	~<b™s/¡dlib-æßt.h
>

957 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


958 
	~<b™s/¡dlib.h
>

960 #ifdeà
__LDBL_COMPAT


961 
	~<b™s/¡dlib-ldbl.h
>

965 #undeà
__Ãed_m®loc_ªd_ÿÎoc


967 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


30 
	#__Ãed_size_t


	)

31 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

35 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

43 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

46 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

47 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


54 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

65 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

69 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

74 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

77 #ifdeà
__OPTIMIZE__


78 
__ex‹º_®ways_šlše
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


81  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

84 
__ex‹º_®ways_šlše
 const *

85 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


87  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifdeà
__USE_GNU


100 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

103 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

106 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

107 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

117 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

128 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

129 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

133 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

134 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

137 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

140 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

141 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

147 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

150 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

151 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
 
	`__nÚnuÎ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifdeà
__USE_XOPEN2K8


159 
	~<xloÿË.h
>

162 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

163 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

165 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

166 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

169 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


171 *
	$¡rdup
 (cÚ¡ *
__s
)

172 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

178 #ià
defšed
 
__USE_XOPEN2K8


179 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

180 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

183 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


185 
	#¡rdu·
(
s
) \

186 (
__ex‹nsiÚ__
 \

188 cÚ¡ *
__Şd
 = (
s
); \

189 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

190 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

191 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

192 
	}
}))

	)

195 
	#¡ºdu·
(
s
, 
n
) \

196 (
__ex‹nsiÚ__
 \

198 cÚ¡ *
__Şd
 = (
s
); \

199 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

200 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

201 
__Ãw
[
__Ën
] = '\0'; \

202 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

203 }))

	)

206 
	g__BEGIN_NAMESPACE_STD


208 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


211 *
¡rchr
 (*
__s
, 
__c
)

212 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

213 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

214 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

216 #ifdeà
__OPTIMIZE__


217 
__ex‹º_®ways_šlše
 *

218 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


220  
__butš_¡rchr
 (
__s
, 
__c
);

223 
__ex‹º_®ways_šlše
 const *

224 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


226  
__butš_¡rchr
 (
__s
, 
__c
);

231 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

232 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

235 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


238 *
	`¡¼chr
 (*
__s
, 
__c
)

239 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

240 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

241 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

243 #ifdeà
__OPTIMIZE__


244 
__ex‹º_®ways_šlše
 *

245 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


247  
	`__butš_¡¼chr
 (
__s
, 
__c
);

250 
__ex‹º_®ways_šlše
 const *

251 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


253  
	`__butš_¡¼chr
 (
__s
, 
__c
);

256 
	}
}

258 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

259 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

261 
__END_NAMESPACE_STD


263 #ifdeà
__USE_GNU


266 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


267 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

268 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

269 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

270 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

272 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

273 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

277 
__BEGIN_NAMESPACE_STD


280 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

281 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

284 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

285 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

287 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


290 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

291 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

292 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

293 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

295 #ifdeà
__OPTIMIZE__


296 
__ex‹º_®ways_šlše
 *

297 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


299  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

302 
__ex‹º_®ways_šlše
 const *

303 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


305  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

308 
	}
}

310 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

311 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

314 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


317 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

318 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

319 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

320 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

322 #ifdeà
__OPTIMIZE__


323 
__ex‹º_®ways_šlše
 *

324 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


326  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

329 
__ex‹º_®ways_šlše
 const *

330 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


332  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

335 
	}
}

337 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

338 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

343 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

344 
__THROW
 
	`__nÚnuÎ
 ((2));

345 
__END_NAMESPACE_STD


349 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

350 cÚ¡ *
__»¡riù
 
__d–im
,

351 **
__»¡riù
 
__§ve_±r
)

352 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

353 #ifdeà
__USE_POSIX


354 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

355 **
__»¡riù
 
__§ve_±r
)

356 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

359 #ifdeà
__USE_GNU


361 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


362 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

363 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

364 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

365 cÚ¡ *
__ÃedË
)

366 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

368 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

369 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

373 #ifdeà
__USE_GNU


377 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

378 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

379 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

383 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

384 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

385 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

386 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

387 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

388 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

392 
__BEGIN_NAMESPACE_STD


394 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

395 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

396 
__END_NAMESPACE_STD


398 #ifdef 
__USE_XOPEN2K8


401 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

402 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

406 
__BEGIN_NAMESPACE_STD


408 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

409 
__END_NAMESPACE_STD


410 #ifdeà
__USE_XOPEN2K


418 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


421 #ifdeà
__REDIRECT_NTH


422 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

423 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

424 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

426 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

427 
__THROW
 
	`__nÚnuÎ
 ((2));

428 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

433 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

434 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

438 #ifdeà
__USE_XOPEN2K8


440 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

446 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

448 #ifdeà
__USE_MISC


450 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

451 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

454 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

457 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

458 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

461 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


464 *
	`šdex
 (*
__s
, 
__c
)

465 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

466 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

467 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

469 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


470 
__ex‹º_®ways_šlše
 *

471 
	`šdex
 (*
__s
, 
__c
è
__THROW


473  
	`__butš_šdex
 (
__s
, 
__c
);

476 
__ex‹º_®ways_šlše
 const *

477 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


479  
	`__butš_šdex
 (
__s
, 
__c
);

482 
	}
}

484 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

485 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

489 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


492 *
	`ršdex
 (*
__s
, 
__c
)

493 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

494 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

495 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

497 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


498 
__ex‹º_®ways_šlše
 *

499 
	`ršdex
 (*
__s
, 
__c
è
__THROW


501  
	`__butš_ršdex
 (
__s
, 
__c
);

504 
__ex‹º_®ways_šlše
 const *

505 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


507  
	`__butš_ršdex
 (
__s
, 
__c
);

510 
	}
}

512 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

513 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

518 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

522 #ifdef 
__USE_GNU


523 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

524 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

525 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

529 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

530 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

533 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

534 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

537 #ifdef 
__USE_GNU


540 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

541 
__loÿË_t
 
__loc
)

542 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

544 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

545 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

546 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

549 #ifdef 
__USE_MISC


552 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

553 cÚ¡ *
__»¡riù
 
__d–im
)

554 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

557 #ifdef 
__USE_XOPEN2K8


559 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

562 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

563 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

564 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

565 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

569 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

570 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

571 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

572 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

573 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

574 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

577 #ifdef 
__USE_GNU


579 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

580 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

583 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

586 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

588 #iâdeà
ba£Çme


593 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


594 "C++" *
	$ba£Çme
 (*
__f’ame
)

595 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

596 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

597 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

599 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

605 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

606 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

607 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


627 
	~<b™s/¡ršg.h
>

630 
	~<b™s/¡ršg2.h
>

633 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


635 
	~<b™s/¡ršg3.h
>

639 #ià
defšed
 
__USE_GNU
 && defšed 
__OPTIMIZE__
 \

640 && 
defšed
 
__ex‹º_®ways_šlše
 && 
	$__GNUC_PREREQ
 (3,2)

641 #ià!
defšed
 
_FORCE_INLINES
 && !defšed 
_HAVE_STRING_ARCH_mempıy


643 #undeà
mempıy


644 #undeà
__mempıy


645 
	#mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy_šlše
 (de¡, src,‚)

	)

646 
	#__mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy_šlše
 (de¡, src,‚)

	)

648 
__ex‹º_®ways_šlše
 *

649 
	$__mempıy_šlše
 (*
__»¡riù
 
__de¡
,

650 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

652  (*è
	`memıy
 (
__de¡
, 
__¤c
, 
__n
) + __n;

653 
	}
}

658 
	g__END_DECLS


	@/usr/include/syscall.h

1 
	~<sys/sysÿÎ.h
>

	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_MISC


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_MISC
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

62 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


63 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

64 
	#htŞe16
(
x
è(x)

	)

65 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

66 
	#Ë16toh
(
x
è(x)

	)

68 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

69 
	#htŞe32
(
x
è(x)

	)

70 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

71 
	#Ë32toh
(
x
è(x)

	)

73 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

74 
	#htŞe64
(
x
è(x)

	)

75 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

76 
	#Ë64toh
(
x
è(x)

	)

79 
	#htobe16
(
x
è(x)

	)

80 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

81 
	#be16toh
(
x
è(x)

	)

82 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

84 
	#htobe32
(
x
è(x)

	)

85 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

86 
	#be32toh
(
x
è(x)

	)

87 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

89 
	#htobe64
(
x
è(x)

	)

90 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

91 
	#be64toh
(
x
è(x)

	)

92 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

97 #undeà
__USE_ISOC11


98 #undeà
__USE_ISOC99


99 #undeà
__USE_ISOC95


100 #undeà
__USE_ISOCXX11


101 #undeà
__USE_POSIX


102 #undeà
__USE_POSIX2


103 #undeà
__USE_POSIX199309


104 #undeà
__USE_POSIX199506


105 #undeà
__USE_XOPEN


106 #undeà
__USE_XOPEN_EXTENDED


107 #undeà
__USE_UNIX98


108 #undeà
__USE_XOPEN2K


109 #undeà
__USE_XOPEN2KXSI


110 #undeà
__USE_XOPEN2K8


111 #undeà
__USE_XOPEN2K8XSI


112 #undeà
__USE_LARGEFILE


113 #undeà
__USE_LARGEFILE64


114 #undeà
__USE_FILE_OFFSET64


115 #undeà
__USE_MISC


116 #undeà
__USE_ATFILE


117 #undeà
__USE_GNU


118 #undeà
__USE_REENTRANT


119 #undeà
__USE_FORTIFY_LEVEL


120 #undeà
__KERNEL_STRICT_NAMES


124 #iâdeà
_LOOSE_KERNEL_NAMES


125 
	#__KERNEL_STRICT_NAMES


	)

135 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


136 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

137 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

139 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

146 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

147 && !
defšed
 
	g_DEFAULT_SOURCE


152 #undeà
_DEFAULT_SOURCE


153 
	#_DEFAULT_SOURCE
 1

	)

157 #ifdeà
_GNU_SOURCE


158 #undeà
_ISOC95_SOURCE


159 
	#_ISOC95_SOURCE
 1

	)

160 #undeà
_ISOC99_SOURCE


161 
	#_ISOC99_SOURCE
 1

	)

162 #undeà
_ISOC11_SOURCE


163 
	#_ISOC11_SOURCE
 1

	)

164 #undeà
_POSIX_SOURCE


165 
	#_POSIX_SOURCE
 1

	)

166 #undeà
_POSIX_C_SOURCE


167 
	#_POSIX_C_SOURCE
 200809L

	)

168 #undeà
_XOPEN_SOURCE


169 
	#_XOPEN_SOURCE
 700

	)

170 #undeà
_XOPEN_SOURCE_EXTENDED


171 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

172 #undeà
_LARGEFILE64_SOURCE


173 
	#_LARGEFILE64_SOURCE
 1

	)

174 #undeà
_DEFAULT_SOURCE


175 
	#_DEFAULT_SOURCE
 1

	)

176 #undeà
_ATFILE_SOURCE


177 
	#_ATFILE_SOURCE
 1

	)

182 #ià(
defšed
 
_DEFAULT_SOURCE
 \

183 || (!
defšed
 
	g__STRICT_ANSI__
 \

184 && !
defšed
 
	g_ISOC99_SOURCE
 \

185 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

186 && !
defšed
 
	g_XOPEN_SOURCE
))

187 #undeà
_DEFAULT_SOURCE


188 
	#_DEFAULT_SOURCE
 1

	)

192 #ià(
defšed
 
_ISOC11_SOURCE
 \

193 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

194 
	#__USE_ISOC11
 1

	)

198 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

199 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

200 
	#__USE_ISOC99
 1

	)

204 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

205 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

206 
	#__USE_ISOC95
 1

	)

213 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

214 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

215 
	#__USE_ISOCXX11
 1

	)

221 #ifdeà
_DEFAULT_SOURCE


222 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


223 
	#__USE_POSIX_IMPLICITLY
 1

	)

225 #undeà
_POSIX_SOURCE


226 
	#_POSIX_SOURCE
 1

	)

227 #undeà
_POSIX_C_SOURCE


228 
	#_POSIX_C_SOURCE
 200809L

	)

230 #ià((!
defšed
 
__STRICT_ANSI__
 \

231 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

232 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

233 
	#_POSIX_SOURCE
 1

	)

234 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

235 
	#_POSIX_C_SOURCE
 2

	)

236 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

237 
	#_POSIX_C_SOURCE
 199506L

	)

238 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

239 
	#_POSIX_C_SOURCE
 200112L

	)

241 
	#_POSIX_C_SOURCE
 200809L

	)

243 
	#__USE_POSIX_IMPLICITLY
 1

	)

246 #ià(
defšed
 
_POSIX_SOURCE
 \

247 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

248 || 
defšed
 
_XOPEN_SOURCE
)

249 
	#__USE_POSIX
 1

	)

252 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


253 
	#__USE_POSIX2
 1

	)

256 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

257 
	#__USE_POSIX199309
 1

	)

260 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

261 
	#__USE_POSIX199506
 1

	)

264 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

265 
	#__USE_XOPEN2K
 1

	)

266 #undeà
__USE_ISOC95


267 
	#__USE_ISOC95
 1

	)

268 #undeà
__USE_ISOC99


269 
	#__USE_ISOC99
 1

	)

272 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

273 
	#__USE_XOPEN2K8
 1

	)

274 #undeà
_ATFILE_SOURCE


275 
	#_ATFILE_SOURCE
 1

	)

278 #ifdef 
_XOPEN_SOURCE


279 
	#__USE_XOPEN
 1

	)

280 #ià(
_XOPEN_SOURCE
 - 0) >= 500

281 
	#__USE_XOPEN_EXTENDED
 1

	)

282 
	#__USE_UNIX98
 1

	)

283 #undeà
_LARGEFILE_SOURCE


284 
	#_LARGEFILE_SOURCE
 1

	)

285 #ià(
_XOPEN_SOURCE
 - 0) >= 600

286 #ià(
_XOPEN_SOURCE
 - 0) >= 700

287 
	#__USE_XOPEN2K8
 1

	)

288 
	#__USE_XOPEN2K8XSI
 1

	)

290 
	#__USE_XOPEN2K
 1

	)

291 
	#__USE_XOPEN2KXSI
 1

	)

292 #undeà
__USE_ISOC95


293 
	#__USE_ISOC95
 1

	)

294 #undeà
__USE_ISOC99


295 
	#__USE_ISOC99
 1

	)

298 #ifdeà
_XOPEN_SOURCE_EXTENDED


299 
	#__USE_XOPEN_EXTENDED
 1

	)

304 #ifdeà
_LARGEFILE_SOURCE


305 
	#__USE_LARGEFILE
 1

	)

308 #ifdeà
_LARGEFILE64_SOURCE


309 
	#__USE_LARGEFILE64
 1

	)

312 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

313 
	#__USE_FILE_OFFSET64
 1

	)

316 #ià
defšed
 
_DEFAULT_SOURCE


317 
	#__USE_MISC
 1

	)

320 #ifdef 
_ATFILE_SOURCE


321 
	#__USE_ATFILE
 1

	)

324 #ifdef 
_GNU_SOURCE


325 
	#__USE_GNU
 1

	)

328 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


329 
	#__USE_REENTRANT
 1

	)

332 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

333 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

334 #ià
_FORTIFY_SOURCE
 > 1

335 
	#__USE_FORTIFY_LEVEL
 2

	)

337 
	#__USE_FORTIFY_LEVEL
 1

	)

340 
	#__USE_FORTIFY_LEVEL
 0

	)

345 
	~<¡dc-´edef.h
>

353 #undeà
__GNU_LIBRARY__


354 
	#__GNU_LIBRARY__
 6

	)

358 
	#__GLIBC__
 2

	)

359 
	#__GLIBC_MINOR__
 23

	)

361 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

362 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

365 #iâdeà
__ASSEMBLER__


366 #iâdeà
_SYS_CDEFS_H


367 
	~<sys/cdefs.h
>

372 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


373 
	#__USE_LARGEFILE
 1

	)

374 
	#__USE_LARGEFILE64
 1

	)

380 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

381 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

382 && 
defšed
 
	g__ex‹º_šlše


383 
	#__USE_EXTERN_INLINES
 1

	)

391 
	~<gnu/¡ubs.h
>

	@/usr/include/getopt.h

19 #iâdeà
_GETOPT_H


21 #iâdeà
__Ãed_g‘İt


22 
	#_GETOPT_H
 1

	)

32 #ià!
defšed
 
__GNU_LIBRARY__


33 
	~<ùy³.h
>

36 #iâdeà
__THROW


37 #iâdeà
__GNUC_PREREQ


38 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

40 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

41 
	#__THROW
 
	`throw
 ()

	)

43 
	#__THROW


	)

47 #ifdef 
__ılu¥lus


57 *
İrg
;

71 
İtšd
;

76 
İ‹¼
;

80 
İtİt
;

82 #iâdeà
__Ãed_g‘İt


104 
	sİtiÚ


106 cÚ¡ *
	gÇme
;

109 
	ghas_¬g
;

110 *
	gæag
;

111 
	gv®
;

116 
	#no_¬gum’t
 0

	)

117 
	#»quœed_¬gum’t
 1

	)

118 
	#İtiÚ®_¬gum’t
 2

	)

146 #ifdeà
__GNU_LIBRARY__


150 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

151 
__THROW
;

153 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

154 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


158 #ifdeà
__REDIRECT


159 
__REDIRECT_NTH
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

160 cÚ¡ *
__shÜtİts
),

161 
__posix_g‘İt
);

163 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

164 cÚ¡ *
__shÜtİts
è
__THROW
;

165 
	#g‘İt
 
__posix_g‘İt


	)

169 
g‘İt
 ();

172 #iâdeà
__Ãed_g‘İt


173 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

174 cÚ¡ *
__shÜtİts
,

175 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

176 
__THROW
;

177 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

178 cÚ¡ *
__shÜtİts
,

179 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

180 
__THROW
;

184 #ifdef 
__ılu¥lus


189 #undeà
__Ãed_g‘İt


	@/usr/include/libio.h

28 #iâdeà
_IO_STDIO_H


29 
	#_IO_STDIO_H


	)

31 
	~<_G_cÚfig.h
>

33 
	#_IO_åos_t
 
_G_åos_t


	)

34 
	#_IO_åos64_t
 
_G_åos64_t


	)

35 
	#_IO_size_t
 
size_t


	)

36 
	#_IO_ssize_t
 
__ssize_t


	)

37 
	#_IO_off_t
 
__off_t


	)

38 
	#_IO_off64_t
 
__off64_t


	)

39 
	#_IO_pid_t
 
__pid_t


	)

40 
	#_IO_uid_t
 
__uid_t


	)

41 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

42 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

43 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

44 
	#_IO_va_li¡
 
_G_va_li¡


	)

45 
	#_IO_wšt_t
 
wšt_t


	)

48 
	#__Ãed___va_li¡


	)

49 
	~<¡d¬g.h
>

50 #ifdeà
__GNUC_VA_LIST


51 #undeà
_IO_va_li¡


52 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

55 #iâdeà
__P


56 
	~<sys/cdefs.h
>

59 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

61 #iâdeà
EOF


62 
	#EOF
 (-1)

	)

64 #iâdeà
NULL


65 #ià
defšed
 
__GNUG__
 && \

66 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

67 
	#NULL
 (
__nuÎ
)

	)

69 #ià!
defšed
(
__ılu¥lus
)

70 
	#NULL
 ((*)0)

	)

72 
	#NULL
 (0)

	)

77 
	#_IOS_INPUT
 1

	)

78 
	#_IOS_OUTPUT
 2

	)

79 
	#_IOS_ATEND
 4

	)

80 
	#_IOS_APPEND
 8

	)

81 
	#_IOS_TRUNC
 16

	)

82 
	#_IOS_NOCREATE
 32

	)

83 
	#_IOS_NOREPLACE
 64

	)

84 
	#_IOS_BIN
 128

	)

92 
	#_IO_MAGIC
 0xFBAD0000

	)

93 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

94 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

95 
	#_IO_USER_BUF
 1

	)

96 
	#_IO_UNBUFFERED
 2

	)

97 
	#_IO_NO_READS
 4

	)

98 
	#_IO_NO_WRITES
 8

	)

99 
	#_IO_EOF_SEEN
 0x10

	)

100 
	#_IO_ERR_SEEN
 0x20

	)

101 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

102 
	#_IO_LINKED
 0x80

	)

103 
	#_IO_IN_BACKUP
 0x100

	)

104 
	#_IO_LINE_BUF
 0x200

	)

105 
	#_IO_TIED_PUT_GET
 0x400

	)

106 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

107 
	#_IO_IS_APPENDING
 0x1000

	)

108 
	#_IO_IS_FILEBUF
 0x2000

	)

109 
	#_IO_BAD_SEEN
 0x4000

	)

110 
	#_IO_USER_LOCK
 0x8000

	)

112 
	#_IO_FLAGS2_MMAP
 1

	)

113 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

114 #ifdeà
_LIBC


115 
	#_IO_FLAGS2_FORTIFY
 4

	)

117 
	#_IO_FLAGS2_USER_WBUF
 8

	)

118 #ifdeà
_LIBC


119 
	#_IO_FLAGS2_SCANF_STD
 16

	)

120 
	#_IO_FLAGS2_NOCLOSE
 32

	)

121 
	#_IO_FLAGS2_CLOEXEC
 64

	)

125 
	#_IO_SKIPWS
 01

	)

126 
	#_IO_LEFT
 02

	)

127 
	#_IO_RIGHT
 04

	)

128 
	#_IO_INTERNAL
 010

	)

129 
	#_IO_DEC
 020

	)

130 
	#_IO_OCT
 040

	)

131 
	#_IO_HEX
 0100

	)

132 
	#_IO_SHOWBASE
 0200

	)

133 
	#_IO_SHOWPOINT
 0400

	)

134 
	#_IO_UPPERCASE
 01000

	)

135 
	#_IO_SHOWPOS
 02000

	)

136 
	#_IO_SCIENTIFIC
 04000

	)

137 
	#_IO_FIXED
 010000

	)

138 
	#_IO_UNITBUF
 020000

	)

139 
	#_IO_STDIO
 040000

	)

140 
	#_IO_DONT_CLOSE
 0100000

	)

141 
	#_IO_BOOLALPHA
 0200000

	)

144 
_IO_jump_t
; 
	g_IO_FILE
;

147 #ifdeà
_IO_MTSAFE_IO


150 
	t_IO_lock_t
;

156 
	s_IO_m¬k”
 {

157 
_IO_m¬k”
 *
	m_Ãxt
;

158 
_IO_FILE
 *
	m_sbuf
;

162 
	m_pos
;

164 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

165 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

166 
	mpublic
:

167 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

168 ~
¡»amm¬k”
();

169 
§všg
(è{  
	m_¥os
 == -2; }

170 
d–
(
¡»amm¬k”
&);

171 
d–
();

176 
	e__codecvt_»suÉ


178 
	m__codecvt_ok
,

179 
	m__codecvt_·¹Ÿl
,

180 
	m__codecvt_”rÜ
,

181 
	m__codecvt_nocÚv


184 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


187 
	s_IO_codecvt


189 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

190 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

191 
	m__mb¡©e_t
 *,

192 cÚ¡ 
	mwch¬_t
 *,

193 cÚ¡ 
	mwch¬_t
 *,

194 cÚ¡ 
	mwch¬_t
 **, *,

196 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

197 
	m__mb¡©e_t
 *, *,

199 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

200 
	m__mb¡©e_t
 *,

202 cÚ¡ **, 
	mwch¬_t
 *,

203 
	mwch¬_t
 *, wchar_t **);

204 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

205 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

206 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

207 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

208 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

210 
_IO_icÚv_t
 
	m__cd_š
;

211 
_IO_icÚv_t
 
	m__cd_out
;

215 
	s_IO_wide_d©a


217 
wch¬_t
 *
	m_IO_»ad_±r
;

218 
wch¬_t
 *
	m_IO_»ad_’d
;

219 
wch¬_t
 *
	m_IO_»ad_ba£
;

220 
wch¬_t
 *
	m_IO_wr™e_ba£
;

221 
wch¬_t
 *
	m_IO_wr™e_±r
;

222 
wch¬_t
 *
	m_IO_wr™e_’d
;

223 
wch¬_t
 *
	m_IO_buf_ba£
;

224 
wch¬_t
 *
	m_IO_buf_’d
;

226 
wch¬_t
 *
	m_IO_§ve_ba£
;

227 
wch¬_t
 *
	m_IO_backup_ba£
;

229 
wch¬_t
 *
	m_IO_§ve_’d
;

231 
__mb¡©e_t
 
	m_IO_¡©e
;

232 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

233 
_IO_codecvt
 
	m_codecvt
;

235 
wch¬_t
 
	m_shÜtbuf
[1];

237 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

241 
	s_IO_FILE
 {

242 
	m_æags
;

243 
	#_IO_fe_æags
 
_æags


	)

247 * 
	m_IO_»ad_±r
;

248 * 
	m_IO_»ad_’d
;

249 * 
	m_IO_»ad_ba£
;

250 * 
	m_IO_wr™e_ba£
;

251 * 
	m_IO_wr™e_±r
;

252 * 
	m_IO_wr™e_’d
;

253 * 
	m_IO_buf_ba£
;

254 * 
	m_IO_buf_’d
;

256 *
	m_IO_§ve_ba£
;

257 *
	m_IO_backup_ba£
;

258 *
	m_IO_§ve_’d
;

260 
_IO_m¬k”
 *
	m_m¬k”s
;

262 
_IO_FILE
 *
	m_chaš
;

264 
	m_f’o
;

266 
	m_blksize
;

268 
	m_æags2
;

270 
_IO_off_t
 
	m_Şd_off£t
;

272 
	#__HAVE_COLUMN


	)

274 
	m_cur_cŞumn
;

275 sigÃd 
	m_vbË_off£t
;

276 
	m_shÜtbuf
[1];

280 
_IO_lock_t
 *
	m_lock
;

281 #ifdeà
_IO_USE_OLD_IO_FILE


284 
	s_IO_FILE_com¶‘e


286 
_IO_FILE
 
	m_fe
;

288 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

289 
_IO_off64_t
 
	m_off£t
;

290 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


292 
_IO_codecvt
 *
	m_codecvt
;

293 
_IO_wide_d©a
 *
	m_wide_d©a
;

294 
_IO_FILE
 *
	m_ä“»s_li¡
;

295 *
	m_ä“»s_buf
;

297 *
	m__·d1
;

298 *
	m__·d2
;

299 *
	m__·d3
;

300 *
	m__·d4
;

302 
size_t
 
	m__·d5
;

303 
	m_mode
;

305 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

309 #iâdeà
__ılu¥lus


310 
_IO_FILE
 
	t_IO_FILE
;

313 
	g_IO_FILE_¶us
;

315 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

316 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

317 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

318 #iâdeà
_LIBC


319 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

320 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

321 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

323 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

324 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

325 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

333 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

341 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, cÚ¡ *
	t__buf
,

342 
	tsize_t
 
	t__n
);

350 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

353 
	t__io_şo£_â
 (*
	t__cook›
);

356 #ifdeà
_GNU_SOURCE


358 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

359 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

360 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

361 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

366 
__io_»ad_â
 *
	m»ad
;

367 
__io_wr™e_â
 *
	mwr™e
;

368 
__io_£ek_â
 *
	m£ek
;

369 
__io_şo£_â
 *
	mşo£
;

370 } 
	t_IO_cook›_io_funùiÚs_t
;

371 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

373 
	g_IO_cook›_fe
;

376 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

377 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

381 #ifdeà
__ılu¥lus


385 
__und”æow
 (
_IO_FILE
 *);

386 
__uæow
 (
_IO_FILE
 *);

387 
__ov”æow
 (
_IO_FILE
 *, );

388 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


389 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

390 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

391 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

394 #ià 
__GNUC__
 >= 3

395 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

397 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

400 
	#_IO_g‘c_uÆocked
(
_å
) \

401 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

402 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

403 
	#_IO_³ekc_uÆocked
(
_å
) \

404 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

405 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

406 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

407 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

408 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

409 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

410 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

412 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


413 
	#_IO_g‘wc_uÆocked
(
_å
) \

414 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

415 || ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 \

416 >ğ(
_å
)->
_wide_d©a
->
_IO_»ad_’d
), 0) \

417 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

418 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

419 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

420 || ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

421 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
), 0) \

422 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

423 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

426 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

427 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

429 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

430 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

431 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

432 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

434 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

437 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

438 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

440 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

441 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

442 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

444 #ifdeà
_IO_MTSAFE_IO


445 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

446 
	#_IO_æockfe
(
_å
) \

447 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

448 
	#_IO_fuÆockfe
(
_å
) \

449 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

451 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

452 
	#_IO_æockfe
(
_å
è

	)

453 
	#_IO_fuÆockfe
(
_å
è

	)

454 
	#_IO_árylockfe
(
_å
è

	)

455 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

456 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

459 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

460 
_IO_va_li¡
, *
__»¡riù
);

461 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

462 
_IO_va_li¡
);

463 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

464 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

466 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

467 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

469 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

471 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


472 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

473 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

474 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

475 #ià
__GNUC__
 >= 2

478 #ià
defšed
 
_LIBC
 && defšed 
SHARED


479 
	~<shlib-com·t.h
>

480 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

481 
	#_IO_fwide_maybe_šcom·tibË
 \

482 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

483 cÚ¡ 
_IO_¡dš_u£d
;

484 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

487 #iâdeà
_IO_fwide_maybe_šcom·tibË


488 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

492 
	#_IO_fwide
(
__å
, 
__mode
) \

493 ({ 
__»suÉ
 = (
__mode
); \

494 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

496 ià((
__å
)->
_mode
 == 0) \

498 (
__å
)->
_mode
 = -1; \

499 
__»suÉ
 = (
__å
)->
_mode
; \

501 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

502 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

504 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

505 
__»suÉ
; })

	)

508 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

509 
_IO_va_li¡
, *
__»¡riù
);

510 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

511 
_IO_va_li¡
);

512 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

513 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

516 #ifdeà
__LDBL_COMPAT


517 
	~<b™s/libio-ldbl.h
>

520 #ifdeà
__ılu¥lus


	@/usr/include/xlocale.h

20 #iâdeà
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loÿË_¡ruù


30 
__loÿË_d©a
 *
	m__loÿËs
[13];

33 cÚ¡ *
	m__ùy³_b
;

34 cÚ¡ *
	m__ùy³_tŞow”
;

35 cÚ¡ *
	m__ùy³_touµ”
;

38 cÚ¡ *
	m__Çmes
[13];

39 } *
	t__loÿË_t
;

42 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

23 
__off_t
 
	m__pos
;

24 
__mb¡©e_t
 
	m__¡©e
;

25 } 
	t_G_åos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb¡©e_t
 
	m__¡©e
;

30 } 
	t_G_åos64_t
;

31 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gcÚv.h
>

35 
__gcÚv_šfo
 
	m__cd
;

38 
__gcÚv_šfo
 
	m__cd
;

39 
__gcÚv_¡•_d©a
 
	m__d©a
;

40 } 
	m__combšed
;

41 } 
	t_G_icÚv_t
;

46 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

55 
	#__STDC_ISO_10646__
 201505L

	)

58 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/gconv.h

22 #iâdeà
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	#__Ãed_mb¡©e_t


	)

27 
	#__Ãed_wšt_t


	)

28 
	~<wch¬.h
>

29 
	#__Ãed_size_t


	)

30 
	#__Ãed_wch¬_t


	)

31 
	~<¡ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004,

60 
	m__GCONV_TRANSLIT
 = 0x0008

65 
	g__gcÚv_¡•
;

66 
	g__gcÚv_¡•_d©a
;

67 
	g__gcÚv_lßded_objeù
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 
	s__gcÚv_¡•


86 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

87 cÚ¡ *
__modÇme
;

89 
__couÁ”
;

91 *
__äom_Çme
;

92 *
__to_Çme
;

94 
__gcÚv_fù
 
__fù
;

95 
__gcÚv_btowc_fù
 
__btowc_fù
;

96 
__gcÚv_š™_fù
 
__š™_fù
;

97 
__gcÚv_’d_fù
 
__’d_fù
;

101 
__mš_Ãeded_äom
;

102 
__max_Ãeded_äom
;

103 
__mš_Ãeded_to
;

104 
__max_Ãeded_to
;

107 
__¡©eful
;

109 *
__d©a
;

114 
	s__gcÚv_¡•_d©a


116 *
__outbuf
;

117 *
__outbuãnd
;

121 
__æags
;

125 
__švoÿtiÚ_couÁ”
;

129 
__š‹º®_u£
;

131 
__mb¡©e_t
 *
__¡©•
;

132 
__mb¡©e_t
 
__¡©e
;

138 
	s__gcÚv_šfo


140 
size_t
 
__n¡•s
;

141 
__gcÚv_¡•
 *
__¡•s
;

142 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

143 } *
	t__gcÚv_t
;

146 
	`__gcÚv_Œª¦™”©e
 (
__gcÚv_¡•
 *
¡•
,

147 
__gcÚv_¡•_d©a
 *
¡•_d©a
,

148 cÚ¡ *
šbuf¡¬t
,

149 cÚ¡ **
šbuå
,

150 cÚ¡ *
šbuãnd
,

151 **
outbuf¡¬t
,

152 
size_t
 *
œ»v”sibË
);

	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


25 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<ã©u»s.h
>

30 #ifdeà
_WCHAR_H


32 
	#__Ãed___FILE


	)

33 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


34 
	#__Ãed_FILE


	)

36 
	~<¡dio.h
>

38 
	#__Ãed___va_li¡


	)

39 
	~<¡d¬g.h
>

41 
	~<b™s/wch¬.h
>

44 
	#__Ãed_size_t


	)

45 
	#__Ãed_wch¬_t


	)

46 
	#__Ãed_NULL


	)

48 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


49 #undeà
__Ãed_wšt_t


50 
	#__Ãed_wšt_t


	)

51 
	~<¡ddef.h
>

55 #iâdeà
_WINT_T


60 
	#_WINT_T


	)

61 
	twšt_t
;

65 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
defšed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twšt_t
;

69 
	g__END_NAMESPACE_STD


74 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
____mb¡©e_t_defšed


80 
	#____mb¡©e_t_defšed
 1

	)

84 
	m__couÁ
;

87 #ifdeà
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wšt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__v®ue
;

94 } 
	t__mb¡©e_t
;

96 #undeà
__Ãed_mb¡©e_t


101 #ifdeà
_WCHAR_H


103 #iâdeà
__mb¡©e_t_defšed


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb¡©e_t_defšed
 1

	)

111 #ifdeà
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

115 #iâdeà
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #iâdeà
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


128 
	~<wùy³.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
)

149 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

152 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

153 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

154 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

157 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

158 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
)

159 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

161 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

162 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

163 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

166 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

167 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

169 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

170 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

171 
__END_NAMESPACE_STD


173 #ifdeà
__USE_XOPEN2K8


175 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

178 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

179 
size_t
 
__n
è
__THROW
;

183 
	~<xloÿË.h
>

185 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

186 
__loÿË_t
 
__loc
è
__THROW
;

188 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

189 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

192 
__BEGIN_NAMESPACE_STD


195 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

199 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

200 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

201 
__END_NAMESPACE_STD


203 #ifdeà
__USE_XOPEN2K8


209 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

210 
__loÿË_t
 
__loc
è
__THROW
;

215 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

216 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

219 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

222 
__BEGIN_NAMESPACE_STD


224 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


225 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

226 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

227 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

228 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

230 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

231 
__THROW
 
__©Œibu‹_pu»__
;

234 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


235 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

236 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

237 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

238 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

240 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

241 
__THROW
 
__©Œibu‹_pu»__
;

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_GNU


248 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

249 
__THROW
 
__©Œibu‹_pu»__
;

252 
__BEGIN_NAMESPACE_STD


255 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

256 
__THROW
 
__©Œibu‹_pu»__
;

259 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

260 
__THROW
 
__©Œibu‹_pu»__
;

262 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


263 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

264 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

265 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

266 cÚ¡ 
wch¬_t
 *
__acû±
)

267 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

269 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

270 
__THROW
 
__©Œibu‹_pu»__
;

273 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


274 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

275 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

276 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

277 cÚ¡ 
wch¬_t
 *
__ÃedË
)

278 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

280 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

281 
__THROW
 
__©Œibu‹_pu»__
;

285 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

286 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

287 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

290 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

291 
__END_NAMESPACE_STD


293 #ifdeà
__USE_XOPEN


295 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


296 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

297 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

298 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

299 cÚ¡ 
wch¬_t
 *
__ÃedË
)

300 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

302 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

303 
__THROW
 
__©Œibu‹_pu»__
;

307 #ifdeà
__USE_XOPEN2K8


309 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

310 
__THROW
 
__©Œibu‹_pu»__
;

314 
__BEGIN_NAMESPACE_STD


316 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


317 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

319 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

320 
size_t
 
__n
)

321 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

323 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

324 
__THROW
 
__©Œibu‹_pu»__
;

328 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

329 
__THROW
 
__©Œibu‹_pu»__
;

332 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

333 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

337 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

338 
__THROW
;

341 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

342 
__END_NAMESPACE_STD


344 #ifdeà
__USE_GNU


347 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

348 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

349 
__THROW
;

353 
__BEGIN_NAMESPACE_STD


356 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

360 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

364 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

368 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

369 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

370 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

373 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

374 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

377 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

378 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

379 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

380 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

381 
__END_NAMESPACE_STD


383 #ifdeà
__USE_EXTERN_INLINES


389 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

390 
__ex‹º_šlše
 
wšt_t


391 
	`__NTH
 (
	$btowc
 (
__c
))

392 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

393 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

395 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

396 
__ex‹º_šlše
 

397 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

398 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

399 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

401 
__ex‹º_šlše
 
size_t


402 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

403 
mb¡©e_t
 *
__»¡riù
 
__ps
))

404 {  (
__ps
 !ğ
NULL


405 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

408 
__BEGIN_NAMESPACE_STD


411 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

412 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

413 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

417 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

418 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

419 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

420 
__END_NAMESPACE_STD


423 #ifdef 
__USE_XOPEN2K8


426 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

427 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

428 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

432 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

433 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

434 
size_t
 
__nwc
, size_ˆ
__Ën
,

435 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

440 #ifdeà
__USE_XOPEN


442 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

446 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

450 
__BEGIN_NAMESPACE_STD


453 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

454 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

455 
__END_NAMESPACE_STD


457 #ifdeà
__USE_ISOC99


458 
__BEGIN_NAMESPACE_C99


460 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

461 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

462 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

463 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

464 
__END_NAMESPACE_C99


468 
__BEGIN_NAMESPACE_STD


471 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

472 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

476 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

477 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

478 
__THROW
;

479 
__END_NAMESPACE_STD


481 #ifdeà
__USE_ISOC99


482 
__BEGIN_NAMESPACE_C99


485 
__ex‹nsiÚ__


486 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

487 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

488 
__THROW
;

492 
__ex‹nsiÚ__


493 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

494 
wch¬_t
 **
__»¡riù
 
__’d±r
,

495 
__ba£
è
__THROW
;

496 
__END_NAMESPACE_C99


499 #ifdeà
__USE_GNU


502 
__ex‹nsiÚ__


503 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

504 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

505 
__THROW
;

509 
__ex‹nsiÚ__


510 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

511 
wch¬_t
 **
__»¡riù
 
__’d±r
,

512 
__ba£
è
__THROW
;

515 #ifdeà
__USE_GNU


529 
	~<xloÿË.h
>

533 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

534 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

535 
__loÿË_t
 
__loc
è
__THROW
;

537 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

538 
wch¬_t
 **
__»¡riù
 
__’d±r
,

539 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

541 
__ex‹nsiÚ__


542 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

543 
wch¬_t
 **
__»¡riù
 
__’d±r
,

544 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

546 
__ex‹nsiÚ__


547 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

548 
wch¬_t
 **
__»¡riù
 
__’d±r
,

549 
__ba£
, 
__loÿË_t
 
__loc
)

550 
__THROW
;

552 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

553 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

554 
__THROW
;

556 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

557 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

558 
__THROW
;

560 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

561 
wch¬_t
 **
__»¡riù
 
__’d±r
,

562 
__loÿË_t
 
__loc
è
__THROW
;

566 #ifdeà
__USE_XOPEN2K8


569 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

570 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

574 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

575 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

576 
__THROW
;

583 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

586 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


587 
__BEGIN_NAMESPACE_STD


590 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

597 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

598 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

607 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

608 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

609 
__THROW
 ;

615 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

616 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

617 
__gnuc_va_li¡
 
__¬g
)

623 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

624 
__gnuc_va_li¡
 
__¬g
)

628 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

629 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

630 
__gnuc_va_li¡
 
__¬g
)

631 
__THROW
 ;

638 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

639 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

648 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

649 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

650 
__THROW
 ;

652 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

653 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

654 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

655 #ifdeà
__REDIRECT


659 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

660 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

661 
__isoc99_fwsÿnf
)

663 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

664 
__isoc99_wsÿnf
)

666 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

667 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

668 ...), 
__isoc99_swsÿnf
)

671 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

672 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

673 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

674 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

675 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

676 
__THROW
;

677 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

678 
	#wsÿnf
 
__isoc99_wsÿnf


	)

679 
	#swsÿnf
 
__isoc99_swsÿnf


	)

683 
__END_NAMESPACE_STD


686 #ifdeà
__USE_ISOC99


687 
__BEGIN_NAMESPACE_C99


692 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

693 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

694 
__gnuc_va_li¡
 
__¬g
)

700 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

701 
__gnuc_va_li¡
 
__¬g
)

704 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

705 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

706 
__gnuc_va_li¡
 
__¬g
)

707 
__THROW
 ;

709 #ià!
defšed
 
__USE_GNU
 \

710 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

711 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

712 #ifdeà
__REDIRECT


713 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

714 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

715 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

717 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

718 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

720 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

721 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

722 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

725 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

726 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

727 
__gnuc_va_li¡
 
__¬g
);

728 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

729 
__gnuc_va_li¡
 
__¬g
);

730 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

731 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

732 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

733 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

734 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

735 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

739 
__END_NAMESPACE_C99


743 
__BEGIN_NAMESPACE_STD


748 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

749 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

755 
wšt_t
 
	`g‘wch¬
 ();

762 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

763 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

769 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

777 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

778 
__FILE
 *
__»¡riù
 
__¡»am
);

784 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

785 
__FILE
 *
__»¡riù
 
__¡»am
);

792 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

793 
__END_NAMESPACE_STD


796 #ifdeà
__USE_GNU


804 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

805 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

813 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

821 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

830 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

831 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

840 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

841 
__FILE
 *
__»¡riù
 
__¡»am
);

849 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

850 
__FILE
 *
__»¡riù
 
__¡»am
);

854 
__BEGIN_NAMESPACE_C99


858 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

859 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

860 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

861 
__END_NAMESPACE_C99


863 #ifdeà
__USE_GNU


864 
	~<xloÿË.h
>

868 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

869 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

870 cÚ¡ 
tm
 *
__»¡riù
 
__
,

871 
__loÿË_t
 
__loc
è
__THROW
;

880 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


881 
	#__Ãed_iswxxx


	)

882 
	~<wùy³.h
>

886 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


887 
	~<b™s/wch¬2.h
>

890 #ifdeà
__LDBL_COMPAT


891 
	~<b™s/wch¬-ldbl.h
>

894 
__END_DECLS


902 #undeà
__Ãed_mb¡©e_t


903 #undeà
__Ãed_wšt_t


	@/usr/include/wctype.h

23 #iâdeà
_WCTYPE_H


25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 #iâdeà
__Ãed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__Ãed_wšt_t


	)

33 
	~<wch¬.h
>

37 #iâdeà
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #undeà
__Ãed_iswxxx


46 #iâdeà
__iswxxx_defšed


47 
	#__iswxxx_defšed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	twùy³_t
;

53 
	g__END_NAMESPACE_C99


55 #iâdeà
_ISwb™


60 
	~<’dŸn.h
>

61 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


62 
	#_ISwb™
(
b™
è(1 << (b™))

	)

64 
	#_ISwb™
(
b™
) \

65 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (è((1UL << (
b™
)è>> 24))))

	)

73 
	m__ISwuµ”
 = 0,

74 
	m__ISwlow”
 = 1,

75 
	m__ISw®pha
 = 2,

76 
	m__ISwdig™
 = 3,

77 
	m__ISwxdig™
 = 4,

78 
	m__ISw¥aû
 = 5,

79 
	m__ISw´št
 = 6,

80 
	m__ISwg¿ph
 = 7,

81 
	m__ISwbÏnk
 = 8,

82 
	m__ISwúŒl
 = 9,

83 
	m__ISwpunù
 = 10,

84 
	m__ISw®num
 = 11,

86 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

87 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

88 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

89 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

90 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

91 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

92 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

93 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

94 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

95 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

96 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

97 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

117 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

120 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

124 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

128 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

133 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

136 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

141 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

146 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

151 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

156 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

161 #ifdeà
__USE_ISOC99


162 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

171 
wùy³_t
 
	$wùy³
 (cÚ¡ *
__´İ”ty
è
__THROW
;

175 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 cÚ¡ 
	t__št32_t
 *
	twù¿ns_t
;

187 
__END_NAMESPACE_C99


188 #ifdeà
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

197 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifdeà
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
wù¿ns_t
 
	$wù¿ns
 (cÚ¡ *
__´İ”ty
è
__THROW
;

221 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifdeà
__USE_XOPEN2K8


226 
	~<xloÿË.h
>

230 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

236 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

239 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

243 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

247 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

252 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

255 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

260 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

265 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

270 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

275 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

280 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

284 
wùy³_t
 
	$wùy³_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

285 
__THROW
;

289 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

290 
__THROW
;

298 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

301 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

305 
wù¿ns_t
 
	$wù¿ns_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

306 
__THROW
;

309 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

310 
__loÿË_t
 
__loÿË
è
__THROW
;

314 
__END_DECLS


	@
1
.
1
/usr/include
89
2085
boot/i386/boot1.asm
boot/i386/bootloader.asm
kernel/arch/Main.c
kernel/arch/do_syscall.c
kernel/arch/i386/crset.asm
kernel/arch/i386/intr-stubs.S
kernel/arch/i386/io.asm
kernel/arch/i386/mem.asm
kernel/arch/i386/switch.S
kernel/arch/interrupt.c
kernel/arch/syscall.c
kernel/bitmap.c
kernel/device/block.c
kernel/device/console.c
kernel/device/device.c
kernel/device/ide.c
kernel/device/kbd.c
kernel/device/partition.c
kernel/device/pit.c
kernel/include/bitmap.h
kernel/include/ctype.h
kernel/include/debug.h
kernel/include/device/block.h
kernel/include/device/console.h
kernel/include/device/device.h
kernel/include/device/ide.h
kernel/include/device/io.h
kernel/include/device/kbd.h
kernel/include/device/partition.h
kernel/include/device/pit.h
kernel/include/do_syscall.h
kernel/include/interrupt.h
kernel/include/intr-stubs.h
kernel/include/inttypes.h
kernel/include/limits.h
kernel/include/list.h
kernel/include/loader.h
kernel/include/mem/malloc.h
kernel/include/mem/mm.h
kernel/include/mem/paging.h
kernel/include/mem/palloc.h
kernel/include/packed.h
kernel/include/proc/proc.h
kernel/include/proc/sched.h
kernel/include/proc/switch.h
kernel/include/round.h
kernel/include/ssulib.h
kernel/include/stdarg.h
kernel/include/stdbool.h
kernel/include/stddef.h
kernel/include/stdint.h
kernel/include/stdio.h
kernel/include/stdlib.h
kernel/include/string.h
kernel/include/synch.h
kernel/include/syscall.h
kernel/include/type.h
kernel/include/vaddr.h
kernel/list.c
kernel/mem/malloc.c
kernel/mem/mm.c
kernel/mem/paging.c
kernel/mem/palloc.c
kernel/proc/proc.c
kernel/proc/sched.c
kernel/ssulib.c
kernel/stdio.c
kernel/string.c
kernel/synch.c
kernel/vsprintk.c
/usr/include/ctype.h
/usr/include/inttypes.h
/usr/include/limits.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/syscall.h
/usr/include/alloca.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/stdc-predef.h
/usr/include/gconv.h
/usr/include/wchar.h
/usr/include/wctype.h
